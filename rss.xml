<?xml version="1.0" encoding="utf-8"?><rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Ray's Blog</title><link>https://raycoder.me/</link><description>Ray's Blog</description><generator>Hugo 0.74.3 https://gohugo.io/</generator><language>zh-CN</language><managingEditor>nn_201312@163.com (Ray)</managingEditor><webMaster>nn_201312@163.com (Ray)</webMaster><lastBuildDate>Sat, 16 Oct 2021 14:39:58 +0000</lastBuildDate><atom:link rel="self" type="application/rss+xml" href="https://raycoder.me/rss.xml"/><item><title>ç§»æ¤ä¸»é¢˜ä¸­</title><link>https://raycoder.me/status/porting-a-theme/</link><guid isPermaLink="true">https://raycoder.me/status/porting-a-theme/</guid><pubDate>Fri, 01 May 2020 21:55:41 +0800</pubDate><description><![CDATA[<h3 id="æ­£åœ¨ç§»æ¤wp-tonyä¸»é¢˜httpsgithubcomthemetonytony_wordpressæ–­æ›´å˜¿å˜¿">æ­£åœ¨ç§»æ¤<a href="https://github.com/ThemeTony/tony_wordpress"><code>WP-Tony</code>ä¸»é¢˜</a>ï¼Œæ–­æ›´å˜¿å˜¿</h3>
<h3 id="æ„Ÿå…´è¶£çš„å¯ä»¥å»åŸä½œè€…åšå®¢httpsouorzcomçœ‹çœ‹">æ„Ÿå…´è¶£çš„å¯ä»¥å»åŸä½œè€…åšå®¢<a href="https://ouorz.com">https://ouorz.com</a>çœ‹çœ‹ã€‚</h3>
<p>ç›®å‰å·²ç»å¤§éƒ¨åˆ†å®Œæˆäº†ï¼</p>
]]></description></item><item><title>æ­£åœ¨å¼€å‘åšå®¢ç³»ç»Ÿ</title><link>https://raycoder.me/status/working-on-a-blog-system/</link><guid isPermaLink="true">https://raycoder.me/status/working-on-a-blog-system/</guid><pubDate>Fri, 01 May 2020 21:55:41 +0800</pubDate><description>&lt;h1 id="å¼€å‘ä¸­ç»§ç»­å’•">å¼€å‘ä¸­ï¼Œç»§ç»­å’•&lt;/h1>
&lt;p>å¼€å‘æ—¥å¿—ï¼šhttps://mirror.raycoder.me/#/posts/9&lt;/p></description></item><item><title>æš‚åœæ›´æ–°</title><link>https://raycoder.me/p/pause-update/</link><guid isPermaLink="true">https://raycoder.me/p/pause-update/</guid><pubDate>Mon, 01 Feb 2021 10:54:23 +0800</pubDate><description>&lt;p>æœ¬åšå®¢ä»å³æ—¥èµ·æš‚åœæ›´æ–°ï¼ˆè™½ç„¶å·²ç»å’•äº†å¾ˆä¹…ï¼Œé€ƒ&lt;/p>
&lt;p>åšä¸»æ­£åœ¨å¼€å‘æ–°çš„åšå®¢ç³»ç»Ÿï¼Œå¼€å‘å®Œæˆåå°†æŠŠæœ¬åšå®¢è¿ç§»åˆ°æ–°ç³»ç»Ÿã€‚&lt;/p></description></item><item><title>å›¾åºŠçš„åƒå±‚å¥—è·¯</title><link>https://raycoder.me/p/hey-picbed/</link><guid isPermaLink="true">https://raycoder.me/p/hey-picbed/</guid><pubDate>Sun, 13 Sep 2020 14:57:39 +0800</pubDate><description><![CDATA[<blockquote>
<p>æœ¬æ–‡è½¬è‡ª<a href="https://blog.cyfan.top/p/eb490c73.html">é™ˆYFã®åšå®¢(ï¿£â–½ï¿£)&quot;</a></p>
</blockquote>
<p>2020å¹´8æœˆ9æ—¥<a href="https://github.com/jsdelivr/jsdelivr/pull/18247/files">Jsdelivrå‘å¸ƒäº†ä¸€æ¬¡ä½¿ç”¨æ”¿ç­–ï¼šCreate Acceptable Use Policy</a>ï¼Œå…¶ä¸­ç¬¬4æ¡Prohibited Useå¼•èµ·äº†ä¼—å¤šè®®è®ºï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">4. Prohibited Use

The following behavior is prohibited:

 1. Hosting or accessing content that:
     - contains malware or harmful code in any form,
     - violates proprietary rights of others,
     - is sexually explicit,
     - is potentially illegal in the EU or the USA.

 2. Abusing the service and its resources, or using jsDelivr as a general-purpose
    file or media hosting service. This includes, for example:
     - running an image hosting website and using jsDelivr as a storage for all
       uploaded images,
     - hosting videos, file backups, or other files in large quantities.

    We recognize that there are legitimate projects that consist of a large number
    of files, and these are not considered abuse. For example: icons packs, apps,
    or games with a large number of assets.Copy
</code></pre></div><p>å…¶ä¸­<code>running an image hosting website and using jsDelivr as a storage for all uploaded images</code> è¿™ä¸€å¥ç›¸å½“çš„æœ‰æ­§ä¹‰ï¼Œè¦å¤šå°‘çš„å›¾ç‰‡æ‰èƒ½ç®—æ˜¯å›¾ç«™ï¼Ÿåšå®¢é‡Œé¢å›¾ç‰‡æ”¾é‡Œé¢ç®—å—ï¼Ÿä¸Šä¼ çš„å›¾ç‰‡æ€æ ·æ‰ä¸è¡Œï¼Ÿ<a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/TlAGjm6IvJSMVpq.jpg"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/TlAGjm6IvJSMVpq.jpg" alt="img"></a></p>
<p>åè§‚ç½‘ä¸Šæµä¼ çš„ç™½å«–Githubåšå›¾åºŠï¼ŒåŸºæœ¬ç‚¹è¿›å»éƒ½æ˜¯<code>https://cdn.jsdelivr.net/gh/</code> è¿™æ ·å­çš„å›¾åºŠï¼Œè¿™ç§è¡Œä¸ºï¼Œæˆ‘ä¸æ•¢å¦„åŠ è¯„è®ºã€‚ä½†æ˜¯ï¼Œjsdelivrè¯ç”Ÿçš„æ„ä¹‰ä¼¼ä¹å¹¶ä¸æ˜¯ä¸ºäº†å›¾åºŠè€Œç”Ÿçš„ï¼Œè¿™ç§è¡Œä¸ºä¹Ÿå¾ˆéš¾åˆ¤æ–­æˆæ»¥ç”¨ã€‚<a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/5896ece29a8e0.jpg"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/5896ece29a8e0.jpg" alt="img"></a></p>
<p>ä½¿ç”¨æ”¿ç­–å‘å¸ƒä¹‹åï¼Œä¸€æ—¶é—´ï¼ŒQQç¾¤ã€v2exã€çŸ¥ä¹ä¸Šç«‹åˆ»å°±ç‚¸äº†é”…ã€‚å¾ˆå¤šäººçŒœæµ‹jsdelivræ˜¯ä¸æ˜¯æ»¥ç”¨è¿‡åº¦è€Œç¦æ­¢å°†å…¶ä½œä¸ºå›¾åºŠï¼Ÿå…è´¹å›¾åºŠçš„ç™½å«–æ—¥å­è¦ç»“æŸäº†å—ï¼Ÿæ›´å¤šçš„äººï¼Œæ˜¯åœ¨å“­è¯‰å’Œè¯¢é—®é‚£é‡Œè¿˜æœ‰åƒjsdä¸€æ ·ä¼˜ç§€çš„<strong>å›¾åºŠ</strong>å¯ä»¥ç™½å«–ï¼Œå¾®åšç‚¸äº†ï¼Œé‚£é‡Œè¿˜æœ‰å…è´¹å›¾åºŠå•Šï¼Ÿ</p>
<p>å®é™…ä¸Šï¼Œæˆ‘ä¸€èˆ¬é‡‡ç”¨çš„æ˜¯<code>BackBlaze+CloudFlare</code> ä½†æ˜¯è‡ªä»å…«æœˆåº•ç§»åŠ¨å¼€å§‹æ”¹é“ï¼Œä»åŸå…ˆä¼˜ç§€çš„CMIç»•è·¯LAXåï¼Œå›½å†…CloudFlareè®¿é—®è´¨é‡å†æ¬¡æš´è·Œï¼Œè¿™ä¸å¾—ä¸ä½¿æˆ‘å°†åšå®¢è¿è‡³Vercelã€‚å¥½åœ¨å…«æœˆä»½æˆ‘æœ‰å¹¸ç”³è¯·åˆ°äº†<code>doegdogeå›¾åºŠ</code>ä½¿ç”¨æƒé™ï¼Œè·å¾—äº†å›½å†…è¾ƒé«˜é€Ÿçš„å›¾åºŠ.</p>
<p>ä½†æ˜¯ï¼Œå¯¹äºå“ªäº›æ²¡æœ‰æ²¡æœ‰å›¾åºŠçš„äººæ¥è¯´ï¼Œå…è´¹å›¾åºŠçœŸçš„è¿™ä¹ˆéš¾ä»¥è·å¾—å—ï¼Ÿ</p>
<p>ä¸å¥½æ„æ€ï¼Œ<strong>å…è´¹å›¾åºŠéå¸¸å¤š</strong>ï¼Œåªæ˜¯ä½ ä¸ä¼šç”¨è€Œå·²ï¼Œè¿™ç¯‡æ–‡ç« ï¼Œå°±æ˜¯æ‹¯æ•‘é¢å‰é™·å…¥å›¾åºŠå±æœºçš„ä½ ã€å½“ç„¶æ˜¯é¢å‘å°ç™½ï¼Œå¤§ä½¬ä¹Ÿå¯ä»¥åœ¨åº•ä¸‹ç»™æˆ‘ææ„è§é¸­ã€‘ã€‚<a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/stick_56.png"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/stick_56.png" alt="img"></a></p>
<h1 id="å…¬ç›Šå›¾åºŠ">å…¬ç›Šå›¾åºŠ</h1>
<h2 id="smms">sm.ms</h2>
<p><a href="https://sm.ms/">https://sm.ms</a></p>
<p>æ¨èç¨‹åº¦ï¼šâ˜…</p>
<p>é¦–å…ˆæ¨èçš„æ˜¯è¿™ä¸ªå›¾åºŠï¼Œloli.netåŸŸåç»å…¸é‡ç°ã€‚ä¸‰å¹´å‰æ­¤å›¾åºŠåŸŸåè¿˜æœ‰å¤‡æ¡ˆé‡‡ç”¨çš„æ˜¯å›½å†…CDNï¼Œå¯æƒœåæ¥å› ä¸ºæ»¥ç”¨åŠé”€å¤‡æ¡ˆå·è€Œè¢«è¿«è¿ç§»å›½å¤–ï¼Œç”¨çš„æ˜¯CloudFlareã€‚å®é™…ä½¿ç”¨æ•ˆæœé¢å‘å›½å†…ç¡®å®ä¸å¤ªå¥½ï¼Œå»ºè®®å¤‡ç”¨ã€‚</p>
<p>ä½ ä¸éœ€è¦æ³¨å†Œï¼Œæ‹–æ‹½ç›´æ¥ä¸Šä¼ ï¼Œåªè¦ä¸è¿åå¤§é™†å’Œé¦™æ¸¯æ³•å¾‹ï¼Œä»–å°±èƒ½æ°¸ä¹…ä¿ç•™ä½ çš„å›¾ç‰‡</p>
<p><a href="https://i.loli.net/2020/09/12/OxvnMBwd3VA8uyD.jpg"><img src="https://i.loli.net/2020/09/12/OxvnMBwd3VA8uyD.jpg" alt="img"></a></p>
<p>å¯æ­é…PicGo</p>
<h2 id="imgur">Imgur</h2>
<p><a href="https://imgur.com/">https://imgur.com</a></p>
<p>æ¨èç¨‹åº¦ï¼šâ˜…â˜…</p>
<p>å›½å¤–ä¸€å®¶ç‰›é€¼çš„å›¾ç‰‡æ‰˜ç®¡æœåŠ¡å•†ï¼Œä½ å¯ä»¥é€‰æ‹©æ³¨å†Œæˆ–ä¸æ³¨å†Œï¼ŒåŒæ ·çš„ï¼Œæ‹–æ‹½ä¸Šä¼ ï¼Œæ°¸ä¹…ä¿ç•™ï¼Œå…¶SLAæœ‰ç€ç›¸å½“é«˜çš„ä¿è¯ã€‚</p>
<p>ç„¶è€Œå¾ˆå¯æƒœçš„æ˜¯ï¼Œè¿™ç§ç½‘ç«™å¾ˆæ—©å°±åœ¨å›½å†…è¢«<strong>DNSåŸŸåæ±¡æŸ“</strong>ï¼Œä¹Ÿå°±æ„å‘³ç€è®¿å®¢æ— æ³•æ­£å¸¸åŠ è½½ä½ çš„å›¾ç‰‡ã€‚è¿™ä¹Ÿå°±æ˜¯è¢«æ‰“ä¸ºä¸¤é¢—æ˜Ÿçš„åŸå› ã€‚<a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/%E4%B8%8D%E8%AF%B4%E8%AF%9D.png"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/%E4%B8%8D%E8%AF%B4%E8%AF%9D.png" alt="img"></a></p>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡<a href="https://blog.cyfan.top/2020/09/12/hey-picbed/#%E5%9B%BE%E5%83%8F%E7%BC%93%E5%AD%98%E6%9C%8D%E5%8A%A1">#å›¾åƒç¼“å­˜æœåŠ¡</a> ä»è€Œå®ç°å›½å†…è®¿é—®ã€‚</p>
<p>å¯æ­é…PicGoã€éœ€æ³¨å†Œã€‘</p>
<h2 id="å»ä¸å›¾åºŠ">å»ä¸å›¾åºŠ</h2>
<p><a href="https://7bu.top/">https://7bu.top/</a></p>
<p>æ¨èç¨‹åº¦ï¼šï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p>
<p>ç”±<a href="https://dusays.com/241/">æœè€å¸ˆ</a>æä¾›çš„ä¸ªäººå…¬ç›Šå›¾åºŠï¼Œå­˜å‚¨äºé˜¿é‡Œå’Œè…¾è®¯çš„COSï¼Œå®˜æ–¹ä¿è¯SLA&gt;=99%ï¼Œæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œå½“ç„¶ï¼Œ7buæ¯•ç«Ÿæ˜¯ä¸ªäººç»´æŠ¤çš„å›¾åºŠï¼Œèƒ½ä¸èƒ½æ°¸ä¹…æ’‘ä¸‹å»è¿˜æ˜¯ä¸ªé—®é¢˜ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰åšè¿‡æ·±åº¦è¯„æµ‹ï¼Œæ— æ³•è¡¨æ˜å…¶å¯ç”¨æ€§ã€‚</p>
<p>å¯æ­é…PicGoã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">æ¥å£åœ°å€ï¼šhttps://7bu.top/upload/upload.html
postå‚æ•°ï¼šimage
å›è°ƒjsonï¼šdata.urlCopy
</code></pre></div><blockquote>
<p>è€Œä¸”ï¼Œå°±åœ¨æˆ‘ä¸Šä¼ æµ‹è¯•å›¾ç‰‡çš„æ—¶å€™ï¼Œæ˜æ˜å·²ç»è¡¨æ˜å›¾ç‰‡å·²ç»ä¸Šä¼ ï¼Œæ‰“å¼€å´å‘ç°COSæç¤º404ï¼Œè¿™ä¸€ç‚¹æˆ‘ä¸å¾—é™·å…¥æ€è€ƒï¼Œä¸ªäººç»´æŒçš„å…¬ç›Šé¡¹ç›®çœŸçš„èƒ½ä¿è¯SLAå—ï¼Ÿ<a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/%E4%BE%BF%E4%BE%BF.png"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/%E4%BE%BF%E4%BE%BF.png" alt="img"></a></p>
</blockquote>
<h1 id="ç™½å«–çš„">ç™½å«–çš„</h1>
<h2 id="é˜¿é‡Œå›¾åºŠ">é˜¿é‡Œå›¾åºŠ</h2>
<p>æ¨èç¨‹åº¦ï¼šâ˜…â˜…â˜…â˜…</p>
<p>æˆ‘ä¸ªäººæ­å»ºçš„APIï¼š<a href="https://picbed.cyfan.top/">https://picbed.cyfan.top</a> ä¸ä¿è¯ä¸Šä¼ SLA<a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/5c53ce897ab55.jpg"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/5c53ce897ab55.jpg" alt="img"></a></p>
<p>ç”±äºå°é¸¡è”é€šå›½å†…ç½‘ç»œä¸å¤ªå¥½ï¼Œå¾ˆæœ‰å¯èƒ½æ— æ³•æ­£å¸¸ä¸Šä¼ ï¼Œ<a href="https://github.com/ChenYFan-Tester/Alibaba_pic">åŸé¡¹ç›®å·²ç»å¼€æº</a> ï¼Œä½ å®Œå…¨å¯ä»¥é€šè¿‡åœ¨å›½å†…çš„æœºå­æˆ–è€…æ˜¯æœ¬åœ°æ­å»ºä»¥è·å¾—æ›´ä½³ä½“éªŒã€‚</p>
<p>å¦‚æœä¸Šä¼ æˆåŠŸäº†ï¼Œå›¾ç‰‡å°†ä¼šæ‰˜ç®¡äºé˜¿é‡Œäº‘çš„CDNï¼Œæ— è®ºæ˜¯é€Ÿåº¦è¿˜æ˜¯å»¶è¿Ÿéƒ½ç›¸å½“çš„ä¼˜ç§€ã€‚</p>
<p>å®˜æ–¹å¤§å‚ï¼Œä¸‹è½½SLAæœ‰ä¿éšœã€‚</p>
<p>å¯æ­é…PicGoã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">æ¥å£åœ°å€ï¼šhttps://picbed.cyfan.top/update.php
postå‚æ•°ï¼šfile
å›è°ƒjsonï¼šdata.urlCopy
</code></pre></div><h2 id="dogedogeå›¾åºŠ">DogeDogeå›¾åºŠ</h2>
<p>æ¨èç¨‹åº¦ï¼šâ˜…â˜…â˜…â˜…â˜…</p>
<p><a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/20200912192303.jpg"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/20200912192303.jpg" alt="TEST"></a></p>
<p>å…¶å®å¾ˆæ—©å°±çœ‹åˆ°<a href="https://v2ex.com/t/659652">V2EXçš„é‚£ç¯‡å¾æ–‡äº†</a>ï¼š</p>
<p><a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/20200912190301.png?q=45"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/20200912190301.png?q=45" alt="img"></a></p>
<p>å¯æ˜¯å½“æ—¶æˆ‘ä¸å¤Ÿä¼˜ç§€å•Šè™½ç„¶ç°åœ¨åŒæ ·ä¸ä¼˜ç§€ï¼Œåšå®¢ä¹Ÿæ²¡æ»¡ä¸€å¹´å•Šï¼Œäºæ˜¯ç™½å«–çš„å¿ƒæ€ææµ…äº†ã€‚<a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/5896e8a408253.jpg"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/5896e8a408253.jpg" alt="img"></a></p>
<p>åæ¥çªç„¶çœ‹åˆ°<a href="https://blog.jalenchuh.cn/">Jalençš„åšå®¢</a>ä¹Ÿç”¨äº†DogeDogeå›¾åºŠï¼Œè¿™æ‰çªç„¶æ„è¯†åˆ°åŸæ¥æˆ‘å·²ç»æ»¡ä¸€å¹´äº†ã€‚äºæ˜¯æŠ±ç€è¯•è¯•çœ‹çš„å¿ƒæ€å‘dogeå®˜æ–¹é‚®ç®±å‘é€äº†é‚®ä»¶ï¼Œç»“æœçœŸè¿‡äº†ã€‚ã€‚ã€‚</p>
<p>dogedogeæ‹¥æœ‰ç€å›½å†…ç›¸å½“ä¸é”™çš„CDNï¼Œå›½å†…è®¿é—®é£å¿«ï¼Œä½†æ˜¯å›½å¤–çš„è®¿é—®è´¨é‡çš„ç¡®ä¸å¦‚äººæ„ã€‚ã€åæ­£æ­¤åšå®¢é¢å‘ä¸­å›½å¤§é™†ã€‘</p>
<p>è€Œä¸”ï¼ŒDogeDogeæ‹¥æœ‰ç€å¾ˆè‰¯å¿ƒçš„å¤„ç†å‚æ•°ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">wï¼šå®½
hï¼šé«˜
modeï¼šæ¨¡å¼ - crop è£å‰ªã€clip ç¼©ç•¥
fmtï¼šæ ¼å¼ - jpgã€pngã€webpï¼ˆåŸå›¾ä¸º gifï¼Œä¸”æ²¡æœ‰ frame å‚æ•°æ—¶ï¼Œä¸åšä»»ä½•è£åˆ‡ã€ç¼©ç•¥å¤„ç†ï¼‰
frameï¼š1 - EOFå¸§ï¼Œé»˜è®¤ä¸º 1 ï¼ˆå¯¹åŠ¨ç”»æœ‰æ•ˆï¼‰
qï¼šå‹ç¼©è´¨é‡ - 1 - 100ï¼ˆé»˜è®¤ 90 ï¼‰
rectï¼šæŒ‡å®šä½ç½®è£å‰ª - top,left,w,hï¼ˆè‹¥ä¸ w / h å‚æ•°åŒæ—¶å­˜åœ¨ï¼Œåˆ™ ä¼šåœ¨ rect è£å‰ªè¿‡åï¼Œç»§ç»­æŒ‰ç…§ w / h çš„è¦æ±‚ç¼©ç•¥ï¼‰
posï¼šï¼ˆé…åˆ w / h ï¼‰è£å‰ªä½ç½® - top-leftã€topã€top-rightã€leftã€centerã€rightã€bottom-leftã€bottomã€bottom-rightï¼Œé»˜è®¤ä¸ºcenter
pos è¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å€¼ autoï¼Œè¯¥å€¼ç›®å‰ä¸º alpha çŠ¶æ€ï¼Œå¯ä»¥æ ¹æ®å›¾ç‰‡é‡ç‚¹æ¥è¿›è¡Œ pos çš„ä½ç½®å–èˆã€‚Copy
</code></pre></div><p>å½“ç„¶ï¼ŒDogeDogeä¹Ÿå¯ä»¥æ­é…PicGoä½¿ç”¨ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">æ¥å£åœ°å€ï¼šhttps://www.dogedoge.com/tools/upload/{Your_Token}
postå‚æ•°ï¼šfile
å›è°ƒjsonï¼šdata.o_urlCopy
</code></pre></div><p>å½“ç„¶ï¼Œç°åœ¨çš„Dogeå›¾åºŠè¿˜æ˜¯å¤„äºå…è´¹çš„è¯•ç”¨æœŸã€Createrã€‘ï¼Œä¸è¿‡å¥½åœ¨è¯•ç”¨æœŸè¿‡åä»·æ ¼ä¹Ÿæ¯”è¾ƒåˆç†ï¼Œä¸€èˆ¬çš„testerä¹Ÿè¶³å¤Ÿä½¿ç”¨ï¼Œç›®å‰çœ‹æ¥SLAè¿˜æ˜¯ä¸é”™çš„ã€‚</p>
<p>å½“ç„¶ï¼Œç”³è¯·ä¸åˆ°dogedogeå›¾åºŠä¹Ÿæ²¡å…³ç³»ï¼Œçœ‹ä¸‹å»ä½ å°±ä¼šå‘ç°ï¼Œç™½å«–çš„è·¯åƒåƒä¸‡ä¸‡ï¼Œä½•å¿…æ‰§ç€äºä¸€æ¡ã€‚<a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/stick_34.png"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/stick_34.png" alt="img"></a></p>
<p><a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/20200912205753.png?q=45"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/20200912205753.png?q=45" alt="img"></a></p>
<h2 id="backblaze">BackBlaze</h2>
<p>æ¨èç¨‹åº¦ï¼šâ˜…â˜…â˜…</p>
<p>å…·ä½“å¯ä»¥çœ‹çœ‹<a href="https://blog.cyfan.top/2020/07/09/free-10GB-oss-poweredby-backblaze/">è¿™ç¯‡æ–‡ç« </a></p>
<h2 id="åƒå¥‡ç™¾æ€ªçš„">åƒå¥‡ç™¾æ€ªçš„</h2>
<h2 id="githubjsdelivr">Github+JSDelivr</h2>
<p>æ­£å¦‚æˆ‘æ‰€è¯´çš„ï¼Œè¿™ç§ç»„åˆå·²ç»è¢«å¹¿å¤§åšä¸»æ‰€é‡‡çº³ï¼Œå¹¶ä¸”ç½‘ä¸Šæ•™ç¨‹å·²ç»æ³›æ»¥äº†ï¼Œåœ¨è¿™é‡Œä¸å†é˜è¿°ã€‚</p>
<h2 id="npmjsdelivrzhimgbdstatic">npm+JSDelivr&amp;&amp;Zhimg&amp;&amp;bdstatic</h2>
<p>æ¨èç¨‹åº¦ï¼šâ˜…â˜…â˜…â˜…â˜…</p>
<p>ä¸ºä»€ä¹ˆå¾ˆå¤šæ–‡ç« éƒ½æ²¡æœ‰æåˆ°ç”¨npmåšå›¾åºŠï¼Ÿæˆ‘æƒ³å…¶ä¸­å¾ˆå¤§çš„åŸå› æ˜¯ï¼Œç™½å«–jsdåšå›¾åºŠçš„ï¼Œå¾ˆå¤šéƒ½æ˜¯å°ç™½ã€æˆ–è€…ä¸æ„¿èŠ±æ—¶é—´åœ¨äºæ­¤çš„å¤§ä½¬ã€‘ï¼ŒåŒæ ·çš„ï¼Œè¿™äº›æ–‡ç« é¢å‘çš„éƒ½æ˜¯è¿™äº›äººï¼Œæ¯•ç«Ÿï¼Œä»¥æ‹–æ‹½æ–¹å¼ä¸Šä¼ çš„Githubå’Œå‘½ä»¤è¡Œæ–¹å¼ä¸Šä¼ ï¼Œæˆ‘æƒ³ï¼Œå¤§éƒ½æ•°äººä¼šé€‰æ‹©å‰è€…å§ã€‚</p>
<p>å¯æ˜¯ï¼Œä½ ä»¬æ²¡æœ‰æƒ³åˆ°çš„æ˜¯ï¼Œgithubæ–‡ä»¶é•œåƒã€github.com.cnpmjs.orgæ˜¯ç«™ç‚¹é•œåƒã€‘åªæœ‰jsdä¸€ä¸ªï¼Œnpmé•œåƒå¯è¿œè¿œä¸æ­¢è¿™ä¸€ä¸ªå•Šï¼</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹åˆ†åˆ«é•œåƒåœ¨jsdã€zhimgã€bdstaticçš„æ–‡ä»¶æ€ä¹ˆæ ·ï¼š</p>
<p><a href="https://cdn.jsdelivr.net/npm/chenyfan-oss@0.0.1/1.jpg"><img src="https://cdn.jsdelivr.net/npm/chenyfan-oss@0.0.1/1.jpg" alt="img"></a></p>
<p><a href="https://unpkg.zhimg.com/chenyfan-oss@0.0.1/2.jpg"><img src="https://unpkg.zhimg.com/chenyfan-oss@0.0.1/2.jpg" alt="img"></a></p>
<p><a href="https://code.bdstatic.com/npm/chenyfan-oss@0.0.1/3.jpg"><img src="https://code.bdstatic.com/npm/chenyfan-oss@0.0.1/3.jpg" alt="img"></a></p>
<p>ã€unpkgé•œåƒç”¨çš„æ˜¯CloudFlareï¼Œå›½å†…åŠ é€Ÿæ•ˆæœä¸å¥½ï¼Œæš‚æ—¶ä¸å†™ã€‘</p>
<p>jsdå°±ä¸å¿…å¤šè¯´äº†ï¼Œå›½å†…æ‹¥æœ‰å¼ºåŠ²çš„ç½‘å®¿èŠ‚ç‚¹æ”¯æ’‘ã€è™½ç„¶ä»¥å‰å‡ºç°è¿‡ç½‘å®¿ä¸‹æ¸¸æŠ•æ¯’ã€‘ï¼Œé€Ÿåº¦ä¸æ»‘æ— æ¯”ï¼Œå›½å¤–ä¹Ÿæœ‰å¼ºåŠ²çš„CloudFlareä¸Šå²—ï¼Œå¯è°“å›½å†…å¤–ä¸¤ä¸è¯¯ã€‚è€Œä¸”ï¼Œjsdå¯¹äºnpmçš„packageå•æ–‡ä»¶æ²¡æœ‰å¤§å°é™åˆ¶ï¼Œä¹Ÿå°±æ˜¯è¯´æ³¡ä¸ªè§†é¢‘ä¹Ÿä¸æ˜¯é—®é¢˜ã€‚</p>
<p>zhimgæ˜¯çŸ¥ä¹çš„unpkgé•œåƒï¼Œä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€é˜¿é‡ŒCDNã€‘ï¼ŒçŸ¥ä¹å®˜æ–¹ä¹Ÿæœªå¯¹æ­¤åšå‡ºé™åˆ¶ï¼Œæ—¥å¸¸ä½¿ç”¨æ˜¯å¯ä»¥çš„ã€‚</p>
<p>bdstaticæ˜¯ç™¾åº¦çš„å†…ç”¨npmé•œåƒï¼Œé€Ÿåº¦ä¹Ÿå¾ˆå¥½ã€ç™¾åº¦CDNã€‘ï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼Œbdstaticä½œä¸ºå†…ç”¨cdnï¼Œå…¶æ‹‰å–é¢‘ç‡è¾ƒæ…¢ï¼Œç»å¸¸å‡ºç°æ— æ³•åŠæ—¶æ›´æ–°ã€‚</p>
<p>å•Šå“ˆï¼Ÿä¸ä¼šä¸Šä¼ ï¼Ÿ
<a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/stick_31.png"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/stick_31.png" alt="img"></a>å»<a href="https://npmjs.org/">npm</a>
å®˜ç½‘æ³¨å†Œä¸ªè´¦å·å»,ç„¶åå…ˆï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">npm loginCopy
</code></pre></div><p>æ¥ç€ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">npm init
npm publishCopy
</code></pre></div><p>è¯·æ³¨æ„ï¼Œå¦‚æœä½ ä¹‹å‰ç”¨è¿‡æ·˜å®é•œåƒï¼Œé‚£ä¹ˆè¯·å…ˆæ‰‹åŠ¨åˆ‡å›æºï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">npm config set registry https://registry.npmjs.orgCopy
</code></pre></div><p>æ¯ä¸€æ¬¡å‘å¸ƒå›¾ç‰‡åï¼Œä½ å¯ä»¥å°†åŸæ¥çš„å›¾ç‰‡åˆ é™¤ï¼Œæ›´æ”¹<code>package.json</code> ç‰ˆæœ¬å·ã€å‘ä¸Šå¢åŠ ã€‘,ç„¶å<code>npm publish</code>å³å¯</p>
<p>è¿™ä¸ªä¼¼ä¹å¯ä»¥æ­é…picgoï¼Œä¸è¿‡å¥½åƒæ²¡è¿™ä¸ªæ’ä»¶ï¼Œå†™èµ·æ¥ä¹Ÿéº»çƒ¦ã€‚ã€‚ã€‚</p>
<p>unpkgçš„å›½å†…é•œåƒå…¶å®è¿œè¿œä¸æ­¢è¿™äº›ï¼ŒåŒ…æ‹¬ä¸ƒç‰›ã€é¥¿äº†ä¹ˆã€è…¾è®¯éƒ½æœ‰ï¼Œä¸è¿‡è¿™ä¸ªå°±è¦è‡ªå·±æ‰¾äº†ã€‚<a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/7DgSoyqwtYBxchE.jpg"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/7DgSoyqwtYBxchE.jpg" alt="img"></a></p>
<h2 id="ipfs">ipfs</h2>
<p>æˆ‘æ›¾ç»<a href="https://blog.cyfan.top/2020/04/07/IPFS-CloudFlare-ServerLessWebPage/">å†™è¿‡å…³äºipfsçš„è®²è§£</a> ,ä½œä¸ºä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„å­˜å‚¨ç³»ç»Ÿæ‹¿æ¥åšå…¬å¼€å›¾åºŠå…¶å®æŒºä¸é”™çš„ã€‚</p>
<p>æˆ‘ä¸ªäººæ­å»ºçš„ipfsé•œåƒã€æ‰˜ç®¡äºCloudFlareWorkersã€‘ï¼š<a href="https://ipfs.cyfan.top/">https://ipfs.cyfan.top</a> <a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/5c53d78c3f4a5.jpg"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/5c53d78c3f4a5.jpg" alt="img"></a></p>
<p>æˆ‘ä¸ªäººæ­å»ºçš„ipfsä¸Šä¼ APIï¼š<a href="https://ipfsupload.cyfan.top/">https://ipfsupload.cyfan.top</a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">æ¥å£åœ°å€ï¼šhttps://ipfsupload.cyfan.top/api/v0/add?pin=true
postå‚æ•°ï¼šfile
å›è°ƒjsonï¼šHashCopy
</code></pre></div><blockquote>
<p>æ­¤å¤„Hashè·å¾—çš„æ˜¯æ–‡ä»¶çš„Qmhashï¼Œä½ è¿˜è¦ä¾æ‰˜ipfsé•œåƒï¼Œå¦‚https://ipfs.cyfan.top/ipfs/{QmHash}</p>
</blockquote>
<p><a href="https://ipfs.cyfan.top/ipfs/QmctXmCyxkN72nzoHMAgw1geR7u9XvK7sLo72W4bDZsCm2"><img src="https://ipfs.cyfan.top/ipfs/QmctXmCyxkN72nzoHMAgw1geR7u9XvK7sLo72W4bDZsCm2" alt="img"></a></p>
<p>é¡ºä¾¿æ”¶å½•ä¸€äº›ipfsç½‘å…³ã€å¯è®¿é—®ã€‘ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">ã€åŒ—äº¬ é˜¿é‡Œäº‘ã€‘https://hashnews.k1ic.com/
ã€é¦™æ¸¯ é˜¿é‡Œäº‘ã€‘https://ipfs.jbb.one/
ã€ç¾å›½ DigitalOceanã€‘https://ipfs.telos.miami/
ã€Amazonã€‘https://ipfs.oceanprotocol.com/Copy
</code></pre></div><p>ä½ å¯ä»¥åœ¨https://ipfs.github.io/public-gateway-checker/æ‰¾åˆ°æ›´å¤š</p>
<h1 id="å›¾ç‰‡ç¼“å­˜æœåŠ¡">å›¾ç‰‡ç¼“å­˜æœåŠ¡</h1>
<p>æ­£å¦‚<a href="https://blog.cyfan.top/2020/09/12/hey-picbed/##Imgur">##Imgur</a>æ‰€è¯´çš„ï¼Œimguråœ¨å›½å†…å·²ç»æ— æ³•è®¿é—®äº†ï¼Œä½†æ˜¯ï¼Œå›¾ç‰‡ç¼“å­˜æœåŠ¡å¯ä»¥å•Šï¼</p>
<p><a href="https://search.pstatic.net/common/?src=https://i.imgur.com/Usdr0IT.jpg"><img src="https://search.pstatic.net/common/?src=https://i.imgur.com/Usdr0IT.jpg" alt="img"></a></p>
<p>æ”¶é›†äº†ä¸€äº›å›¾ç‰‡ç¼“å­˜æœåŠ¡ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">ã€å›½å†…ç½‘å®¿èŠ‚ç‚¹ï¼Œåªèƒ½åŠ è½½ç‰¹å®šå›¾åºŠå›¾ç‰‡å¦‚imgurã€‘https://search.pstatic.net/common/?src=
ã€AkamaièŠ‚ç‚¹ï¼Œæ²¡æœ‰ä½¿ç”¨é™åˆ¶ã€‘https://imageproxy.pimg.tw/resize?url=
ã€CloudFlareèŠ‚ç‚¹ã€‘https://images.weserv.nl/?url=
ã€CloudFlareèŠ‚ç‚¹ã€‘https://pic1.xuehuaimg.com/proxy/Copy
</code></pre></div><h1 id="picgoçš„æ­é…ä½¿ç”¨">PicGoçš„æ­é…ä½¿ç”¨</h1>
<p>PicGoé»˜è®¤å·²ç»é›†æˆäº†éƒ¨åˆ†å›¾åºŠï¼Œå…¶æ‹–æ‹½ä¸Šä¼ ã€è‡ªåŠ¨å¤åˆ¶å‰ªè´´æ¿å®åœ¨èµ¢å¾—äº†æ— æ•°äººçš„å¿ƒã€‚ä½†æ˜¯ï¼Œå¯¹äºä¸€äº›å†·é—¨çš„å›¾åºŠæ”¯æŒä¼¼ä¹å°±ä¸å¤ªå¥½ï¼Œè¿™æ—¶å€™ä½ éœ€è¦ç”¨è‡ªå®šä¹‰webå›¾åºŠå®ç°è¿™ä¸€åˆ‡ï¼š</p>
<p><a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/20200912205225.png?q=45"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/20200912205225.png?q=45" alt="img"></a></p>
<p>æˆ‘åœ¨ä¸Šæ–¹ä»‹ç»çš„å›¾åºŠå¦‚æœæ”¯æŒwebç«¯ä¸Šä¼ ï¼ŒåŸºæœ¬ä¸Šå°±ä¼šå†™ä¸€ä¸ªpostè¯·æ±‚ï¼Œä½ å¯ä»¥ä¾è‘«èŠ¦ç”»ç“¢å¡«å†™è¿›å»</p>
<p><a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/20200912205449.png?q=45"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/20200912205449.png?q=45" alt="img"></a></p>
<p>è¿™æ ·å­ä½ å°±å¯ä»¥å®ç°è¾ƒä¸ºä¸æ»‘çš„ä¸Šä¼ å›¾ç‰‡äº†ï¼š</p>
<p><a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/20200912210009.jpg?q=45"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/20200912210009.jpg?q=45" alt="img"></a></p>
<p><a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/20200912210420.gif?q=45"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/20200912210420.gif?q=45" alt="img"></a></p>
<p>ã€ä¸ºäº†å‹ç¼©æ–¹ä¾¿åˆ é™¤äº†éƒ¨åˆ†å¸§ã€‘</p>
<h1 id="åè¨€">åè¨€</h1>
<p>å®é™…ä¸Šæœ€ä¿é™©çš„è«è¿‡äºä½¿ç”¨å„å¤§å‚å•†çš„å¯¹è±¡å­˜å‚¨ï¼Œå½“ç„¶è¿™ç¬”é’±ä¸å¤§å¥½ä½¿ã€‚
ä½ ä¹Ÿå¯ä»¥ç”¨è‡ªå·±çš„VPSæ­å»ºCheveretoï¼Œå½“ç„¶å‰ææ˜¯ä½ æœ‰VPS<a href="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/5c53de1a4d14d.gif"><img src="https://rmt.dogedoge.com/fetch/hi-c-oss/storage/5c53de1a4d14d.gif" alt="img"></a></p>]]></description><category domain="https://raycoder.me/categories/%E5%8D%9A%E5%AE%A2/">åšå®¢</category><category domain="https://raycoder.me/tags/%E5%9B%BE%E5%BA%8A/">å›¾åºŠ</category><category domain="https://raycoder.me/tags/%E5%8D%9A%E5%AE%A2/">åšå®¢</category></item><item><title>Vueä¸­çš„{ __ob__: Observer }é—®é¢˜è§£å†³</title><link>https://raycoder.me/p/vue-ob-observer-problem/</link><guid isPermaLink="true">https://raycoder.me/p/vue-ob-observer-problem/</guid><pubDate>Fri, 21 Aug 2020 07:47:32 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<p>åœ¨Vueçš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸æœ‰å¼‚æ­¥è·å–æ•°æ®çš„æƒ…å†µï¼Œåœ¨æ²¡æœ‰æ•°æ®çš„æ—¶å€™ä½¿ç”¨éª¨æ¶è£…è½½å™¨ï¼ˆ<code>Skeleton Loader</code>ï¼Œç›´è¯‘ï¼‰å ä½ï¼Œæ¯”å¦‚ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span>&gt;
    &lt;<span style="color:#f92672">div</span>&gt;
        &lt;<span style="color:#f92672">v-row</span>&gt;
            &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">v-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;books&#34;</span>&gt;
            &lt;/<span style="color:#f92672">template</span>&gt;
            &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">v-else</span>&gt;
                &lt;<span style="color:#f92672">v-card</span>
                    <span style="color:#a6e22e">min-width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;344&#34;</span>
                    <span style="color:#a6e22e">min-height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;286&#34;</span>
                    <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mx-4&#34;</span>
                &gt;
                    &lt;<span style="color:#f92672">v-skeleton-loader</span>
                        <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mx-auto&#34;</span>
                        <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;card, list-item&#34;</span>
                    &gt;&lt;/<span style="color:#f92672">v-skeleton-loader</span>&gt;
                &lt;/<span style="color:#f92672">v-card</span>&gt;
            &lt;/<span style="color:#f92672">template</span>&gt;
        &lt;/<span style="color:#f92672">v-row</span>&gt;
    &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;HomePage&#39;</span>,
        <span style="color:#a6e22e">data</span> () {
            <span style="color:#66d9ef">return</span> {
                <span style="color:#a6e22e">books</span><span style="color:#f92672">:</span> []
            }
        },
        <span style="color:#a6e22e">components</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">Item</span>
        },
        <span style="color:#a6e22e">mounted</span> () {
            document.<span style="color:#a6e22e">title</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Leanbook - Index&#39;</span>
            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">$store</span>.<span style="color:#a6e22e">dispatch</span>(<span style="color:#e6db74">&#39;mock/getBooksData&#39;</span>)
        }
    }
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><p>ç„¶åé€šè¿‡axiosä¹‹ç±»çš„å¼‚æ­¥åº“ï¼ˆVuexï¼‰æ¥è·å–æ•°æ®ã€‚</p>
<p>å˜¶ï¼Œç„¶åï¼Œå‡ºé—®é¢˜äº†ã€‚</p>
<p><code>Skeleton Loader</code>æ²¡æ˜¾ç¤ºå•Šï¼</p>
<p>æˆ‘ä»¬æ¥æ‰“å°ä¸€ä¸‹<code>books</code>ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">books</span>)
<span style="color:#f92672">&lt;</span> { <span style="color:#a6e22e">__ob__</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">Observer</span> }
</code></pre></div><p>å¥½å§ï¼ŒåŸæ¥Vueä¸ºäº†ç›‘è§†æ•°å€¼çš„å˜åŒ–åŠ äº†ä¸€ä¸ª<code>Observer</code>ï¼Œè¿™ä¼šå¯¼è‡´åˆ¤æ–­å‡ºæ¥â€œæ•°ç»„æœ‰å€¼â€ã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å°±æœ‰æ€è·¯äº†ï¼Œç”¨<code>JSON.stringify</code>æ¥ç›‘æµ‹è¿™ä¸ªæ•°ç»„æ˜¯ä¸æ˜¯ç©ºæ•°ç»„ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">template</span>&gt;
    &lt;<span style="color:#f92672">div</span>&gt;
        &lt;<span style="color:#f92672">v-row</span>&gt;
            &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">v-if</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;JSON.stringify(books) !== &#39;[]&#39;&#34;</span>&gt;
            &lt;/<span style="color:#f92672">template</span>&gt;
            &lt;<span style="color:#f92672">template</span> <span style="color:#a6e22e">v-else</span>&gt;
                &lt;<span style="color:#f92672">v-card</span>
                    <span style="color:#a6e22e">min-width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;344&#34;</span>
                    <span style="color:#a6e22e">min-height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;286&#34;</span>
                    <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mx-4&#34;</span>
                &gt;
                    &lt;<span style="color:#f92672">v-skeleton-loader</span>
                        <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;mx-auto&#34;</span>
                        <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;card, list-item&#34;</span>
                    &gt;&lt;/<span style="color:#f92672">v-skeleton-loader</span>&gt;
                &lt;/<span style="color:#f92672">v-card</span>&gt;
            &lt;/<span style="color:#f92672">template</span>&gt;
        &lt;/<span style="color:#f92672">v-row</span>&gt;
    &lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;
</code></pre></div><blockquote>
<p>ç½‘ä¸Šçš„æ•™ç¨‹éƒ½æ˜¯ä½¿ç”¨<code>JSON.parse(JSON.stringfy())</code>æ¥å–å€¼ï¼Œç›¸å½“äºæ·±æ‹·è´ã€‚ä½†æ˜¯æˆ‘ä»¬è¿™é‡Œçš„å€¼å¯èƒ½ä¼šå˜åŠ¨ï¼Œæ‰€ä»¥ä¸èƒ½æ·±æ‹·è´ï¼Œåªèƒ½ä½¿ç”¨<code>JSON.stringify()</code>ã€‚</p>
<p>å¦‚æœéœ€è¦åœ¨å…¶ä»–åœ°æ–¹å–å€¼ï¼Œé‚£ä¹ˆéœ€è¦æ·±æ‹·è´ã€‚</p>
</blockquote>
<p>å¥½çš„ï¼ŒåŠ å…¥å®Œ<code>JSON.stringify</code>ä¹‹åï¼Œ<code>Skeleton Loader</code>å·¥ä½œäº†ï¼</p>
<p>å…¨æ–‡å®Œ</p>]]></description><category domain="https://raycoder.me/categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯</category><category domain="https://raycoder.me/categories/vue/">Vue</category><category domain="https://raycoder.me/tags/%E5%89%8D%E7%AB%AF/">å‰ç«¯</category><category domain="https://raycoder.me/tags/vue/">Vue</category><category domain="https://raycoder.me/tags/vue%E9%97%AE%E9%A2%98/">Vueé—®é¢˜</category></item><item><title>Python Import Thisæºç å‰–æ</title><link>https://raycoder.me/p/python-import-this/</link><guid isPermaLink="true">https://raycoder.me/p/python-import-this/</guid><pubDate>Wed, 29 Jul 2020 20:00:07 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒPythonæœ‰ä¸€ä¸ª<code>import this</code>çš„å½©è›‹ï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200729200602.png" alt=""></p>
<p>ä½†æ˜¯ï¼Œè¿™ä¸ªå½©è›‹çš„æºä»£ç åœ¨å“ªé‡Œå‘¢ğŸ¤”</p>
<p>æˆ‘ä»¬æ¥åº·åº·ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> this
<span style="color:#f92672">&lt;</span>module <span style="color:#e6db74">&#39;this&#39;</span> <span style="color:#f92672">from</span> <span style="color:#e6db74">&#39;C:</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">Users</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">[User Name]</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">AppData</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">Local</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">Programs</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">Python</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">Python38</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">lib</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">this.py&#39;</span><span style="color:#f92672">&gt;</span>
</code></pre></div><p><code>this.py</code>ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;&#34;Gur Mra bs Clguba, ol Gvz Crgref
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">Ornhgvshy vf orggre guna htyl.
</span><span style="color:#e6db74">Rkcyvpvg vf orggre guna vzcyvpvg.
</span><span style="color:#e6db74">Fvzcyr vf orggre guna pbzcyrk.
</span><span style="color:#e6db74">Pbzcyrk vf orggre guna pbzcyvpngrq.
</span><span style="color:#e6db74">Syng vf orggre guna arfgrq.
</span><span style="color:#e6db74">Fcnefr vf orggre guna qrafr.
</span><span style="color:#e6db74">Ernqnovyvgl pbhagf.
</span><span style="color:#e6db74">Fcrpvny pnfrf nera&#39;g fcrpvny rabhtu gb oernx gur ehyrf.
</span><span style="color:#e6db74">Nygubhtu cenpgvpnyvgl orngf chevgl.
</span><span style="color:#e6db74">Reebef fubhyq arire cnff fvyragyl.
</span><span style="color:#e6db74">Hayrff rkcyvpvgyl fvyraprq.
</span><span style="color:#e6db74">Va gur snpr bs nzovthvgl, ershfr gur grzcgngvba gb thrff.
</span><span style="color:#e6db74">Gurer fubhyq or bar-- naq cersrenoyl bayl bar --boivbhf jnl gb qb vg.
</span><span style="color:#e6db74">Nygubhtu gung jnl znl abg or boivbhf ng svefg hayrff lbh&#39;er Qhgpu.
</span><span style="color:#e6db74">Abj vf orggre guna arire.
</span><span style="color:#e6db74">Nygubhtu arire vf bsgra orggre guna *evtug* abj.
</span><span style="color:#e6db74">Vs gur vzcyrzragngvba vf uneq gb rkcynva, vg&#39;f n onq vqrn.
</span><span style="color:#e6db74">Vs gur vzcyrzragngvba vf rnfl gb rkcynva, vg znl or n tbbq vqrn.
</span><span style="color:#e6db74">Anzrfcnprf ner bar ubaxvat terng vqrn -- yrg&#39;f qb zber bs gubfr!&#34;&#34;&#34;</span>

d <span style="color:#f92672">=</span> {}
<span style="color:#66d9ef">for</span> c <span style="color:#f92672">in</span> (<span style="color:#ae81ff">65</span>, <span style="color:#ae81ff">97</span>):
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">26</span>):
        d[chr(i<span style="color:#f92672">+</span>c)] <span style="color:#f92672">=</span> chr((i<span style="color:#f92672">+</span><span style="color:#ae81ff">13</span>) <span style="color:#f92672">%</span> <span style="color:#ae81ff">26</span> <span style="color:#f92672">+</span> c)

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">.</span>join([d<span style="color:#f92672">.</span>get(c, c) <span style="color:#66d9ef">for</span> c <span style="color:#f92672">in</span> s]))
</code></pre></div><p>åŸæ¥ï¼Œè¿™ä¸ªå½©è›‹ç«Ÿç„¶ç”¨åˆ°äº†å‡¯æ’’å¯†ç ï¼ˆCaesar cipherï¼‰ï¼š</p>
<blockquote>
<p>åœ¨å¯†ç å­¦ä¸­ï¼Œæºæ’’å¯†ç ï¼ˆè‹±è¯­ï¼šCaesar cipherï¼‰ï¼Œæˆ–ç§°æºæ’’åŠ å¯†ã€æºæ’’å˜æ¢ã€å˜æ¢åŠ å¯†ï¼Œæ˜¯ä¸€ç§æœ€ç®€å•ä¸”æœ€å¹¿ä¸ºäººçŸ¥çš„åŠ å¯†æŠ€æœ¯ã€‚å®ƒæ˜¯ä¸€ç§æ›¿æ¢åŠ å¯†çš„æŠ€æœ¯ï¼Œæ˜æ–‡ä¸­çš„æ‰€æœ‰å­—æ¯éƒ½åœ¨å­—æ¯è¡¨ä¸Šå‘åï¼ˆæˆ–å‘å‰ï¼‰æŒ‰ç…§ä¸€ä¸ªå›ºå®šæ•°ç›®è¿›è¡Œåç§»åè¢«æ›¿æ¢æˆå¯†æ–‡ã€‚ä¾‹å¦‚ï¼Œå½“åç§»é‡æ˜¯3çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„å­—æ¯Aå°†è¢«æ›¿æ¢æˆDï¼ŒBå˜æˆEï¼Œä»¥æ­¤ç±»æ¨ã€‚è¿™ä¸ªåŠ å¯†æ–¹æ³•æ˜¯ä»¥ç½—é©¬å…±å’Œæ—¶æœŸæºæ’’çš„åå­—å‘½åçš„ï¼Œå½“å¹´æºæ’’æ›¾ç”¨æ­¤æ–¹æ³•ä¸å…¶å°†å†›ä»¬è¿›è¡Œè”ç³»ã€‚</p>
</blockquote>
<p>è¿™æ ·çš„è¯ï¼Œä»æºç æ¥çœ‹ï¼Œåç§»é‡åº”è¯¥æ˜¯13:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">d[chr(i<span style="color:#f92672">+</span>c)] <span style="color:#f92672">=</span> chr((i<span style="color:#f92672">+</span><span style="color:#ae81ff">13</span>) <span style="color:#f92672">%</span> <span style="color:#ae81ff">26</span> <span style="color:#f92672">+</span> c)
</code></pre></div><p>å¥½å®¶ä¼™ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æºç ï¼Œå¹¶åšä¸€äº›æ³¨é‡Šï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># åŠ å¯†è¿‡çš„æ–‡å­—</span>
s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;&#34;Gur Mra bs Clguba, ol Gvz Crgref
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">Ornhgvshy vf orggre guna htyl.
</span><span style="color:#e6db74">Rkcyvpvg vf orggre guna vzcyvpvg.
</span><span style="color:#e6db74">Fvzcyr vf orggre guna pbzcyrk.
</span><span style="color:#e6db74">Pbzcyrk vf orggre guna pbzcyvpngrq.
</span><span style="color:#e6db74">Syng vf orggre guna arfgrq.
</span><span style="color:#e6db74">Fcnefr vf orggre guna qrafr.
</span><span style="color:#e6db74">Ernqnovyvgl pbhagf.
</span><span style="color:#e6db74">Fcrpvny pnfrf nera&#39;g fcrpvny rabhtu gb oernx gur ehyrf.
</span><span style="color:#e6db74">Nygubhtu cenpgvpnyvgl orngf chevgl.
</span><span style="color:#e6db74">Reebef fubhyq arire cnff fvyragyl.
</span><span style="color:#e6db74">Hayrff rkcyvpvgyl fvyraprq.
</span><span style="color:#e6db74">Va gur snpr bs nzovthvgl, ershfr gur grzcgngvba gb thrff.
</span><span style="color:#e6db74">Gurer fubhyq or bar-- naq cersrenoyl bayl bar --boivbhf jnl gb qb vg.
</span><span style="color:#e6db74">Nygubhtu gung jnl znl abg or boivbhf ng svefg hayrff lbh&#39;er Qhgpu.
</span><span style="color:#e6db74">Abj vf orggre guna arire.
</span><span style="color:#e6db74">Nygubhtu arire vf bsgra orggre guna *evtug* abj.
</span><span style="color:#e6db74">Vs gur vzcyrzragngvba vf uneq gb rkcynva, vg&#39;f n onq vqrn.
</span><span style="color:#e6db74">Vs gur vzcyrzragngvba vf rnfl gb rkcynva, vg znl or n tbbq vqrn.
</span><span style="color:#e6db74">Anzrfcnprf ner bar ubaxvat terng vqrn -- yrg&#39;f qb zber bs gubfr!&#34;&#34;&#34;</span>

d <span style="color:#f92672">=</span> {} <span style="color:#75715e"># ä¸€ä¸ªå‡¯æ’’å¯†ç å¯¹åº”è¡¨ï¼Œå¦‚ä¸‹</span>
<span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">{&#39;A&#39;: &#39;N&#39;, &#39;B&#39;: &#39;O&#39;, &#39;C&#39;: &#39;P&#39;, &#39;D&#39;: &#39;Q&#39;, &#39;E&#39;: &#39;R&#39;, &#39;F&#39;: &#39;S&#39;, &#39;G&#39;: &#39;T&#39;, &#39;H&#39;: &#39;U&#39;, &#39;I&#39;: &#39;V&#39;, &#39;J&#39;: &#39;W&#39;, &#39;K&#39;: &#39;X&#39;, &#39;L&#39;: &#39;Y&#39;, &#39;M&#39;: &#39;Z&#39;, &#39;N&#39;: &#39;A&#39;, &#39;O&#39;: &#39;B&#39;, &#39;P&#39;: &#39;C&#39;, &#39;Q&#39;: &#39;D&#39;, &#39;R&#39;: &#39;E&#39;, &#39;S&#39;: &#39;F&#39;, &#39;T&#39;: &#39;G&#39;, &#39;U&#39;: &#39;H&#39;, &#39;V&#39;: &#39;I&#39;, &#39;W&#39;: &#39;J&#39;, &#39;X&#39;: &#39;K&#39;, &#39;Y&#39;: &#39;L&#39;, &#39;Z&#39;: &#39;M&#39;, &#39;a&#39;: &#39;n&#39;, &#39;b&#39;: &#39;o&#39;, &#39;c&#39;: &#39;p&#39;, &#39;d&#39;: &#39;q&#39;, &#39;e&#39;: &#39;r&#39;, &#39;f&#39;: &#39;s&#39;, &#39;g&#39;: &#39;t&#39;, &#39;h&#39;: &#39;u&#39;, &#39;i&#39;: &#39;v&#39;, &#39;j&#39;: &#39;w&#39;, &#39;k&#39;: &#39;x&#39;, &#39;l&#39;: &#39;y&#39;, &#39;m&#39;: &#39;z&#39;, &#39;n&#39;: &#39;a&#39;, &#39;o&#39;: &#39;b&#39;, &#39;p&#39;: &#39;c&#39;, &#39;q&#39;: &#39;d&#39;, &#39;r&#39;: &#39;e&#39;, &#39;s&#39;: &#39;f&#39;, &#39;t&#39;: &#39;g&#39;, &#39;u&#39;: &#39;h&#39;, &#39;v&#39;: &#39;i&#39;, &#39;w&#39;: &#39;j&#39;, &#39;x&#39;: &#39;k&#39;, &#39;y&#39;: &#39;l&#39;, &#39;z&#39;: &#39;m&#39;}
</span><span style="color:#e6db74">&#34;&#34;&#34;</span>
<span style="color:#66d9ef">for</span> c <span style="color:#f92672">in</span> (<span style="color:#ae81ff">65</span>, <span style="color:#ae81ff">97</span>): <span style="color:#75715e"># ASCIIç ï¼Œ65ä»£è¡¨Aï¼Œ97ä»£è¡¨a</span>
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">26</span>): <span style="color:#75715e"># 26ä¸ªå­—æ¯</span>
        d[chr(i<span style="color:#f92672">+</span>c)] <span style="color:#f92672">=</span> chr((i<span style="color:#f92672">+</span><span style="color:#ae81ff">13</span>) <span style="color:#f92672">%</span> <span style="color:#ae81ff">26</span> <span style="color:#f92672">+</span> c) 
<span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">chrå‡½æ•°ï¼šæŠŠASCIIç è½¬æ¢æˆå­—ç¬¦
</span><span style="color:#e6db74">chr(i+c)ï¼šæŠŠæ¯ä¸ªå­—ç¬¦è½¬æ¢ä¸ºå¯¹åº”çš„å­—ç¬¦ï¼Œå¦‚chr(0+65)=A
</span><span style="color:#e6db74">chr((i+13) % 26 + c)ï¼š
</span><span style="color:#e6db74">  i+13ï¼š13ä½åç§»
</span><span style="color:#e6db74">  %26ï¼šä¿è¯åœ¨26ä¸ªå­—æ¯å†…
</span><span style="color:#e6db74">&#34;&#34;&#34;</span>

<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">.</span>join([d<span style="color:#f92672">.</span>get(c, c) <span style="color:#66d9ef">for</span> c <span style="color:#f92672">in</span> s]))
<span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">(Dictionary).get(key, default=None)ï¼šå¦‚æœkeyå­˜åœ¨äºå­—å…¸çš„é”®ä¸­ï¼Œåˆ™è¿”å›ç›¸å¯¹åº”çš„å€¼ï¼Œå¦åˆ™è¿”å›default
</span><span style="color:#e6db74">&#34;&#34;&#34;</span>
</code></pre></div><p>è¿™ç©æ„å„¿æˆ‘åˆå¯ä»¥å¹ä¸€å¹´ï¼Œ</p>
<blockquote>
<p>éœ‡æƒŠï¼Pythonå½©è›‹ç«Ÿä½¿ç”¨å­—å…¸ã€é•¿å­—ç¬¦ä¸²ã€chrå‡½æ•°ä¸å‡¯æ’’å¯†ç ï¼</p>
</blockquote>]]></description><category domain="https://raycoder.me/categories/python/">Python</category><category domain="https://raycoder.me/tags/python/">Python</category><category domain="https://raycoder.me/tags/%E5%BD%A9%E8%9B%8B/">å½©è›‹</category></item><item><title>Vue3çš„æ”¹å˜æœ‰å“ªäº›ï¼Ÿ</title><link>https://raycoder.me/p/vue3-design/</link><guid isPermaLink="true">https://raycoder.me/p/vue3-design/</guid><pubDate>Sun, 19 Jul 2020 18:39:22 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<h3 id="å’•äº†è¿™ä¹ˆä¹…æˆ‘å¹²äº†ä»€ä¹ˆ">å’•äº†è¿™ä¹ˆä¹…ï¼Œæˆ‘å¹²äº†ä»€ä¹ˆï¼Ÿ</h3>
<p>å‘¼ï¼Œä¿ºå‰äº›å¤©åœ¨å‡†å¤‡<strong>æœŸæœ«è€ƒè¯•</strong>ï¼Œç»ˆäºæ”¾å‡äº†~~~ğŸ˜ğŸ˜ğŸ˜ğŸ‰ğŸ‰ğŸ‰å¯ä»¥æ›´æ–°ä¸€ä¸‹åšå®¢äº†ï¼</p>
<h3 id="å­¦-äº†-ä»€-ä¹ˆæ´»-åˆ°-è€-å­¦-åˆ°-è€">å­¦ äº† ä»€ ä¹ˆï¼ˆæ´» åˆ° è€ å­¦ åˆ° è€ï¼‰</h3>
<p>å“¦ï¼Œ<code>JS</code>ã€<code>Vue</code>å’Œ<code>React</code>ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆå…³æ³¨vue3">ä¸ºä»€ä¹ˆå…³æ³¨<code>Vue3</code>ï¼Ÿ</h3>
<p><code>Vue3.0</code>RCğŸ¤¢ğŸ¤”</p>
<h3 id="æ­£æ–‡å¼€å§‹">æ­£æ–‡å¼€å§‹</h3>
<p>ï¼ˆ<code>Vue3</code>è‹±æ–‡æ–‡æ¡£ï¼š<a href="https://v3.vuejs.org">https://v3.vuejs.org</a>ï¼Œä¸­æ–‡ï¼š<a href="https://v3.cn.vuejs.org">https://v3.cn.vuejs.org</a>ï¼‰</p>
<h4 id="vue3é‡å†™åŸå› ">Vue3é‡å†™åŸå› ï¼Ÿ</h4>
<ul>
<li>
<p><code>Tree shaking support</code>ï¼šå¯ä»¥å°†æ— ç”¨æ¨¡å—â€œå‰ªè¾‘â€ï¼Œä»…æ‰“åŒ…éœ€è¦çš„ã€‚</p>
</li>
<li>
<p><code>Composition API</code>ï¼šç»„åˆ<code>API</code></p>
</li>
<li>
<p><code>Better TypeScript support</code>ï¼šæ›´ä¼˜ç§€çš„Tsæ”¯æŒ</p>
</li>
<li>
<p>æ›´å¥½çš„<code>Virtual DOM Diffç®—æ³•</code></p>
</li>
<li>
<p>ä»£ç çš„<code>èšé›†æ€§</code></p>
</li>
</ul>
<h5 id="composition-apiç»„åˆapi"><code>Composition API</code>ï¼šç»„åˆ<code>API</code></h5>
<p>åœ¨<code>Vue 2.x</code>ä¸­ï¼Œæµè§ˆå™¨ç«¯å’Œ<code>webpack</code>éƒ½å¯ä»¥ä½¿ç”¨ä¸€ä¸ªVueå¯¹è±¡ï¼ˆ<code>import Vue from &quot;vue&quot;</code>ï¼‰ã€‚</p>
<p>è€Œåœ¨<code>Vue3</code>ä¸­ï¼ˆ<code>webpack</code>ç¯å¢ƒï¼‰ï¼Œä½ å¯ä»¥é€šè¿‡ä»Vueä¸­å¯¼å…¥æ‰€éœ€åŠŸèƒ½æ¥ä½¿ç”¨ï¼Œæœ‰åŠ©äºå‡å°ä»£ç ä½“ç§¯ï¼‰</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
  &lt;<span style="color:#f92672">button</span> <span style="color:#f92672">@click</span><span style="color:#e6db74">=&#34;increment&#34;</span>&gt;
    <span style="color:#a6e22e">Count</span> <span style="color:#a6e22e">is</span><span style="color:#f92672">:</span> {{ <span style="color:#a6e22e">state.count</span> }}<span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">double</span> <span style="color:#a6e22e">is</span><span style="color:#f92672">:</span> {{ <span style="color:#a6e22e">state.double</span> }}
  &lt;/<span style="color:#f92672">button</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">reactive</span>, <span style="color:#a6e22e">computed</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;vue&#39;</span>

<span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
  <span style="color:#a6e22e">setup</span>() {
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">state</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">reactive</span>({
      <span style="color:#a6e22e">count</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">0</span>,
      <span style="color:#66d9ef">double</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">computed</span>(() =&gt; <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">count</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>)
    })

    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">increment</span>() {
      <span style="color:#a6e22e">state</span>.<span style="color:#a6e22e">count</span><span style="color:#f92672">++</span>
    }

    <span style="color:#66d9ef">return</span> {
      <span style="color:#a6e22e">state</span>,
      <span style="color:#a6e22e">increment</span>
    }
  }
}
&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><p>å‚é˜…ï¼š<a href="https://composition-api.vuejs.org/">https://composition-api.vuejs.org/</a></p>
<h5 id="ä»£ç çš„èšé›†æ€§">ä»£ç çš„<code>èšé›†æ€§</code></h5>
<p>ä½¿ç”¨ç»„ä»¶æ—¶ï¼Œä¸€ä¸ªHTMLèŠ‚ç‚¹å¯èƒ½ä¼šä¸å¤šä¸ªé€‰é¡¹ç›¸å…³ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-vue" data-lang="vue">&lt;<span style="color:#f92672">template</span>&gt;
	&lt;<span style="color:#f92672">input</span> <span style="color:#f92672">v-model</span><span style="color:#e6db74">=&#34;inputVal&#34; @blur=&#34;handleBlur&#34; </span><span style="color:#f92672">:style</span><span style="color:#e6db74">=&#34;inputStyle&#34;</span>&gt;&lt;/<span style="color:#f92672">input</span>&gt;
&lt;/<span style="color:#f92672">template</span>&gt;

&lt;<span style="color:#f92672">script</span>&gt;
    <span style="color:#a6e22e">prefixCls</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`test-input`</span>
    <span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
        <span style="color:#a6e22e">data</span> () {
            <span style="color:#66d9ef">return</span> {
                <span style="color:#a6e22e">inputVal</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>,
                <span style="color:#a6e22e">prefixCls</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">prefixCls</span>
                <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>            }
        },
        <span style="color:#a6e22e">methods</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">handleBlur</span> () {
                <span style="color:#75715e">// Handle Blur
</span><span style="color:#75715e"></span>            }
            <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>        },
        <span style="color:#a6e22e">computed</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">inputStyle</span> () {
                <span style="color:#66d9ef">return</span> [<span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">prefixCls</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>]
            },
            <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>        },
        <span style="color:#a6e22e">watch</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">inputVal</span> () {
                <span style="color:#a6e22e">handleInput</span>()
            },
            <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>        },
        <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>    }
&lt;/<span style="color:#f92672">script</span>&gt;

&lt;<span style="color:#f92672">style</span>&gt;...&lt;/<span style="color:#f92672">style</span>&gt;
</code></pre></div><p>å¦‚æ˜¯ï¼Œä¸€ä¸ª<code>input</code>çš„ä»£ç è¢«åˆ†æ•£åˆ°äº†è®¸å¤šé€‰é¡¹ä¸­ï¼š<code>data</code>ï¼Œ<code>methods</code>ï¼Œ<code>computed</code>ï¼Œ<code>watch</code>ï¼Œå¦‚Vueå®˜æ–¹å›¾ï¼š</p>
<p align="center">
<img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200719190119.png" style="width:131px">
</p>
<p>Vueå®˜æ–¹ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">useCreateFolder</span> (<span style="color:#a6e22e">openFolder</span>) {
  <span style="color:#75715e">// originally data properties
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">showNewFolder</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ref</span>(<span style="color:#66d9ef">false</span>)
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">newFolderName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">ref</span>(<span style="color:#e6db74">&#39;&#39;</span>)

  <span style="color:#75715e">// originally computed property
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">newFolderValid</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">computed</span>(() =&gt; <span style="color:#a6e22e">isValidMultiName</span>(<span style="color:#a6e22e">newFolderName</span>.<span style="color:#a6e22e">value</span>))

  <span style="color:#75715e">// originally a method
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">createFolder</span> () {
    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">newFolderValid</span>.<span style="color:#a6e22e">value</span>) <span style="color:#66d9ef">return</span>
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">mutate</span>({
      <span style="color:#a6e22e">mutation</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">FOLDER_CREATE</span>,
      <span style="color:#a6e22e">variables</span><span style="color:#f92672">:</span> {
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">newFolderName</span>.<span style="color:#a6e22e">value</span>
      }
    })
    <span style="color:#a6e22e">openFolder</span>(<span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">folderCreate</span>.<span style="color:#a6e22e">path</span>)
    <span style="color:#a6e22e">newFolderName</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
    <span style="color:#a6e22e">showNewFolder</span>.<span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
  }

  <span style="color:#66d9ef">return</span> {
    <span style="color:#a6e22e">showNewFolder</span>,
    <span style="color:#a6e22e">newFolderName</span>,
    <span style="color:#a6e22e">newFolderValid</span>,
    <span style="color:#a6e22e">createFolder</span>
  }
}
</code></pre></div><p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200719191506.png" alt=""></p>
<hr>
<p>Q.æ˜¯ä¸æ˜¯<code>Vue3</code>å°±ä¸èƒ½ä½¿ç”¨é€‰é¡¹APIäº†ï¼Ÿ</p>
<p>A.å¯ä»¥ç”¨ï¼Œè¿™æ˜¯ä¸¤ä¸ªå¹¶å­˜çš„APIã€‚</p>
<p>æ¨èè§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1ke411W7WB/">https://www.bilibili.com/video/BV1ke411W7WB/</a></p>
]]></description><category domain="https://raycoder.me/categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯</category><category domain="https://raycoder.me/categories/vue/">Vue</category><category domain="https://raycoder.me/tags/%E5%89%8D%E7%AB%AF/">å‰ç«¯</category><category domain="https://raycoder.me/tags/vue/">Vue</category><category domain="https://raycoder.me/tags/vue3/">Vue3</category></item><item><title>æœŸæœ«è€ƒè¯•</title><link>https://raycoder.me/status/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/</link><guid isPermaLink="true">https://raycoder.me/status/%E6%9C%9F%E6%9C%AB%E8%80%83%E8%AF%95/</guid><pubDate>Mon, 06 Jul 2020 15:41:59 +0800</pubDate><description>&lt;p>å“æˆ‘çš„å¤©æœŸæœ«å¤ä¹ æ˜¯çœŸçš„éš¾&lt;/p>
&lt;p>çœŸä¸æ˜¯æˆ‘ä¸æ›´æ–°å•Š&lt;/p></description></item><item><title>Hugoä¸Hexoçš„å·¥ä½œæœºåˆ¶</title><link>https://raycoder.me/p/how-hugo-and-hexo-works/</link><guid isPermaLink="true">https://raycoder.me/p/how-hugo-and-hexo-works/</guid><pubDate>Sun, 07 Jun 2020 14:14:35 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<p>æœ€è¿‘åœ¨ç¾¤é‡Œçœ‹åˆ°ä¸€äº›å°ä¼™ä¼´åœ¨é—®é—®é¢˜ï¼ä¸»è¦æ˜¯ä¸çŸ¥é“æ€ä¹ˆæ·»åŠ ä¸‹è½½é“¾æ¥ï¼è¿™ä»¶äº‹æƒ…æœ¬æ¥å°±æ˜¯ä¸€ä¸ªç®€å•çš„<code>markdown</code>è¶…é“¾æ¥+<code>downloads</code>ç›®å½•çš„äº‹ï¼Œä½†æ˜¯å’‹åœ¨ä»–ä»¬å£é‡Œå°±è¿™ä¹ˆéš¾å’§ğŸŒ</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200607141946.jpg" style="zoom:25%;" /></p>
<p>å—¯ï¼Œæˆ‘å…ˆæ¥ç»™å¤§å®¶åˆ†æä¸€ä¸‹<code>hexo</code>å’Œ<code>hugo</code>çš„å·¥ä½œæœºåˆ¶ã€‚ä¸Šå›¾~~ï¼Œæ·¦å®ƒå°±å®Œäº†~~</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200607142035.svg" alt=""></p>
<p>å°±æ˜¯è¿™æ ·ã€‚</p>
<p><code>hexo</code>å¯ä»¥åœ¨<code>/source</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª<code>downloads</code>ç›®å½•ï¼Œ<code>hugo</code>å°±åœ¨<code>/static</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºã€‚</p>
<p><code>hexo</code>éœ€è¦åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶é‡Œä¿®æ”¹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">skip_render</span>:
  - downloads/<span style="color:#75715e">**</span>
</code></pre></div><p>ç„¶å....</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200607142409.jpg" alt=""></p>
<p>å®Œäº‹äº†</p>
<p>ï¼ˆåˆæ°µäº†ä¸€ç¯‡æ–‡ç« ï¼‰</p>
]]></description><category domain="https://raycoder.me/categories/%E5%8D%9A%E5%AE%A2/">åšå®¢</category><category domain="https://raycoder.me/tags/hugo/">Hugo</category><category domain="https://raycoder.me/tags/hexo/">Hexo</category><category domain="https://raycoder.me/tags/%E5%8D%9A%E5%AE%A2/">åšå®¢</category></item><item><title>VercelçœŸé¦™</title><link>https://raycoder.me/status/vercel%E7%9C%9F%E9%A6%99/</link><guid isPermaLink="true">https://raycoder.me/status/vercel%E7%9C%9F%E9%A6%99/</guid><pubDate>Sun, 24 May 2020 14:04:10 +0800</pubDate><description>&lt;p>&lt;a href="https://vercel.com">Vercel&lt;/a>çœŸé¦™ï¼Œå˜¿ï¼&lt;/p></description></item><item><title>ç»™Hugoåšå®¢åŠ ä¸Šbaiduurls.txt</title><link>https://raycoder.me/p/hugo-baidu-urls/</link><guid isPermaLink="true">https://raycoder.me/p/hugo-baidu-urls/</guid><pubDate>Sun, 24 May 2020 13:40:52 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<p>ç™¾åº¦çš„æ¨é€æ˜¯çœŸé¦™å•Šå˜¿ï¼ˆè¿«çœŸï¼‰</p>
<p>emmm ä¸åºŸè¯å¦‚ä½•è‡ªåŠ¨æ¨é€ï¼Ÿ</p>
<p>æ–°å»º<code>blog/layouts/_default/list.baiduurls.txt</code>ï¼Œå†…å®¹å¦‚ä¸‹</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">{{<span style="color:#75715e">/* ç”Ÿæˆbaidu_urls.txtæœç´¢curlæ–‡ä»¶ */</span>}}
{{<span style="color:#f92672">-</span> <span style="color:#66d9ef">range</span> .<span style="color:#a6e22e">Site</span>.<span style="color:#a6e22e">Pages</span> <span style="color:#f92672">-</span>}}
  {{<span style="color:#f92672">-</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">not</span> .<span style="color:#a6e22e">Draft</span> <span style="color:#f92672">-</span>}}
    {{<span style="color:#f92672">-</span> .<span style="color:#a6e22e">Permalink</span> <span style="color:#f92672">-</span>}}
    {{<span style="color:#f92672">-</span> <span style="color:#e6db74">&#34;\n&#34;</span> <span style="color:#f92672">-</span>}}
  {{<span style="color:#f92672">-</span> <span style="color:#a6e22e">end</span> <span style="color:#f92672">-</span>}}
{{<span style="color:#f92672">-</span> <span style="color:#a6e22e">end</span> <span style="color:#f92672">-</span>}}
</code></pre></div><p>ç„¶ååœ¨Config.tomlé‡Œæ·»åŠ </p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-diff" data-lang="diff"># Hugo çš„è¾“å‡ºæ§åˆ¶
[outputs]
    page = [&#34;HTML&#34;]
<span style="color:#f92672">-   home = [&#34;HTML&#34;, &#34;SectionsRSS&#34;, &#34;SectionsAtom&#34;]
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+   home = [&#34;HTML&#34;, &#34;SectionsRSS&#34;, &#34;SectionsAtom&#34;, &#34;BaiduURLs&#34;]
</span><span style="color:#a6e22e"></span>    section = [&#34;HTML&#34;]
    # ç±»åˆ«
    taxonomyTerm = [&#34;HTML&#34;]
    # ç±»åˆ«é¡¹
    taxonomy = [&#34;HTML&#34;]
    # è¯´æ˜ï¼šhttps://github.com/gohugoio/hugo/issues/4528#issuecomment-508488859

<span style="color:#a6e22e">+[outputFormats.BaiduURLs]
</span><span style="color:#a6e22e">+    baseName = &#34;baiduurls&#34;
</span><span style="color:#a6e22e">+    isPlainText = true
</span><span style="color:#a6e22e">+    mediaType = &#34;text/plain&#34;
</span><span style="color:#a6e22e">+    notAlternative = true
</span></code></pre></div><p>æå®šè¾½</p>]]></description><category domain="https://raycoder.me/categories/seo/">SEO</category><category domain="https://raycoder.me/tags/%E7%99%BE%E5%BA%A6/">ç™¾åº¦</category><category domain="https://raycoder.me/tags/seo/">SEO</category></item><item><title>ç™½å«–GTA</title><link>https://raycoder.me/status/%E7%99%BD%E5%AB%96gta/</link><guid isPermaLink="true">https://raycoder.me/status/%E7%99%BD%E5%AB%96gta/</guid><pubDate>Thu, 21 May 2020 20:08:58 +0800</pubDate><description>&lt;p>ç™½å«–ä¸ªGTAå®ƒä¸é¦™é©¬ï¼Ÿ&lt;/p></description></item><item><title>åšå®¢ç¼“æ…¢æ›´æ–°</title><link>https://raycoder.me/status/%E5%8D%9A%E5%AE%A2%E7%BC%93%E6%85%A2%E6%9B%B4%E6%96%B0/</link><guid isPermaLink="true">https://raycoder.me/status/%E5%8D%9A%E5%AE%A2%E7%BC%93%E6%85%A2%E6%9B%B4%E6%96%B0/</guid><pubDate>Mon, 11 May 2020 19:47:32 +0800</pubDate><description>&lt;h3 id="å—¯åšä¸»å¼€å­¦åšå®¢å’•äº†">å—¯ï¼Œåšä¸»å¼€å­¦ï¼Œåšå®¢å’•äº†&lt;/h3></description></item><item><title>Hugoåšå®¢æ­é…Algoliaå®ç°ç«™å†…æœç´¢</title><link>https://raycoder.me/p/hugo-search-with-algolia/</link><guid isPermaLink="true">https://raycoder.me/p/hugo-search-with-algolia/</guid><pubDate>Tue, 28 Apr 2020 10:15:15 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<h3 id="ä¸€äº›é—²è¯">ä¸€äº›é—²è¯</h3>
<p>Hugoåšå®¢è¾ƒHexoåšå®¢æœ‰ä¸€ç‚¹ä¸å¥½ï¼Œå°±æ˜¯æ— æ³•ç”Ÿæˆ<code>content.json</code>ä¾›JSå®ç°ç«™å†…æœç´¢ã€‚ä¸€ä¸ªåšå®¢æ€ä¹ˆå¯ä»¥æ²¡æœ‰ç«™å†…æœç´¢å‘¢ï¼Œæ‰¾æ–‡ç« å¾ˆä¸æ–¹ä¾¿ã€‚</p>
<p>ä¹‹å‰ä¹Ÿæ£é¼“äº†å¾ˆä¹…Algoliaç«™å†…æœç´¢ï¼Œä½†æ€»æ˜¯è§‰å¾—å¤§æå°ç”¨äº†ï¼Œä¸è¿‡ä¸å¾—ä¸è¯´ï¼ŒAlgoliaçš„ä½“éªŒçœŸçš„ä¸é”™ã€‚</p>
<p>Algoliaçš„ç«™å†…æœç´¢å®ç°ä¹Ÿå¾ˆç®€å•ï¼Œä¸€èµ·çœ‹çœ‹ç½¢ï¼</p>
<h3 id="æ·¦">æ·¦</h3>
<h4 id="ç”Ÿæˆç´¢å¼•">ç”Ÿæˆç´¢å¼•</h4>
<h5 id="algoliaåˆ›å»ºç©ºç´¢å¼•">Algoliaåˆ›å»ºç©ºç´¢å¼•</h5>
<h6 id="æ‰“å¼€algoliahttpswwwalgoliacomåˆ›å»ºåº”ç”¨è‡ªå–åå­—æ¯”å¦‚è¯´blogæ³¨å†Œè¿™é‡Œä¾¿ä¸å†èµ˜è¿°">æ‰“å¼€<a href="https://www.algolia.com">Algolia</a>åˆ›å»ºåº”ç”¨ï¼Œè‡ªå–åå­—(æ¯”å¦‚è¯´blog)ï¼Œæ³¨å†Œè¿™é‡Œä¾¿ä¸å†èµ˜è¿°</h6>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200428105807.png" alt=""></p>
<h6 id="åˆ›å»ºç´¢å¼•è‡ªå–åå­—æ¯”å¦‚è¯´blog">åˆ›å»ºç´¢å¼•ï¼Œè‡ªå–åå­—(æ¯”å¦‚è¯´blog)</h6>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200428105843.png" alt=""></p>
<h6 id="ç‚¹å‡»ä¾§æ -api-keysè®°å½•ä¿¡æ¯application-id-search-only-api-key-admin-api-key">ç‚¹å‡»ä¾§æ  <code>API Keys</code>ï¼Œè®°å½•ä¿¡æ¯(Application ID, Search-Only API Key, Admin API Key)</h6>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200428105855.png" alt=""></p>
<h5 id="æœ¬åœ°ç”Ÿæˆalgoliaç´¢å¼•æ–‡ä»¶">æœ¬åœ°ç”ŸæˆAlgoliaç´¢å¼•æ–‡ä»¶</h5>
<p>åœ¨<code>blog/layouts/_default</code>é‡Œæ–°å»º<code>list.algolia.json</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">{{<span style="color:#75715e">/* ç”ŸæˆAlgoliaæœç´¢ç´¢å¼•æ–‡ä»¶ */</span>}}
{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span>.<span style="color:#a6e22e">Scratch</span>.<span style="color:#a6e22e">Add</span> <span style="color:#e6db74">&#34;index&#34;</span> <span style="color:#a6e22e">slice</span> <span style="color:#f92672">-</span>}}
{{<span style="color:#75715e">/* content/pç›®å½•ä¸‹çš„åšæ–‡æ‰ç”Ÿæˆç´¢å¼•ï¼Œè¿™æ˜¯æˆ‘çš„åšå®¢ */</span>}}
{{<span style="color:#f92672">-</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">where</span> (<span style="color:#a6e22e">where</span> .<span style="color:#a6e22e">Site</span>.<span style="color:#a6e22e">Pages</span> <span style="color:#e6db74">&#34;Type&#34;</span> <span style="color:#e6db74">&#34;in&#34;</span> (<span style="color:#a6e22e">slice</span> <span style="color:#e6db74">&#34;p&#34;</span>)) <span style="color:#e6db74">&#34;IsPage&#34;</span> <span style="color:#66d9ef">true</span> <span style="color:#f92672">-</span>}}
  {{<span style="color:#f92672">-</span> <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">not</span> .<span style="color:#a6e22e">Draft</span> <span style="color:#f92672">-</span>}}
    {{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span>.<span style="color:#a6e22e">Scratch</span>.<span style="color:#a6e22e">Add</span> <span style="color:#e6db74">&#34;index&#34;</span> (<span style="color:#a6e22e">dict</span> <span style="color:#e6db74">&#34;objectID&#34;</span> .<span style="color:#a6e22e">File</span>.<span style="color:#a6e22e">UniqueID</span> <span style="color:#e6db74">&#34;url&#34;</span> .<span style="color:#a6e22e">Permalink</span> <span style="color:#e6db74">&#34;content&#34;</span> (.<span style="color:#a6e22e">Summary</span> | <span style="color:#a6e22e">plainify</span>) <span style="color:#e6db74">&#34;tags&#34;</span> .<span style="color:#a6e22e">Params</span>.<span style="color:#a6e22e">Tags</span> <span style="color:#e6db74">&#34;lvl0&#34;</span> .<span style="color:#a6e22e">Title</span> <span style="color:#e6db74">&#34;lvl1&#34;</span> .<span style="color:#a6e22e">Params</span>.<span style="color:#a6e22e">Categories</span> <span style="color:#e6db74">&#34;lvl2&#34;</span> .<span style="color:#a6e22e">Description</span>) <span style="color:#f92672">-</span>}}
  {{<span style="color:#f92672">-</span> <span style="color:#a6e22e">end</span> <span style="color:#f92672">-</span>}}
{{<span style="color:#f92672">-</span> <span style="color:#a6e22e">end</span> <span style="color:#f92672">-</span>}}
{{<span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">$</span>.<span style="color:#a6e22e">Scratch</span>.<span style="color:#a6e22e">Get</span> <span style="color:#e6db74">&#34;index&#34;</span> | <span style="color:#a6e22e">jsonify</span> <span style="color:#f92672">-</span>}}
</code></pre></div><p>é‡Œé¢çš„<code>&quot;p&quot;</code>éœ€è¦è‡ªå·±ä¿®æ”¹ï¼Œæˆ‘çš„åšå®¢æ¯”è¾ƒç‰¹æ®Šï¼Œä½¿ç”¨çš„Permalinkä¸º<code>p/&lt;slug&gt;/</code>ï¼Œè¿™ä¸ªæ ¹æ®è‡ªå·±çš„æƒ…å†µè‡ªè¡Œä¿®æ”¹ï¼Œå¦‚<code>posts</code>ç­‰ã€‚å¤šä¸ªçš„è¯åªéœ€è¦æŠŠ<code>slice &quot;p&quot;</code>æ”¹ä¸ºå¦‚<code>slice &quot;posts&quot; &quot;post&quot;</code>å³å¯ã€‚</p>
<p>ç„¶åæ‰“å¼€<code>config.toml</code>ï¼Œè¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-diff" data-lang="diff">[outputs]
<span style="color:#f92672">-    home = [&#34;HTML&#34;, &#34;SectionsAtom&#34;, &#34;SectionsRSS&#34;]
</span><span style="color:#f92672"></span><span style="color:#a6e22e">+    home = [&#34;HTML&#34;, &#34;SectionsAtom&#34;, &#34;SectionsRSS&#34;, &#34;Algolia&#34;]
</span><span style="color:#a6e22e"></span>
...

<span style="color:#a6e22e">+[outputFormats.Algolia]
</span><span style="color:#a6e22e">+  baseName = &#34;algolia&#34;
</span><span style="color:#a6e22e">+  isPlainText = true
</span><span style="color:#a6e22e">+  mediaType = &#34;application/json&#34;
</span><span style="color:#a6e22e">+  notAlternative = true
</span><span style="color:#a6e22e"></span>  
<span style="color:#a6e22e">+[params.algolia]
</span><span style="color:#a6e22e">+  appId = &#34;ä½ çš„Application ID&#34;
</span><span style="color:#a6e22e">+  indexName = &#34;ä½ çš„ç´¢å¼•åå­—&#34;
</span><span style="color:#a6e22e">+  searchOnlyKey = &#34;ä½ çš„Search-Only API Key&#34;
</span></code></pre></div><p>ç„¶åå¯ä»¥è¿è¡Œä¸€ä¸‹<code>hugo</code>å‘½ä»¤ï¼Œç¡®è®¤æ˜¯å¦ç”Ÿæˆäº†<code>algolia.json</code>å¦‚æœæ²¡æœ‰æŠ¥é”™å°±è¡Œäº†ã€‚</p>
<h4 id="ä¸Šä¼ ç´¢å¼•æµ‹è¯•">ä¸Šä¼ ç´¢å¼•æµ‹è¯•</h4>
<p>è¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ï¼Œä¸è¿‡è¿˜æ˜¯å»ºè®®è·Ÿç€åšä¸€ä¸‹ã€‚</p>
<p>ç‚¹å‡»ä¾§æ  <code>Indices</code> ï¼Œç‚¹å‡» <code>Upload record(s)</code> æŒ‰é’®ä¸Šä¼ ä¸Šä¸€æ­¥ç”Ÿæˆçš„ <code>algolia.json</code> æ–‡ä»¶ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200428110248.png" alt=""></p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200428110433.png" alt=""></p>
<p>ä¸Šä¼ æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥é©¬ä¸Šå°è¯•æœç´¢äº†ï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200428110742.png" alt=""></p>
<h4 id="è‡ªåŠ¨ä¸Šä¼ ">è‡ªåŠ¨ä¸Šä¼ </h4>
<p>æ¯æ¬¡å†™å®Œåšæ–‡éƒ½æ‰‹åŠ¨ä¸Šä¼ ç´¢å¼•æ–‡ä»¶æ— ç–‘æ˜¯ç—›è‹¦çš„ã€æ— æ„ä¹‰çš„é‡å¤åŠ³åŠ¨ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬éœ€è¦æŠŠä¸Šä¼ ç´¢å¼•æ–‡ä»¶çš„æ“ä½œè‡ªåŠ¨åŒ–ï¼Œåœ¨è‡ªåŠ¨éƒ¨ç½²çš„æ—¶å€™é¡ºä¾¿å®Œæˆå³å¯ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨npmåŒ… <a href="https://www.npmjs.com/package/atomic-algolia">atomic-algolia</a> æ¥å®Œæˆä¸Šä¼ æ“ä½œã€‚</p>
<h5 id="å®‰è£…-atomic-algolia-åŒ…">å®‰è£… atomic-algolia åŒ…</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm init  // ä¸æ‡‚çš„å°±å›è½¦å¥½äº†
npm install atomic-algolia --save
</code></pre></div><p>ä¿®æ”¹ç›®å½•ä¸‹çš„ <code>package.json</code> æ–‡ä»¶ï¼Œåœ¨ <code>scripts</code> ä¸‹æ·»åŠ  <code>&quot;algolia&quot;: &quot;atomic-algolia&quot;</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#e6db74">&#34;scripts&#34;</span>: <span style="color:#f92672">{</span>
    <span style="color:#e6db74">&#34;test&#34;</span>: <span style="color:#e6db74">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span>,
    <span style="color:#e6db74">&#34;algolia&#34;</span>: <span style="color:#e6db74">&#34;atomic-algolia&#34;</span>
<span style="color:#f92672">}</span>,
</code></pre></div><p>æ³¨æ„ <code>&quot;test&quot;</code> é‚£ä¸€è¡Œæœ«å°¾æœ‰ä¸ªè‹±æ–‡é€—å·ï¼Œä¸è¦æ¼äº†ã€‚</p>
<h5 id="æ ¹ç›®å½•ä¸‹æ–°å»º-env-æ–‡ä»¶å†…å®¹å¦‚ä¸‹">æ ¹ç›®å½•ä¸‹æ–°å»º <code>.env</code> æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">ALGOLIA_APP_ID=ä½ çš„Application ID
ALGOLIA_INDEX_NAME=ä½ çš„ç´¢å¼•åå­—
ALGOLIA_INDEX_FILE=public/algolia.json
ALGOLIA_ADMIN_KEY=ä½ çš„Admin API Key
</code></pre></div><p>æ³¨æ„æ›¿æ¢ä½ è‡ªå·±Algoliaç´¢å¼•çš„ä¿¡æ¯ã€‚</p>
<p>å¦å¤–ç‰¹åˆ«æ³¨æ„ <code>ALGOLIA_ADMIN_KEY</code> å¯ä»¥ç”¨æ¥ç®¡ç†ä½ çš„ç´¢å¼•ï¼Œæ‰€ä»¥å°½é‡ä¸è¦æäº¤åˆ°å…¬å…±ä»“åº“ã€‚</p>
<h5 id="travis-ciå®ç°">Travis CIå®ç°</h5>
<p>å—¯ï¼Œè¯´è¿‡äº†å°½é‡ä¸è¦æŠŠè¿™äº›æ¨ä¸Šå»ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨Travis CIé‡Œæ·»åŠ å˜é‡ï¼Œå¦‚å›¾ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200428120209.png" alt=""></p>
<p>ç„¶åæŠŠ<code>.env</code>ä¿®æ”¹ä¸€ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">ALGOLIA_APP_ID=${ALGOLIA_APP_ID}
ALGOLIA_INDEX_NAME=${ALGOLIA_INDEX_NAME}
ALGOLIA_INDEX_FILE=${ALGOLIA_INDEX_FILE}
ALGOLIA_ADMIN_KEY=${ALGOLIA_ADMIN_KEY}
</code></pre></div><p>æå®šäº†ã€‚</p>
<h5 id="ä¸Šä¼ ç´¢å¼•">ä¸Šä¼ ç´¢å¼•</h5>
<p>ä½ å¯ä»¥æœ¬åœ°æ‰§è¡Œ <code>npm run algolia</code> æŸ¥çœ‹è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200428111122.png" alt=""></p>
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æˆåŠŸæ·»åŠ äº†è®°å½•ã€‚</p>
<p>åç»­å°±æ˜¯æŠŠä¸‹é¢çš„å‘½ä»¤åŠ åˆ°ä½ çš„éƒ¨ç½²è„šæœ¬å³å¯ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">npm install
npm run algolia // åœ¨hugoå‘½ä»¤åé¢æ‰§è¡Œ 
</code></pre></div><p>è‡³æ­¤ï¼Œå¦‚æœä½ è¿è¡Œ <code>npm run algolia</code> æ²¡æœ‰æŠ¥é”™çš„è¯ï¼Œå°±å¯ä»¥ç»§ç»­ä¸‹ä¸€æ­¥äº†ã€‚</p>
<h4 id="æ·»åŠ æœç´¢æ¡†">æ·»åŠ æœç´¢æ¡†</h4>
<p>å‰©ä¸‹çš„å·¥ä½œå°±æ˜¯æ·»åŠ æœç´¢æ¡†äº†ï¼Œè¿™ä¸€æ­¥æ˜¯è·Ÿä¸»é¢˜ç›¸å…³çš„ï¼Œä¸è¿‡å…¶ä»–ä¸»é¢˜åº”è¯¥åªéœ€è¦å°çš„è°ƒæ•´å°±å¯ä»¥äº†ã€‚</p>
<h6 id="å¼•å…¥cssæ–‡ä»¶">å¼•å…¥CSSæ–‡ä»¶</h6>
<p>åœ¨ä¸»é¢˜ <code>layouts/partials/custom</code> ç›®å½•ä¸‹çš„ <code>head.html</code> ä¸­å¼•å…¥<code>docsearch</code>çš„CSSæ–‡ä»¶ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">{{<span style="color:#f92672">-</span> <span style="color:#66d9ef">if</span> .<span style="color:#a6e22e">Site</span>.<span style="color:#a6e22e">Params</span>.<span style="color:#a6e22e">algolia</span>.<span style="color:#a6e22e">appId</span> <span style="color:#f92672">-</span>}}
&lt;<span style="color:#a6e22e">link</span> <span style="color:#a6e22e">rel</span>=<span style="color:#e6db74">&#34;stylesheet&#34;</span> <span style="color:#a6e22e">href</span>=<span style="color:#e6db74">&#34;https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css&#34;</span> <span style="color:#f92672">/</span>&gt;
{{<span style="color:#f92672">-</span> <span style="color:#a6e22e">end</span> <span style="color:#f92672">-</span>}}
</code></pre></div><h6 id="å¼•å…¥jsæ–‡ä»¶å¹¶åˆå§‹åŒ–">å¼•å…¥JSæ–‡ä»¶å¹¶åˆå§‹åŒ–</h6>
<p>åœ¨ä¸»é¢˜ <code>layouts/partials/custom</code>ç›®å½•ä¸‹çš„ <code>scripts.html</code> ä¸­å¼•å…¥<code>docsearch</code>çš„JSæ–‡ä»¶å¹¶åˆå§‹åŒ–ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">{{<span style="color:#f92672">-</span> <span style="color:#66d9ef">if</span> .<span style="color:#a6e22e">Site</span>.<span style="color:#a6e22e">Params</span>.<span style="color:#a6e22e">algolia</span>.<span style="color:#a6e22e">appId</span> <span style="color:#f92672">-</span>}}
&lt;<span style="color:#a6e22e">script</span> <span style="color:#a6e22e">src</span>=<span style="color:#e6db74">&#34;https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js&#34;</span>&gt;&lt;<span style="color:#f92672">/</span><span style="color:#a6e22e">script</span>&gt;
&lt;<span style="color:#a6e22e">script</span>&gt;
    <span style="color:#a6e22e">docsearch</span>({
    <span style="color:#a6e22e">apiKey</span>: {{ .<span style="color:#a6e22e">Site</span>.<span style="color:#a6e22e">Params</span>.<span style="color:#a6e22e">algolia</span>.<span style="color:#a6e22e">searchOnlyKey</span> }},
    <span style="color:#a6e22e">indexName</span>: {{ .<span style="color:#a6e22e">Site</span>.<span style="color:#a6e22e">Params</span>.<span style="color:#a6e22e">algolia</span>.<span style="color:#a6e22e">indexName</span> }},
    <span style="color:#a6e22e">appId</span>: {{ .<span style="color:#a6e22e">Site</span>.<span style="color:#a6e22e">Params</span>.<span style="color:#a6e22e">algolia</span>.<span style="color:#a6e22e">appId</span> }},
    <span style="color:#a6e22e">inputSelector</span>: <span style="color:#960050;background-color:#1e0010">&#39;</span>.<span style="color:#a6e22e">docsearch</span><span style="color:#f92672">-</span><span style="color:#a6e22e">input</span><span style="color:#960050;background-color:#1e0010">&#39;</span>,
    <span style="color:#a6e22e">debug</span>: <span style="color:#66d9ef">false</span>,
    });
&lt;<span style="color:#f92672">/</span><span style="color:#a6e22e">script</span>&gt;
{{<span style="color:#f92672">-</span> <span style="color:#a6e22e">end</span> <span style="color:#f92672">-</span>}}
</code></pre></div><h6 id="æ·»åŠ æœç´¢æ¡†å…¥å£">æ·»åŠ æœç´¢æ¡†å…¥å£</h6>
<p>åœ¨ä¸»é¢˜ <code>layouts/partials</code> ç›®å½•ä¸‹çš„ <code>menu.html</code> ä¸­å¯¼èˆªæ åˆé€‚çš„ä½ç½®æ·»åŠ æœç´¢æ¡†ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">{{<span style="color:#f92672">-</span> <span style="color:#66d9ef">if</span> .<span style="color:#a6e22e">Site</span>.<span style="color:#a6e22e">Params</span>.<span style="color:#a6e22e">algolia</span>.<span style="color:#a6e22e">appId</span> <span style="color:#f92672">-</span>}}
  &lt;<span style="color:#a6e22e">li</span> <span style="color:#a6e22e">style</span>=<span style="color:#e6db74">&#34;display:inline-block;margin-right:10px;&#34;</span>&gt;
    &lt;<span style="color:#a6e22e">input</span> <span style="color:#66d9ef">type</span>=<span style="color:#e6db74">&#34;search&#34;</span> <span style="color:#a6e22e">class</span>=<span style="color:#e6db74">&#34;docsearch-input&#34;</span> <span style="color:#a6e22e">placeholder</span>=<span style="color:#e6db74">&#34;Search&#34;</span> <span style="color:#f92672">/</span>&gt;
  &lt;<span style="color:#f92672">/</span><span style="color:#a6e22e">li</span>&gt;
{{<span style="color:#f92672">-</span> <span style="color:#a6e22e">end</span> <span style="color:#f92672">-</span>}}
</code></pre></div><p>ä¸»è¦æ˜¯æ·»åŠ <code>&lt;input&gt;</code> å…ƒç´ ï¼Œ<code>&lt;li&gt;</code> å…ƒç´ æ ¹æ®å„è‡ªä¸»é¢˜çš„æƒ…å†µç¡®å®šæ˜¯å¦æ·»åŠ ã€‚
å¦å¤–æ³¨æ„å¤–å±‚å¦‚æœæœ‰ <code>overflow:hidden</code> çš„CSSæ ·å¼ï¼Œå¯èƒ½ä¼šå¯¼è‡´æœç´¢ç»“æœæ¡†æ˜¾ç¤ºä¸äº†ã€‚ğŸ˜…</p>
<p>å¥½è¾£ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ç«™å†…æœç´¢å°±å®Œæˆäº†ï¼æ’’èŠ±~ğŸ‰ğŸ‰ğŸ‰</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200428112156.gif" alt=""></p>
<hr>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a href="https://edward852.github.io/post/hugo%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2%E6%94%AF%E6%8C%81/">Hugoæ·»åŠ Algoliaæœç´¢æ”¯æŒ</a></li>
</ul>
]]></description><category domain="https://raycoder.me/categories/%E5%8D%9A%E5%AE%A2/">åšå®¢</category><category domain="https://raycoder.me/categories/%E5%8A%9F%E8%83%BD%E6%B7%BB%E5%8A%A0/">åŠŸèƒ½æ·»åŠ </category><category domain="https://raycoder.me/categories/%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2/">ç«™å†…æœç´¢</category><category domain="https://raycoder.me/tags/hugo/">Hugo</category><category domain="https://raycoder.me/tags/%E5%8D%9A%E5%AE%A2/">åšå®¢</category><category domain="https://raycoder.me/tags/%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2/">ç«™å†…æœç´¢</category><category domain="https://raycoder.me/tags/algolia/">Algolia</category></item><item><title>ä½¿ç”¨CloudFlare Workersæ­å»ºç½‘ç«™çŠ¶æ€ç›‘æ§</title><link>https://raycoder.me/p/cloudflare-workers-website-monitoring/</link><guid isPermaLink="true">https://raycoder.me/p/cloudflare-workers-website-monitoring/</guid><pubDate>Thu, 23 Apr 2020 09:32:16 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<p>æ²¡å•¥å¥½è¯´çš„ï¼Œè¯·å‚è€ƒä¹‹å‰çš„æ–‡ç« ï¼Œ<a href="/p/cf-worker-proxy">ä¸‡èƒ½çš„CLOUDFLARE WORKERS+JSProxyä»£ç†ï¼Ÿï¼</a>å’Œ<a href="/p/ghproxy-usage">ä½¿ç”¨GHProxyåŠ é€ŸGitHub</a>è¿›è¡ŒåŸºç¡€é…ç½®ã€‚</p>
<h3 id="æ·¦">æ·¦</h3>
<h4 id="å¤åˆ¶ä»£ç ">å¤åˆ¶ä»£ç </h4>
<p>æŠŠå¦‚ä¸‹ä»£ç å¤åˆ¶åˆ°ä¸€ä¸ªæ–°workeré‡Œï¼Œå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">/*
</span><span style="color:#75715e">* @Author: yumu
</span><span style="color:#75715e">* @Date:   2020-02-05
</span><span style="color:#75715e">* @Email:   yumusb@foxmail.com
</span><span style="color:#75715e">* @Last Modified by:   yumusb
</span><span style="color:#75715e">* @Last Modified time: 2020-02-05
</span><span style="color:#75715e">*/</span>
<span style="color:#75715e">//é…ç½®ä½ è¦ç›‘æ§çš„åŸŸå
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">zone</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
<span style="color:#75715e">//ç»„åˆåŸŸååˆ°APIæ¥å£è®¿é—®åœ°å€
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">url</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://api.cloudflare.com/client/v4/zones/&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">zone</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;/analytics/dashboard?since=-1440&amp;continuous=true&#34;</span>;
<span style="color:#75715e">//ä½ çš„APIéªŒè¯token
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#75715e">//é¡µé¢æ˜¾ç¤ºçš„åœ°å€
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">echourl</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://RayCoder.ME&#34;</span>;
<span style="color:#a6e22e">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">handleRequest</span>(<span style="color:#a6e22e">request</span>) {
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">requestURL</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">URL</span>(<span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">url</span>)
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">requestURL</span>.<span style="color:#a6e22e">pathname</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39;/&#39;</span>)[<span style="color:#ae81ff">1</span>]
    <span style="color:#75715e">//å¦‚æœURLä»¥APIå¼€å¤´ï¼Œæˆ‘ä»¬å°±å»APIè°ƒå–æ•°æ®å¹¶è¿”å›
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">startsWith</span>(<span style="color:#e6db74">&#34;api&#34;</span>)) {
        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">referer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">headers</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;Referer&#39;</span>);
        <span style="color:#75715e">//ç®€å•çš„é˜²ç›—é“¾å’Œç¦æ­¢ç›´æ¥è®¿é—®
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">referer</span> <span style="color:#f92672">||</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">URL</span>(<span style="color:#a6e22e">referer</span>).<span style="color:#a6e22e">hostname</span> <span style="color:#f92672">!==</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">URL</span>(<span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">url</span>).<span style="color:#a6e22e">hostname</span>) {
            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Response</span>.<span style="color:#a6e22e">redirect</span>(<span style="color:#e6db74">&#34;https://raycoder.me&#34;</span>, <span style="color:#ae81ff">302</span>)
        } <span style="color:#66d9ef">else</span> {
            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">new_request_headers</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Headers</span>(<span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">headers</span>);
            <span style="color:#a6e22e">new_request_headers</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;Authorization&#39;</span>, <span style="color:#e6db74">&#39;Bearer &#39;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">token</span>);
            <span style="color:#a6e22e">new_request_headers</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;Content-Type&#39;</span>, <span style="color:#e6db74">&#34;application/json&#34;</span>);
            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">original_response</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#a6e22e">url</span>, {
                <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">new_request_headers</span>
            })
            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">response_headers</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">original_response</span>.<span style="color:#a6e22e">headers</span>;
            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">new_response_headers</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Headers</span>(<span style="color:#a6e22e">response_headers</span>);
            <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">original_response</span>.<span style="color:#a6e22e">status</span>;
            <span style="color:#a6e22e">new_response_headers</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;access-control-allow-origin&#39;</span>, <span style="color:#e6db74">&#39;*&#39;</span>);
            <span style="color:#a6e22e">response</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Response</span>(<span style="color:#a6e22e">original_response</span>.<span style="color:#a6e22e">body</span>, {
                <span style="color:#a6e22e">status</span>,
                <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">new_response_headers</span>
            })
        }
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">response</span>;
    }
    <span style="color:#75715e">//å¦‚æœæ²¡ä»¥APIå¼€å¤´ï¼Œé‚£å°±è¿”å›é™æ€é¡µé¢
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">init</span> <span style="color:#f92672">=</span> {
        <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
            <span style="color:#e6db74">&#39;content-type&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;text/html;charset=UTF-8&#39;</span>,
            <span style="color:#e6db74">&#39;Powered&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;https://raycoder.me&#34;</span>,
        },
    }
    <span style="color:#75715e">//è¿”å›html
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">someHTML</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`&lt;!doctype html&gt;&lt;html lang=&#34;zh-cn&#34;&gt;&lt;head&gt;&lt;meta charset=&#34;utf-8&#34;&gt;&lt;meta name=&#34;viewport&#34; content=&#34;width=device-width,initial-scale=1,shrink-to-fit=no&#34;&gt;&lt;link rel=&#34;stylesheet&#34; href=&#34;https://cdn.staticfile.org/twitter-bootstrap/4.0.0/css/bootstrap.min.css&#34;&gt;&lt;title&gt;ç½‘ç«™æµé‡çŠ¶æ€&lt;/title&gt;&lt;style&gt;.breadcrumb{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;padding:.75rem 1rem;margin-top:1em;margin-bottom:1rem;list-style:none;background-color:#e9ecef;border-radius:.25rem}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;nav class=&#34;navbar navbar-expand-lg navbar-dark bg-dark&#34;&gt;&lt;a class=&#34;navbar-brand&#34; href=&#34;#&#34;&gt;ç½‘ç«™æµé‡çŠ¶æ€&lt;/a&gt;&lt;/nav&gt;&lt;div class=&#34;jumbotron jumbotron-fluid&#34;&gt;&lt;div class=&#34;container&#34;&gt;&lt;h1 class=&#34;display-4&#34;&gt;æ¬¢è¿è®¿é—®&lt;/h1&gt;&lt;p class=&#34;lead&#34;&gt;é¡µé¢å°†æ˜¾ç¤º &lt;span class=&#34;badge badge-success&#34;&gt;`</span><span style="color:#f92672">+</span><span style="color:#a6e22e">echourl</span><span style="color:#f92672">+</span><span style="color:#e6db74">`&lt;/span&gt; æœ€è¿‘24å°æ—¶çš„è®¿é—®çŠ¶æ€&lt;/p&gt;&lt;p id=&#34;upd&#34;&gt;æ•°æ®å°†åœ¨ 30 ç§’ åæ›´æ–°&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;container&#34;&gt;&lt;div class=&#34;row&#34;&gt;&lt;div class=&#34;col-lg-12&#34;&gt;&lt;div class=&#34;row&#34;&gt;&lt;div class=&#34;col&#34;&gt;&lt;div class=&#34;card&#34;&gt;&lt;div class=&#34;card-header&#34;&gt;æ€»æµé‡&lt;/div&gt;&lt;div class=&#34;card-body&#34;&gt;&lt;blockquote class=&#34;blockquote mb-0&#34;&gt;&lt;p id=&#34;tbu&#34;&gt;0 B&lt;/p&gt;&lt;footer class=&#34;blockquote-footer&#34;&gt;Total Data Served&lt;/footer&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;col&#34;&gt;&lt;div class=&#34;card&#34;&gt;&lt;div class=&#34;card-header&#34;&gt;è¯·æ±‚æ•°&lt;/div&gt;&lt;div class=&#34;card-body&#34;&gt;&lt;blockquote class=&#34;blockquote mb-0&#34;&gt;&lt;p id=&#34;trs&#34;&gt;0&lt;/p&gt;&lt;footer class=&#34;blockquote-footer&#34;&gt;Total Requests&lt;/footer&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&#34;col&#34;&gt;&lt;div class=&#34;card&#34;&gt;&lt;div class=&#34;card-header&#34;&gt;è®¿å®¢æ•°&lt;/div&gt;&lt;div class=&#34;card-body&#34;&gt;&lt;blockquote class=&#34;blockquote mb-0&#34;&gt;&lt;p id=&#34;chr&#34;&gt;0&lt;/p&gt;&lt;footer class=&#34;blockquote-footer&#34;&gt;Unique Visitors&lt;/footer&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;nav aria-label=&#34;breadcrumb&#34;&gt;&lt;ol class=&#34;breadcrumb&#34;&gt;&lt;li class=&#34;breadcrumb-item active&#34; aria-current=&#34;page&#34;&gt;å„åœ°åŒºæ€»æµé‡&lt;/li&gt;&lt;/ol&gt;&lt;/nav&gt;&lt;div class=&#34;table-responsive&#34;&gt;&lt;table class=&#34;table table-hover&#34;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th scope=&#34;col&#34;&gt;#&lt;/th&gt;&lt;th scope=&#34;col&#34;&gt;åœ°åŒº&lt;/th&gt;&lt;th scope=&#34;col&#34;&gt;æµé‡&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody id=&#34;statb&#34;&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;script src=&#34;https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js&#34;&gt;&lt;/script&gt;&lt;script src=&#34;https://cdn.staticfile.org/twitter-bootstrap/4.0.0/js/bootstrap.min.js&#34;&gt;&lt;/script&gt;&lt;script&gt;function bytesToSize(t){if(0===t)return&#34;0 B&#34;;var a=Math.floor(Math.log(t)/Math.log(1e3));return(t/Math.pow(1e3,a)).toPrecision(3)+&#34; &#34;+[&#34;B&#34;,&#34;KB&#34;,&#34;MB&#34;,&#34;GB&#34;,&#34;TB&#34;,&#34;PB&#34;,&#34;EB&#34;,&#34;ZB&#34;,&#34;YB&#34;][a]}function updataData(){$.ajax({url:&#34;/api&#34;,type:&#34;GET&#34;,data:{RnD:Math.random()},dataType:&#34;json&#34;,success:function(t){$(&#34;#tbu&#34;).html(bytesToSize(t.result.totals.bandwidth.all)),$(&#34;#trs&#34;).html(t.result.totals.requests.all),$(&#34;#chr&#34;).html(t.result.totals.uniques.all),$(&#34;#statb&#34;).html(&#34;&#34;),traffic=t.result.totals.bandwidth.country,str1=&#34;&#34;,i=0,Object.keys(traffic).forEach(function(t){i++,str1=&#34;&lt;tr&gt;&lt;td&gt;&#34;+i+&#34;&lt;/td&gt;&lt;td&gt;&#34;+t+&#34;&lt;/td&gt;&lt;td&gt;&#34;+bytesToSize(traffic[t])+&#34;&lt;/td&gt;&lt;/tr&gt;&#34;,$(&#34;#statb&#34;).append(str1)})},error:function(){alert(&#34;è·å–å¤±è´¥!&#34;)}})}updataData();var count=30;setInterval(function(){count--,$(&#34;#upd&#34;).html(&#34;æ•°æ®å°†åœ¨ &#34;+count+&#34; ç§’ åæ›´æ–°&#34;),0===count&amp;&amp;(count=30,updataData())},1e3)&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;`</span>
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Response</span>(<span style="color:#a6e22e">someHTML</span>, <span style="color:#a6e22e">init</span>)
}
<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;fetch&#39;</span>, <span style="color:#a6e22e">async</span> <span style="color:#a6e22e">event</span> =&gt; {
    <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">respondWith</span>(<span style="color:#a6e22e">handleRequest</span>(<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">request</span>))
})
</code></pre></div><h4 id="é…ç½®é¡¹">é…ç½®é¡¹</h4>
<ul>
<li>
<p><code>zone</code></p>
<p>å°±æ˜¯<code>ZoneID</code>ï¼Œæ‰“å¼€æŸåŸŸåé¡µé¢ï¼Œç„¶åä¸‹æ»‘çœ‹å³ä¸‹è§’ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200423094847.png" alt=""></p>
</li>
<li>
<p><code>token</code></p>
<p>å»APIé¡µé¢ï¼ˆç‚¹å‡»å³ä¸Šè§’å¤´åƒé€‰æ‹©my profileï¼Œå†é€‰æ‹©api tokensï¼Œæœ€åç‚¹å‡»create tokenï¼‰æ–°å»ºä¸€ä¸ªtoken</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200423094942.png" alt=""></p>
<p>æˆ‘ä»¬ä»…éœ€è¦ç»™æŒ‡å®šzoneçš„analyticsçš„Readæƒé™ï¼Œå°±è¶³å¤Ÿäº†ã€‚</p>
<p>ç„¶åç‚¹å‡»Continue,ä¼šè¿”å›åˆ›å»ºçš„tokenï¼Œæ˜¯ä¸€ä¸²å«æœ‰å­—ç¬¦çš„ä¸è§„åˆ™å­—ç¬¦ä¸²ã€‚</p>
</li>
<li>
<p>é¡µé¢æ˜¾ç¤ºåœ°å€</p>
<p>è¿™ä¸ªå°±æ˜¯å¯¹åº”æ˜¾ç¤ºçš„..é¡µé¢å°†æ˜¾ç¤ºxxxxæœ€è¿‘24å°æ—¶çš„è®¿é—®çŠ¶æ€..</p>
</li>
</ul>
<p>ä¹‹åè®¿é—®å³å¯ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/%E7%BD%91%E7%AB%99/">ç½‘ç«™</category><category domain="https://raycoder.me/tags/cloudflare/">Cloudflare</category><category domain="https://raycoder.me/tags/cf-workers/">CF Workers</category></item><item><title>ä½¿ç”¨GHProxyåŠ é€ŸGitHub</title><link>https://raycoder.me/p/ghproxy-usage/</link><guid isPermaLink="true">https://raycoder.me/p/ghproxy-usage/</guid><pubDate>Thu, 23 Apr 2020 08:14:51 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<h3 id="å…ˆæ°µä¸€ç‚¹">å…ˆæ°µä¸€ç‚¹</h3>
<p>GitHubç”±äºä»“åº“éƒ¨ç½²åœ¨å›½å¤–ï¼Œå¤©æœçš„å¼ºå¤§é˜»æ–­äº†æ•°æ®ä¼ è¾“<heimu>äºŒ</heimu>ï¼ŒGitHubä¸Šé¢çš„é¡¹ç›®Cloneé€Ÿåº¦æ˜¯çœŸçš„æƒ¨ä¸å¿ç¹</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200423084605.png" alt=""></p>
<p>å½“ç„¶ä¹Ÿæœ‰äººè¯´ï¼ŒGiteeå¤åˆ¶ä¸€ä¸‹ä»“åº“ï¼ŒCloneä¸‹æ¥å†æ”¹é…ç½®ä¸å°±è¡Œäº†å—ï¼Ÿ</p>
<p>emmmæ˜¯å¯ä»¥ï¼Œä½†æ˜¯Giteeä¹Ÿæ— æ³•å¤åˆ¶é¡¹ç›®çš„Releasesã€‚</p>
<p><heimu>è‰¾ç›çœŸçƒ¦</heimu></p>
<p>æœ€è¿‘åº·åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œæ„Ÿè§‰è¿˜ä¸é”™ï¼Œåˆ†äº«ç»™å¤§å®¶<a href="https://hunsh.net/archives/23">https://hunsh.net/archives/23</a>ï¼Œå¥½åƒæ˜¯åŸºäºJSProxyçš„ä¸€ä¸ªGHä»£ç†ï¼ŒJSProxyä¹‹å‰å·²ç»æ­è¿‡äº†ï¼Œå†³å®šå†æ°µä¸€ç¯‡<code>GHProxy</code>çš„æ–‡ç« ğŸ˜</p>
<hr>
<h3 id="æ­£æ–‡å¼€å§‹">æ­£æ–‡å¼€å§‹</h3>
<h4 id="åŸºç¡€é…ç½®">åŸºç¡€é…ç½®</h4>
<p>è¿™ä¸ªå°±ä¸å¤šè¯´äº†ï¼Œè‡ªå·±çœ‹<a href="/p/cf-worker-proxy/">ä¸‡èƒ½çš„CLOUDFLARE WORKERS+JSProxyä»£ç†ï¼Ÿï¼</a>ï¼Œæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œä¿®æ”¹åŸŸåNSã€‚</p>
<h4 id="å¼€æ·¦">å¼€æ·¦</h4>
<p>è¿™ä¸ªæ¯”JSProxyçš„é…ç½®è¿˜è¦ç®€å•ï¼Œæ–°å»ºä¸€ä¸ªworkerï¼ŒæŠŠä»£ç å¤åˆ¶åˆ°workersçš„ä»£ç é‡Œã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#e6db74">&#39;use strict&#39;</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * static files (404.html, sw.js, conf.js)
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ASSET_URL</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://hunshcn.github.io/gh-proxy&#39;</span>
<span style="color:#75715e">// å‰ç¼€ï¼Œå¦‚æœè‡ªå®šä¹‰è·¯ç”±ä¸ºexample.com/gh/*ï¼Œå°†PREFIXæ”¹ä¸º &#39;/gh/&#39;ï¼Œæ³¨æ„ï¼Œå°‘ä¸€ä¸ªæ éƒ½ä¼šé”™ï¼
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">PREFIX</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;/&#39;</span>
<span style="color:#75715e">// gitä½¿ç”¨cnpmjsé•œåƒã€åˆ†æ”¯æ–‡ä»¶ä½¿ç”¨jsDelivré•œåƒçš„å¼€å…³ï¼Œ0ä¸ºå…³é—­ï¼Œé»˜è®¤å¼€å¯
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">Config</span> <span style="color:#f92672">=</span> {
    <span style="color:#a6e22e">jsdelivr</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>,
    <span style="color:#a6e22e">cnpmjs</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>
}

<span style="color:#75715e">/** @type {RequestInit} */</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">PREFLIGHT_INIT</span> <span style="color:#f92672">=</span> {
    <span style="color:#a6e22e">status</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">204</span>,
    <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Headers</span>({
        <span style="color:#e6db74">&#39;access-control-allow-origin&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;*&#39;</span>,
        <span style="color:#e6db74">&#39;access-control-allow-methods&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;GET,POST,PUT,PATCH,TRACE,DELETE,HEAD,OPTIONS&#39;</span>,
        <span style="color:#e6db74">&#39;access-control-max-age&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;1728000&#39;</span>,
    }),
}

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {any} body
</span><span style="color:#75715e"> * @param {number} status
</span><span style="color:#75715e"> * @param {Object&lt;string, string&gt;} headers
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#a6e22e">body</span>, <span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">200</span>, <span style="color:#a6e22e">headers</span> <span style="color:#f92672">=</span> {}) {
    <span style="color:#a6e22e">headers</span>[<span style="color:#e6db74">&#39;access-control-allow-origin&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;*&#39;</span>
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Response</span>(<span style="color:#a6e22e">body</span>, {<span style="color:#a6e22e">status</span>, <span style="color:#a6e22e">headers</span>})
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {string} urlStr
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">newUrl</span>(<span style="color:#a6e22e">urlStr</span>) {
    <span style="color:#66d9ef">try</span> {
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">URL</span>(<span style="color:#a6e22e">urlStr</span>)
    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">err</span>) {
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
    }
}


<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;fetch&#39;</span>, <span style="color:#a6e22e">e</span> =&gt; {
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ret</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">fetchHandler</span>(<span style="color:#a6e22e">e</span>)
        .<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span> =&gt; <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;cfworker error:\n&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">stack</span>, <span style="color:#ae81ff">502</span>))
    <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">respondWith</span>(<span style="color:#a6e22e">ret</span>)
})


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {FetchEvent} e
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fetchHandler</span>(<span style="color:#a6e22e">e</span>) {
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">req</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">request</span>
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">urlStr</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">url</span>
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">urlObj</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">URL</span>(<span style="color:#a6e22e">urlStr</span>)
    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">searchParams</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;q&#39;</span>)
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">path</span>) {
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Response</span>.<span style="color:#a6e22e">redirect</span>(<span style="color:#e6db74">&#39;https://&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">host</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">PREFIX</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">path</span>, <span style="color:#ae81ff">301</span>)
    }
    <span style="color:#75715e">// cfworker ä¼šæŠŠè·¯å¾„ä¸­çš„ `//` åˆå¹¶æˆ `/`
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">href</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">origin</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">PREFIX</span>.<span style="color:#a6e22e">length</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/^https?:\/+/</span>, <span style="color:#e6db74">&#39;https://&#39;</span>)
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">exp1</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">/^(?:https?:\/\/)?github\.com\/.+?\/.+?\/(?:releases|archive)\/.*$/i</span>
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">exp2</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">/^(?:https?:\/\/)?github\.com\/.+?\/.+?\/(?:blob)\/.*$/i</span>
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">exp3</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">/^(?:https?:\/\/)?github\.com\/.+?\/.+?\/(?:info|git-upload-pack).*$/i</span>
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">exp4</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">/^(?:https?:\/\/)?raw\.githubusercontent\.com\/.+?\/.+?\/.+?\/.+$/i</span>
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">search</span>(<span style="color:#a6e22e">exp1</span>) <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">Config</span>.<span style="color:#a6e22e">jsdelivr</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">search</span>(<span style="color:#a6e22e">exp2</span>) <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">Config</span>.<span style="color:#a6e22e">cnpmjs</span> <span style="color:#f92672">&amp;&amp;</span> (<span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">search</span>(<span style="color:#a6e22e">exp3</span>) <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">search</span>(<span style="color:#a6e22e">exp4</span>))) {
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">httpHandler</span>(<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">path</span>)
    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">search</span>(<span style="color:#a6e22e">exp2</span>) <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>) {
        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">newUrl</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">&#39;/blob/&#39;</span>, <span style="color:#e6db74">&#39;@&#39;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/^(?:https?:\/\/)?github\.com/</span>, <span style="color:#e6db74">&#39;https://cdn.jsdelivr.net/gh&#39;</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Response</span>.<span style="color:#a6e22e">redirect</span>(<span style="color:#a6e22e">newUrl</span>, <span style="color:#ae81ff">302</span>)
    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">search</span>(<span style="color:#a6e22e">exp3</span>) <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>) {
        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">newUrl</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/^(?:https?:\/\/)?github\.com/</span>, <span style="color:#e6db74">&#39;https://github.com.cnpmjs.org&#39;</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Response</span>.<span style="color:#a6e22e">redirect</span>(<span style="color:#a6e22e">newUrl</span>, <span style="color:#ae81ff">302</span>)
    } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">search</span>(<span style="color:#a6e22e">exp4</span>) <span style="color:#f92672">===</span> <span style="color:#ae81ff">0</span>) {
        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">newUrl</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/(?&lt;=com\/.+?\/.+?)\/(.+?\/)/</span>, <span style="color:#e6db74">&#39;@$1&#39;</span>).<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/^(?:https?:\/\/)?raw\.githubusercontent\.com/</span>, <span style="color:#e6db74">&#39;https://cdn.jsdelivr.net/gh&#39;</span>)
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Response</span>.<span style="color:#a6e22e">redirect</span>(<span style="color:#a6e22e">newUrl</span>, <span style="color:#ae81ff">302</span>)
    } <span style="color:#66d9ef">else</span> {
        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#a6e22e">ASSET_URL</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">path</span>)
    }
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {Request} req
</span><span style="color:#75715e"> * @param {string} pathname
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">httpHandler</span>(<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">pathname</span>) {
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">reqHdrRaw</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">headers</span>

    <span style="color:#75715e">// preflight
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">method</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;OPTIONS&#39;</span> <span style="color:#f92672">&amp;&amp;</span>
        <span style="color:#a6e22e">reqHdrRaw</span>.<span style="color:#a6e22e">has</span>(<span style="color:#e6db74">&#39;access-control-request-headers&#39;</span>)
    ) {
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Response</span>(<span style="color:#66d9ef">null</span>, <span style="color:#a6e22e">PREFLIGHT_INIT</span>)
    }

    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rawLen</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>

    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">reqHdrNew</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Headers</span>(<span style="color:#a6e22e">reqHdrRaw</span>)

    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">urlStr</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pathname</span>
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">urlStr</span>.<span style="color:#a6e22e">startsWith</span>(<span style="color:#e6db74">&#39;github&#39;</span>)) {
        <span style="color:#a6e22e">urlStr</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">urlStr</span>
    }
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">urlObj</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newUrl</span>(<span style="color:#a6e22e">urlStr</span>)

    <span style="color:#75715e">/** @type {RequestInit} */</span>
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">reqInit</span> <span style="color:#f92672">=</span> {
        <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">method</span>,
        <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">reqHdrNew</span>,
        <span style="color:#a6e22e">redirect</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;follow&#39;</span>,
        <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>
    }
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">proxy</span>(<span style="color:#a6e22e">urlObj</span>, <span style="color:#a6e22e">reqInit</span>, <span style="color:#a6e22e">rawLen</span>, <span style="color:#ae81ff">0</span>)
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @param {URL} urlObj
</span><span style="color:#75715e"> * @param {RequestInit} reqInit
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">proxy</span>(<span style="color:#a6e22e">urlObj</span>, <span style="color:#a6e22e">reqInit</span>, <span style="color:#a6e22e">rawLen</span>) {
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">res</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">href</span>, <span style="color:#a6e22e">reqInit</span>)
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">resHdrOld</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">headers</span>
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">resHdrNew</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Headers</span>(<span style="color:#a6e22e">resHdrOld</span>)

    <span style="color:#75715e">// verify
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">rawLen</span>) {
        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">newLen</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">resHdrOld</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;content-length&#39;</span>) <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;&#39;</span>
        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">badLen</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">rawLen</span> <span style="color:#f92672">!==</span> <span style="color:#a6e22e">newLen</span>)

        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">badLen</span>) {
            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">body</span>, <span style="color:#ae81ff">400</span>, {
                <span style="color:#e6db74">&#39;--error&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`bad len: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">newLen</span><span style="color:#e6db74">}</span><span style="color:#e6db74">, except: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">rawLen</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>,
                <span style="color:#e6db74">&#39;access-control-expose-headers&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;--error&#39;</span>,
            })
        }
    }
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>
    <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;access-control-expose-headers&#39;</span>, <span style="color:#e6db74">&#39;*&#39;</span>)
    <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;access-control-allow-origin&#39;</span>, <span style="color:#e6db74">&#39;*&#39;</span>)

    <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">&#39;content-security-policy&#39;</span>)
    <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">&#39;content-security-policy-report-only&#39;</span>)
    <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">&#39;clear-site-data&#39;</span>)

    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Response</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">body</span>, {
        <span style="color:#a6e22e">status</span>,
        <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">resHdrNew</span>,
    })
}

</code></pre></div><p><code>index.js</code>é»˜è®¤é…ç½®ä¸‹cloneèµ°<code>github.com.cnpmjs.org</code>ï¼Œé¡¹ç›®æ–‡ä»¶ä¼šèµ°<code>jsDeliver</code>ï¼Œå¦‚éœ€èµ°workerï¼Œä¿®æ”¹<code>Config</code>å˜é‡å³å¯</p>
<p><code>ASSET_URL</code>æ˜¯é™æ€èµ„æºçš„urlï¼ˆå®é™…ä¸Šå°±æ˜¯ç°åœ¨æ˜¾ç¤ºå‡ºæ¥çš„é‚£ä¸ªè¾“å…¥æ¡†å•é¡µé¢ï¼‰</p>
<p><code>PREFIX</code>æ˜¯å‰ç¼€ï¼Œé»˜è®¤ï¼ˆæ ¹è·¯å¾„æƒ…å†µä¸º<code>&quot;/&quot;</code>ï¼‰ï¼Œå¦‚æœè‡ªå®šä¹‰è·¯ç”±ä¸º<code>example.com/gh/*</code>ï¼Œè¯·å°†PREFIXæ”¹ä¸º <code>'/gh/'</code>ï¼Œæ³¨æ„ï¼Œå°‘ä¸€ä¸ªæ éƒ½ä¼šé”™ï¼</p>
<p>å¥½çš„ï¼Œå°±è¿™ä¹ˆæ²¡äº† ğŸ¶ï¼ˆçœŸçš„GHProxyçš„é…ç½®è´¼ç®€å•ï¼‰ï¼Œæƒ³è‡ªå®šä¹‰åŸŸåçš„è¯·çœ‹<a href="/p/cf-worker-proxy/">ä¸‡èƒ½çš„CLOUDFLARE WORKERS+JSProxyä»£ç†ï¼Ÿï¼</a>ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/%E4%BB%A3%E7%90%86/">ä»£ç†</category><category domain="https://raycoder.me/tags/workers/">Workers</category><category domain="https://raycoder.me/tags/github/">GitHub</category><category domain="https://raycoder.me/tags/%E4%BB%A3%E7%90%86/">ä»£ç†</category></item><item><title>æ­å»ºå²ä¸Šæœ€ç®€å•çš„åšå®¢â€”â€”Mirroråšå®¢</title><link>https://raycoder.me/p/build-the-simplest-blog-mirror-blog/</link><guid isPermaLink="true">https://raycoder.me/p/build-the-simplest-blog-mirror-blog/</guid><pubDate>Wed, 22 Apr 2020 08:07:31 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<p>æœ€è¿‘åœ¨GitHubä¸Šé¢å‘ç°äº†ä¸€ä¸ªå¾ˆæœ‰è¶£çš„é¡¹ç›®ï¼Œåå«<a href="https://github.com/LoeiFy/Mirror"><code>Mirror</code></a>ï¼Œå®˜æ–¹Demoåœ¨è¿™é‡Œï¼š<a href="https://mirror.am0200.com/">https://mirror.am0200.com/</a></p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200422081818.png" alt=""></p>
<p>å“å“Ÿæˆ‘è‰¹ï¼Œè²Œä¼¼æœ‰é‚£ä¹ˆä¸€ä¸¢ä¸¢å¥½åº·ï¼Œä½†æ˜¯è¿™ä¸ªreleaseå°±æœ‰ç‚¹è¿‡ç²ªäº†å§ï¼Ÿ</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200422083906.png" alt=""></p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200422083923.jpg" alt=""></p>
<p>è¿™ä¸ªç»å¯¹æ˜¯æˆ‘è§è¿‡æœ€ç®€å•çš„åšå®¢äº†ï¼Œä½¿ç”¨åŠ¨æ€è·¯ç”±åˆ†å‘è§†å›¾ï¼Œå•é¡µé¢åº”ç”¨ã€‚</p>
<p>Iäº†Iäº†~</p>
<p>æ­å»ºï¼Œä¹Ÿå¾ˆç®€å•ï¼Œä»<a href="https://github.com/LoeiFy/Mirror/raw/master/release/mirror.zip">è¿™é‡Œ</a>ä¸‹è½½æœ€æ–°ç‰ˆMirrorï¼Œè§£å‹ååœ¨<code>index.html</code>é‡Œè¿›è¡Œé…ç½®å³å¯ã€‚</p>
<p>æ‰“å¼€<code>index.html</code>ï¼Œæ‰¾åˆ°<code>window.config</code>å¼€å¤´ï¼Œè¿›è¡Œä¿®æ”¹ã€‚</p>
<h4 id="è·å–token">è·å–Token</h4>
<p>è·å–Tokenå¾ˆç®€å•ï¼Œå»<a href="https://github.com/settings/tokens/new">https://github.com/settings/tokens/new</a>è·å–å³å¯ï¼Œè¿™ä¸ª token åªéœ€è¦åªè¯»æƒé™ï¼Œåªéœ€è¦å‹¾é€‰ä»¥ä¸‹ï¼š</p>
<ul>
<li>read: user Read all user profile data</li>
<li>user: email Access user email addresses (read-only)</li>
</ul>
<p>å¦‚æœä½ çš„é¡¹ç›®æ˜¯å±äºä¸€ä¸ªç»„ç»‡çš„ï¼Œè¿˜éœ€è¦å‹¾é€‰ä¸€ä¸ªæƒé™ï¼š</p>
<ul>
<li>read: org Read org and team membership</li>
</ul>
<p>åƒè¿™æ ·ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200422084440.png" alt=""></p>
<p>æ·»åŠ  token è¯´æ˜ï¼Œç„¶åç‚¹å‡» <code>Generate token</code>ï¼Œå°±å¯ä»¥è·å¾—ä½ çš„ tokenã€‚è¦è®°å¾—ä¿å­˜ã€‚</p>
<hr>
<h4 id="è·å–hash">è·å–Hash</h4>
<p>æ®ä½œè€…è¯´ï¼ŒHashåŠ å¯†ä¸€å±‚æ˜¯ä¸ºäº†é˜²æ­¢GitHubçœ‹åˆ°Tokenåˆ ä»“åº“ã€‚</p>
<p>ä¸‹é¢æ˜¯è·å– <code>hash</code> çš„æ­¥éª¤</p>
<ol>
<li>è·å– <a href="https://github.com/LoeiFy/Mirror/wiki/Token-%E8%AE%BE%E7%BD%AE">token</a>ï¼ˆå·²ç»å®Œæˆï¼‰</li>
<li>è·å–ä½ çš„ä¸»åŸŸå <code>hostname</code>ï¼Œä¾‹å¦‚ <code>https://mirror.am0200.com</code> çš„ä¸»åŸŸåä¸º <code>mirror.am0200.com</code></li>
<li>æ‰“å¼€ <a href="https://mirror.am0200.com/">Mirror</a> ç½‘ç«™ï¼Œå¹¶æ‰“å¼€ <code>å¼€å‘è€…å·¥å…·</code> ç•Œé¢</li>
<li>åœ¨å¼€å‘è€…å·¥å…·çš„ <code>console</code> tab é¡µé¢ï¼Œè¾“å…¥ js ä»£ç  <code>window.encrypt('ä½ çš„token', 'ä½ çš„ä¸»åŸŸå')</code>ï¼Œæ³¨æ„ä¸è¦å†™åè®®å¤´ï¼Œ<code>www</code>æ˜¯æ•æ„Ÿçš„ã€‚</li>
</ol>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200422084655.png" alt=""></p>
<p>å¾—åˆ°çš„å­—ç¬¦å°±æ˜¯ <code>hash</code> ä¸²ã€‚</p>
<p>æ¥ä¸‹æ¥åªéœ€è¦ä¿®æ”¹<code>index.html</code>å³å¯ã€‚</p>
<hr>
<h4 id="ä¿®æ”¹indexhtml">ä¿®æ”¹<code>index.html</code></h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">window.<span style="color:#a6e22e">config</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">organization</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>, <span style="color:#75715e">// é»˜è®¤æ˜¯ falseï¼Œå¦‚æœä½ çš„é¡¹ç›®æ˜¯å±äº GitHub ç»„ç»‡ çš„ï¼Œè¯·è®¾ç½®ä¸º true
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">order</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;UPDATED_AT&#39;</span>, <span style="color:#75715e">// æ–‡ç« æ’åºï¼Œä»¥ åˆ›å»ºæ—¶é—´ æˆ–è€… æ›´æ–°æ—¶é—´ï¼Œå¯é€‰å€¼ &#39;UPDATED_AT&#39;ï¼Œ&#39;CREATED_AT&#39;
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Rayçš„è®°äº‹å°æ ˆ&#39;</span>, <span style="color:#75715e">// åšå®¢æ ‡é¢˜
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">user</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;FFRaycoder&#39;</span>, <span style="color:#75715e">// GitHub ç”¨æˆ·åï¼Œå¿…é¡»
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">repository</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;mirrorBlog&#39;</span>, <span style="color:#75715e">// GitHub é¡¹ç›®åï¼ŒæŒ‡å®šæ–‡ç« å†…å®¹æ¥æº issuesï¼Œå¿…é¡»
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">authors</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Ray&#39;</span>, <span style="color:#75715e">// åšå®¢ä½œè€…ï¼Œä»¥ &#39;,&#39; åˆ†å‰²ï¼ŒGitHub ç”¨æˆ·åé»˜è®¤åŒ…å«åœ¨å†…
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">ignores</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#75715e">// æ–‡ç« å¿½ç•¥çš„ issues ID
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">host</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#75715e">// åšå®¢çš„ä¸»åŸŸåï¼Œä¸å¡«è‡ªåŠ¨è·å–ï¼Œè¯·æ³¨æ„è¿™ä¸ªå€¼ä¼šå½±å“ hash çš„å€¼
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">hash</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#75715e">// å¿…é¡»
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">perpage</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>, <span style="color:#75715e">// åˆ†é¡µ
</span><span style="color:#75715e"></span>}
</code></pre></div><p>ç„¶åæŠŠå®ƒæ¨é€åˆ°GitHubä¸Šï¼Œå³å¯ã€‚</p>
<p>æ¥ä¸‹æ¥åªéœ€è¦åœ¨ä»“åº“çš„Issueé‡Œå†™ä½œå³å¯ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/%E6%8A%98%E8%85%BE/">æŠ˜è…¾</category><category domain="https://raycoder.me/tags/%E6%8A%98%E8%85%BE/">æŠ˜è…¾</category><category domain="https://raycoder.me/tags/%E5%8D%9A%E5%AE%A2/">åšå®¢</category><category domain="https://raycoder.me/tags/mirror/">Mirror</category></item><item><title>Valineæ–°ç‰ˆæœ¬å…¥å‘</title><link>https://raycoder.me/p/valine-new-version/</link><guid isPermaLink="true">https://raycoder.me/p/valine-new-version/</guid><pubDate>Tue, 21 Apr 2020 16:10:23 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<p><code>Valine</code>è¿‘æœŸè¿›è¡Œäº†ä¸€æ‰¹å¤§æ›´æ–°ï¼Œæ˜¯æ—¶å€™æŠŠè¯„è®ºå‡çº§ä¸€ä¸‹äº†ã€‚</p>
<p>ç›®å‰æœ€æ–°ç‰ˆæœ¬æ˜¯åœ¨..2020/04/21..æ›´æ–°çš„<a href="https://github.com/xCss/Valine/releases/tag/v1.4.5">v1.4.5</a>ï¼Œåœ¨è¿™é‡Œè¯´ä¸€å£°ï¼Œå¼€æºä½œè€…ä»¬ï¼ŒOrzï¼Œè¾›è‹¦äº†ã€‚</p>
<ul>
<li><code>A</code> æ–°å¢QQå¤´åƒçš„æ”¯æŒ <a href="https://github.com/xCss/Valine/issues/192">#192</a>ï¼Œ</li>
<li><code>A</code> æ–°å¢è‡ªå®šä¹‰è¡¨æƒ… <a href="https://github.com/xCss/Valine/issues/261">#261</a> <a href="https://github.com/xCss/Valine/issues/260">#260</a> <a href="https://github.com/xCss/Valine/issues/150">#150</a>ï¼Œ</li>
<li><code>F</code> ä¿®å¤markedæ¸²æŸ“é”™è¯¯çš„Bug <a href="https://github.com/xCss/Valine/issues/275">#275</a> <a href="https://github.com/xCss/Valine/issues/269">#269</a>ï¼Œ</li>
<li><code>F</code> ä¿®å¤ä»£ç é«˜äº®æ ·å¼è¢«è¦†ç›–çš„Bug <a href="https://github.com/xCss/Valine/issues/270">#270</a>ï¼Œ</li>
<li><code>F</code> ä¿®å¤é˜…è¯»æ¬¡æ•°å¼‚å¸¸çš„Bug <a href="https://github.com/xCss/Valine/issues/272">#272</a>ï¼Œ</li>
<li><code>U</code> ä¸€äº›æ ·å¼ä¼˜åŒ–ï¼Œ</li>
<li><code>U</code> ä»£ç é€»è¾‘ä¼˜åŒ–ã€‚</li>
</ul>
<p>æ–°å¢çš„è‡ªå®šä¹‰è¡¨æƒ…ä¹Ÿçš„ç¡®çœå¿ƒäº†ä¸å°‘ï¼Œä¸ç”¨å†å»æ”¹ä»£ç äº†ã€‚</p>
<p>ç›®å‰<a href="https://valine.js.org">å®˜æ–¹æ–‡æ¡£</a>è¿˜æ²¡æœ‰æ›´æ–°ï¼Œæˆ‘å…ˆæ”¾ä¸€ä¸ªæ–°ç‰ˆæŒ‡å—ã€‚</p>
<h3 id="é…ç½®é¡¹">é…ç½®é¡¹</h3>
<h4 id="æ—§çš„é…ç½®é¡¹è¯·å»è¿™é‡ŒhttpsvalinejsorgconfigurationhtmlæŸ¥çœ‹">...ï¼ˆæ—§çš„é…ç½®é¡¹è¯·å»<a href="https://valine.js.org/configuration.html">è¿™é‡Œ</a>ï¼‰æŸ¥çœ‹</h4>
<h4 id="emojicdn"><code>emojiCDN</code></h4>
<p><code>emoji</code>çš„è‡ªå®šä¹‰åœ°å€ï¼Œ..ç±»å‹String..ï¼Œæ ¼å¼ç±»ä¼¼<code>&quot;//cdn.jsdelivr.net/gh/FFRaycoder/cdn/imgs/emoji/&quot;</code></p>
<h4 id="emojimaps"><code>emojiMaps</code></h4>
<p><code>emoji</code>çš„è‡ªå®šä¹‰<code>map</code>ï¼Œ..ç±»å‹Object..ï¼Œæ ¼å¼å¦‚<code>{&quot;å&quot;:&quot;å.png&quot;,&quot;å–·è¡€&quot;:&quot;å–·è¡€.png&quot;,&quot;ç‹‚æ±—&quot;:&quot;ç‹‚æ±—.png&quot;,&quot;ä¸è¯´è¯&quot;:&quot;ä¸è¯´è¯.png&quot;,&quot;æ±—&quot;:&quot;æ±—.png&quot;,&quot;åç­‰&quot;:&quot;åç­‰.png&quot;,&quot;çŒ®èŠ±&quot;:&quot;çŒ®èŠ±.png&quot;,&quot;ä¸é«˜å…´&quot;:&quot;ä¸é«˜å…´.png&quot;,&quot;ä¸­åˆ€&quot;:&quot;ä¸­åˆ€.png&quot;,&quot;çš±çœ‰&quot;:&quot;çš±çœ‰.png&quot;}</code></p>
<h3 id="åŠŸèƒ½">åŠŸèƒ½</h3>
<h4 id="æ–°å¢qqå¤´åƒçš„æ”¯æŒ">æ–°å¢QQå¤´åƒçš„æ”¯æŒ</h4>
<h3 id="ä¿®å¤bugs">ä¿®å¤Bugs</h3>
<h4 id="ä¿®å¤markedæ¸²æŸ“é”™è¯¯çš„bug">ä¿®å¤markedæ¸²æŸ“é”™è¯¯çš„Bug</h4>
<h4 id="ä¿®å¤ä»£ç é«˜äº®æ ·å¼è¢«è¦†ç›–çš„bug">ä¿®å¤ä»£ç é«˜äº®æ ·å¼è¢«è¦†ç›–çš„Bug</h4>
<h4 id="ä¿®å¤é˜…è¯»æ¬¡æ•°å¼‚å¸¸çš„bug">ä¿®å¤é˜…è¯»æ¬¡æ•°å¼‚å¸¸çš„Bug</h4>
<hr>
<p>å¥½çš„å°±æ˜¯è¿™æ ·æ²¡äº†ğŸ˜ï¼ˆé„™äººå°šæœªå‘ç°å…¶ä»–æ›´æ–°ï¼‰</p>
<hr>
<p>å½“ç„¶ä¸å¯èƒ½ï¼Œæé†’ä¸€ä¸‹ï¼šç›®å‰<code>jsdelivr cdn</code>éœ€è¦å†™é“¾æ¥<code>https://cdn.jsdelivr.net/npm/valine@1.4.5/dist/Valine.min.js</code>ï¼Œ<code>https://cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js</code>è¿˜æ˜¯1.4.4çš„ç‰ˆæœ¬ã€‚</p>
<hr>
<p><strong>2020/04/22æ›´æ–°ï¼š</strong></p>
<p>ç›®å‰å®˜ç½‘å·²ç»æ›´æ–°æ–‡æ¡£ï¼Œ<code>https://cdn.jsdelivr.net/npm/valine@1.4.5/dist/Valine.min.js</code>ä¹Ÿå·²ç»æ›´æ–°åˆ°<code>v1.4.5</code></p>
<p>åˆæ›´æ–°äº†ï¼Œv1.4.6ã€‚</p>
<ul>
<li><code>A</code> æ–°å¢<code>å¿…å¡«é¡¹</code>è®¾ç½® <a href="https://github.com/xCss/Valine/pull/281">#281</a> <a href="https://github.com/xCss/Valine/issues/59">#59</a></li>
<li><code>A</code> æ–°å¢<code>è¯„è®ºæ¡†</code>è·å–<code>QQå¤´åƒ</code>å’Œ<code>QQæ˜µç§°</code>å¯ç”¨å±æ€§<code>enableQQ</code>ï¼Œéœ€ä¸»åŠ¨å¯ç”¨ <a href="https://github.com/xCss/Valine/issues/277">#277</a></li>
<li><code>F</code> ä¿®å¤æ ·å¼è¢«è¦†ç›–çš„Bug <a href="https://github.com/xCss/Valine/issues/284">#284</a> <a href="https://github.com/xCss/Valine/issues/270">#270</a></li>
<li><code>F</code> ä¿®å¤ä½¿ç”¨äº†ä½ç‰ˆæœ¬çš„<code>av-min.js</code>é€ æˆçš„åˆå§‹åŒ–é”™è¯¯</li>
<li><code>U</code> ä¸€äº›æ ·å¼ä¼˜åŒ–</li>
<li><code>U</code> ä»£ç é€»è¾‘ä¼˜åŒ–</li>
</ul>
<p><code>https://cdn.jsdelivr.net/npm/valine@1.4.6/dist/Valine.min.js</code>ã€‚</p>
<p>wocåˆæ›´æ–°ï¼ï¼v1.4.7ï¼</p>
<ul>
<li><code>F</code> ä¿®å¤<code>v1.4.6</code>ä¸­è‡ªå®šä¹‰è¡¨æƒ…æ—¶æœªå¡«<code>emojiCDN</code>å¼•èµ·çš„æŠ¥é”™</li>
</ul>
<p><code>https://cdn.jsdelivr.net/npm/valine@1.4.7/dist/Valine.min.js</code></p>
<hr>
<p><strong>2020/4/26æ›´æ–°ï¼š</strong></p>
<p>ä¸å¾—ä¸è¯´ä½œè€…æ˜¯çœŸçš„è‚ï¼Œç›®å‰æ›´æ–°åˆ°äº†<a href="https://github.com/xCss/Valine/releases/tag/v1.4.11"><code>v1.4.11</code></a>ï¼Œæ›´æ–°äº†è¡¨æƒ…åˆ¤æ–­æœºåˆ¶ã€‚</p>]]></description><category domain="https://raycoder.me/categories/%E5%8D%9A%E5%AE%A2/">åšå®¢</category><category domain="https://raycoder.me/categories/%E8%AF%84%E8%AE%BA/">è¯„è®º</category><category domain="https://raycoder.me/categories/valine/">Valine</category><category domain="https://raycoder.me/tags/%E5%8D%9A%E5%AE%A2/">åšå®¢</category><category domain="https://raycoder.me/tags/%E8%AF%84%E8%AE%BA/">è¯„è®º</category><category domain="https://raycoder.me/tags/valine/">Valine</category></item><item><title>è¥é”€å·ç”Ÿæˆå™¨æºä»£ç </title><link>https://raycoder.me/p/yingxiaohao-source-code/</link><guid isPermaLink="true">https://raycoder.me/p/yingxiaohao-source-code/</guid><pubDate>Fri, 17 Apr 2020 13:14:54 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<iframe src="/tools/yingxiaohao/index.html" width="100%" height="750px scrolling="0" frameborder="0""></iframe>
<p><code>index.html</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
&lt;<span style="color:#f92672">html</span>&gt;
    &lt;<span style="color:#f92672">head</span>&gt;
		&lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://cdn.bootcss.com/Buttons/2.0.0/css/buttons.css&#34;</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stylesheet&#34;</span>&gt;
        &lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stylesheet&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;//cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css&#34;</span> <span style="color:#a6e22e">integrity</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&#34;</span> <span style="color:#a6e22e">crossorigin</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;anonymous&#34;</span>&gt;
        &lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stylesheet&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;main.css&#34;</span>&gt;
        &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;viewport&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width=device-width, initial-scale=1, shrink-to-fit=no&#34;</span>&gt;
		&lt;<span style="color:#f92672">title</span>&gt;è¥é”€å·æ–‡æ¡ˆç”Ÿæˆå™¨ | MADE BY RAY&lt;/<span style="color:#f92672">title</span>&gt;
    &lt;/<span style="color:#f92672">head</span>&gt;
    &lt;<span style="color:#f92672">body</span>&gt;
        &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;container&#34;</span>&gt;
            &lt;<span style="color:#f92672">h1</span>&gt;è¥é”€å·ç”Ÿæˆå™¨&lt;/<span style="color:#f92672">h1</span>&gt;
            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;radio&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;show&#34;</span>&gt;&lt;/<span style="color:#f92672">div</span>&gt;
            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;buttons&#34;</span>&gt;
                &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;generate&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button button-glow button-border button-rounded button-primary&#34;</span>&gt;ç”Ÿæˆ&lt;/<span style="color:#f92672">button</span>&gt;
                &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;audio&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;button button-glow button-border button-rounded btn-outline-primary &#34;</span>&gt;æœ—è¯»&lt;/<span style="color:#f92672">button</span>&gt;
            &lt;/<span style="color:#f92672">div</span>&gt;
            &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;result-title&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;form-control&#34;</span> <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;æ ‡é¢˜&#34;</span> <span style="color:#a6e22e">disabled</span>&gt;
            &lt;<span style="color:#f92672">textarea</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;form-control&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;result&#34;</span> <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;å†…å®¹&#34;</span> <span style="color:#a6e22e">disabled</span>&gt;&lt;/<span style="color:#f92672">textarea</span>&gt;
        &lt;/<span style="color:#f92672">div</span>&gt;
        &lt;<span style="color:#f92672">hr</span>&gt;
        &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;//cdn.jsdelivr.net/gh/FFRaycoder/cdn/static/js/jquery-3.5.0.min.js&#34;</span> <span style="color:#a6e22e">crossorigin</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
        &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;main.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
        &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;//cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.slim.min.js&#34;</span> <span style="color:#a6e22e">integrity</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n&#34;</span> <span style="color:#a6e22e">crossorigin</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;anonymous&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
        &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;//cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js&#34;</span> <span style="color:#a6e22e">integrity</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo&#34;</span> <span style="color:#a6e22e">crossorigin</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;anonymous&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
        &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;//cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js&#34;</span> <span style="color:#a6e22e">integrity</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6&#34;</span> <span style="color:#a6e22e">crossorigin</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;anonymous&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
    &lt;/<span style="color:#f92672">body</span>&gt;
    &lt;<span style="color:#f92672">footer</span>&gt;
        Made By &lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://raycoder.me&#34;</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;_blank&#34;</span>&gt;Ray&lt;/<span style="color:#f92672">a</span>&gt;
    &lt;/<span style="color:#f92672">footer</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p><code>main.css</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">#container {
    <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">480</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">auto</span>;
}
<span style="color:#f92672">h1</span> {
    <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">center</span>;
    <span style="color:#66d9ef">margin-top</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">em</span>;
}
<span style="color:#f92672">label</span> {
    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">125</span><span style="color:#66d9ef">%</span>;
    <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">bold</span>;
    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">0</span>;
}
<span style="color:#f92672">input</span><span style="color:#f92672">,</span> <span style="color:#f92672">button</span><span style="color:#f92672">,</span> <span style="color:#f92672">textarea</span> {
    <span style="color:#66d9ef">margin</span>: <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">0</span><span style="color:#75715e">!important</span>;
}
<span style="color:#f92672">textarea</span> {
    <span style="color:#66d9ef">min-height</span>: <span style="color:#ae81ff">250</span><span style="color:#66d9ef">px</span><span style="color:#75715e">!important</span>;
}
<span style="color:#f92672">footer</span> {
    <span style="color:#66d9ef">text-align</span>: <span style="color:#66d9ef">center</span>;
    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">130</span><span style="color:#66d9ef">%</span>;
    <span style="color:#66d9ef">margin-bottom</span>: <span style="color:#ae81ff">1.5</span><span style="color:#66d9ef">em</span>;
}
<span style="color:#f92672">label</span>.<span style="color:#a6e22e">custom-control-label</span> {
    <span style="color:#66d9ef">font-size</span>: <span style="color:#66d9ef">medium</span>;
    <span style="color:#66d9ef">font-weight</span>: <span style="color:#66d9ef">normal</span>;
}
#audio {
    <span style="color:#66d9ef">float</span>: <span style="color:#66d9ef">right</span>;
}
</code></pre></div><p><code>main.js</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">msg</span>, <span style="color:#a6e22e">_index</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">config</span> <span style="color:#f92672">=</span> [
    {
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;åŸºç¡€æ–‡æ¡ˆ&#34;</span>,
        <span style="color:#a6e22e">html</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`&lt;label for=&#34;subject&#34;&gt;ä¸»ä½“&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;subject&#34; class=&#34;form-control&#34; placeholder=&#34;æ¥¼ä¸»&#34; required&gt;&lt;label for=&#34;event&#34;&gt;äº‹ä»¶&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;event&#34; class=&#34;form-control&#34; placeholder=&#34;æ°µå¸–&#34; required&gt;&lt;label for=&#34;subject-event&#34;&gt;å¦ä¸€ç§è¯´æ³•&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;subject-event&#34; class=&#34;form-control&#34; placeholder=&#34;è·å–ç»éªŒ&#34; required&gt;`</span>,
        <span style="color:#a6e22e">generate</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
            <span style="color:#a6e22e">subject</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#subject&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#a6e22e">_event</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#event&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#a6e22e">subjectEvent</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#subject-event&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">subject</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">_event</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">subjectEvent</span>.<span style="color:#a6e22e">length</span>) <span style="color:#66d9ef">return</span>;
            <span style="color:#a6e22e">resultTitle</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">_event</span><span style="color:#e6db74">}</span><span style="color:#e6db74">æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ`</span>
            <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`ã€€ã€€</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">_event</span><span style="color:#e6db74">}</span><span style="color:#e6db74">æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ç›¸ä¿¡å¤§å®¶éƒ½å¾ˆç†Ÿæ‚‰ï¼Œä½†æ˜¯</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">_event</span><span style="color:#e6db74">}</span><span style="color:#e6db74">æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Œä¸‹é¢å°±è®©å°ç¼–å¸¦å¤§å®¶ä¸€èµ·äº†è§£å§ã€‚</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">r</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">nã€€ã€€</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">_event</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ï¼Œå…¶å®å°±æ˜¯</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subjectEvent</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ï¼Œå¤§å®¶å¯èƒ½ä¼šå¾ˆæƒŠè®¶</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}</span><span style="color:#e6db74">æ€ä¹ˆä¼š</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">_event</span><span style="color:#e6db74">}</span><span style="color:#e6db74">å‘¢ï¼Ÿä½†äº‹å®å°±æ˜¯è¿™æ ·ï¼Œå°ç¼–ä¹Ÿæ„Ÿåˆ°éå¸¸æƒŠè®¶ã€‚</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">r</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">nã€€ã€€è¿™å°±æ˜¯å…³äº</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">_event</span><span style="color:#e6db74">}</span><span style="color:#e6db74">çš„äº‹æƒ…äº†ï¼Œå¤§å®¶æœ‰ä»€ä¹ˆæƒ³æ³•å‘¢ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºå‘Šè¯‰å°ç¼–ä¸€èµ·è®¨è®ºå“¦ï¼`</span>;
            <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#result-title&#34;</span>).<span style="color:#a6e22e">val</span>(<span style="color:#a6e22e">resultTitle</span>);
            <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#result&#34;</span>).<span style="color:#a6e22e">val</span>(<span style="color:#a6e22e">result</span>);
        }
    },
    {
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;å‡çº§æ–‡æ¡ˆ&#34;</span>,
        <span style="color:#a6e22e">html</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`&lt;label for=&#34;modal&#34;&gt;è¯­æ°”è¯&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;modal&#34; class=&#34;form-control&#34; placeholder=&#34;éœ‡æƒŠ&#34; required&gt;&lt;label for=&#34;subject&#34;&gt;ä¸»ä½“ç‰©&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;subject&#34; class=&#34;form-control&#34; placeholder=&#34;é¦™è•‰&#34; required&gt;&lt;label for=&#34;attribute&#34;&gt;å®šè¯­&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;attribute&#34; class=&#34;form-control&#34; placeholder=&#34;å°½é‡é¿å…&#34; required&gt;&lt;label for=&#34;secSubject&#34;&gt;ä¸ä»€ä¹ˆ...ï¼ˆç¬¬äºŒä¸»ä½“ï¼‰&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;secSubject&#34; class=&#34;form-control&#34; placeholder=&#34;æœ¨ç“œ&#34; required&gt;&lt;label for=&#34;event&#34;&gt;äº‹ä»¶&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;event&#34; class=&#34;form-control&#34; placeholder=&#34;é¢‘ç¹æ··åˆä½¿ç”¨&#34; required&gt;`</span>,
        <span style="color:#a6e22e">generate</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
            <span style="color:#a6e22e">modal</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#modal&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#a6e22e">subject</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#subject&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#a6e22e">attribute</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#attribute&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#a6e22e">secSubject</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#secSubject&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#a6e22e">_event</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#event&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">modal</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">subject</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">attribute</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">secSubject</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">_event</span>.<span style="color:#a6e22e">length</span>) <span style="color:#66d9ef">return</span>;
            <span style="color:#a6e22e">resultTitle</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">modal</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ï¼</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">attribute</span><span style="color:#e6db74">}</span><span style="color:#e6db74">å’Œ</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">secSubject</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">_event</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ï¼åŸå› ç«Ÿç„¶æ˜¯...`</span>
            <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`    </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ä¸ºä»€ä¹ˆä¸èƒ½ä¸</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">secSubject</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">_event</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ï¼Œè¿™ç©¶ç«Ÿæ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ç›¸ä¿¡å¤§å®¶å¾ˆç†Ÿæ‚‰å§ï¼Œä½†æ˜¯ä¸èƒ½ä¸</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">secSubject</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">_event</span><span style="color:#e6db74">}</span><span style="color:#e6db74">æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿä¸‹é¢å°±è®©å°ç¼–å¸¦ç€å¤§å®¶ä¸€èµ·å»äº†è§£å§ã€‚</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">n    </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ä¸èƒ½ä¸</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">secSubject</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">_event</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ï¼Œå…¶å®å°±æ˜¯</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ä¸èƒ½ä¸</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">secSubject</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">_event</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ã€‚å¤§å®¶å¯èƒ½ä¼šæ„Ÿåˆ°å¾ˆæƒŠè®¶ï¼Œ</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ä¸ºä»€ä¹ˆ</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">attribute</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ä¸</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">secSubject</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">_event</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ã€‚</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">n    è¿™äº›å°±æ˜¯</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ä¸ºä»€ä¹ˆ</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">attribute</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ä¸</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">secSubject</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">_event</span><span style="color:#e6db74">}</span><span style="color:#e6db74">çš„å…¨éƒ¨å†…å®¹äº†ã€‚å¤§å®¶æœ‰ä»€ä¹ˆæƒ³æ³•å‘¢ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºé‡Œä¸å°ç¼–ç•™è¨€äº’åŠ¨å“¦~æˆ‘ä»¬ä¸‹æœŸå†è§ï¼`</span>;
            <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#result-title&#34;</span>).<span style="color:#a6e22e">val</span>(<span style="color:#a6e22e">resultTitle</span>);
            <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#result&#34;</span>).<span style="color:#a6e22e">val</span>(<span style="color:#a6e22e">result</span>);
        }
    },
    {
        <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;åˆ˜ç‹ºè¾¾æ–‡æ¡ˆ&#34;</span>,
        <span style="color:#a6e22e">html</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`&lt;label for=&#34;subject&#34;&gt;ä¸»ä½“&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;subject&#34; class=&#34;form-control&#34; placeholder=&#34;åˆ˜ä¿¡è¾¾&#34; required&gt;&lt;label for=&#34;event&#34;&gt;å¿…é¡»é™æœŸåšä»€ä¹ˆ&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;event&#34; class=&#34;form-control&#34; placeholder=&#34;ç¦»å¼€äººä¸–&#34; required&gt;&lt;label for=&#34;subjectType&#34;&gt;ä¸»ä½“ç±»å‹&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;subjectType&#34; class=&#34;form-control&#34; placeholder=&#34;Dog&#34; required&gt;&lt;label for=&#34;whatDoesHeDo&#34;&gt;åšäº†ä»€ä¹ˆäº‹&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;whatDoesHeDo&#34; class=&#34;form-control&#34; placeholder=&#34;å¸¦åé’å°‘å¹´&#34; required&gt;&lt;label for=&#34;cons1&#34;&gt;åæœ1&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;cons1&#34; class=&#34;form-control&#34; placeholder=&#34;æ±¡æŸ“å¤§æ°”å±‚&#34; required&gt;&lt;label for=&#34;cons2&#34;&gt;åæœ2&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;cons2&#34; class=&#34;form-control&#34; placeholder=&#34;æµªè´¹æ°´èµ„æº&#34; required&gt;&lt;label for=&#34;do&#34;&gt;åšä»€ä¹ˆæ”¹æ­£ï¼ˆä¸å¯èƒ½çš„ï¼‰&lt;/label&gt;&lt;input type=&#34;text&#34; id=&#34;do&#34; class=&#34;form-control&#34; placeholder=&#34;ç¦»å¼€åœ°çƒ&#34; required&gt;`</span>,
        <span style="color:#a6e22e">generate</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> () {
            <span style="color:#a6e22e">subject</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#subject&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#a6e22e">_event</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#event&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#a6e22e">subjectType</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#subjectType&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#a6e22e">whatDoesHeDo</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#whatDoesHeDo&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#a6e22e">cons1</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#cons1&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#a6e22e">cons2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#cons2&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#a6e22e">_do</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#do&#34;</span>).<span style="color:#a6e22e">val</span>();
            <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">subject</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">_event</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">whatDoesHeDo</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">subjectType</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">cons1</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">cons2</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">_do</span>.<span style="color:#a6e22e">length</span>) <span style="color:#66d9ef">return</span>;
            <span style="color:#a6e22e">resultTitle</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`ã€</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}</span><span style="color:#e6db74">å¿…é¡»é™æœŸ</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">_event</span><span style="color:#e6db74">}</span><span style="color:#e6db74">! ã€‘`</span>
            <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subject</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ï¼Œ</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subjectType</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">whatDoesHeDo</span><span style="color:#e6db74">}</span><span style="color:#e6db74">æˆä½•ä½“ç»Ÿï¼Œä½ ä¸æ€•</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">cons1</span><span style="color:#e6db74">}</span><span style="color:#e6db74">å—ï¼Œä½ ä¸æ€•</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">cons2</span><span style="color:#e6db74">}</span><span style="color:#e6db74">å—ï¼Œä½ ä¸æ€•å¸¦åé’å°‘å¹´å—ï¼Œåˆ˜ä¿¡è¾¾é™ä½ ä¸‰ä¸ªæœˆï¼Œå¿…é¡»</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">_do</span><span style="color:#e6db74">}</span><span style="color:#e6db74">ï¼Œå¦åˆ™é€å‡º</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">subjectType</span><span style="color:#e6db74">}</span><span style="color:#e6db74">åœˆ!`</span>;
            <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#result-title&#34;</span>).<span style="color:#a6e22e">val</span>(<span style="color:#a6e22e">resultTitle</span>);
            <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#result&#34;</span>).<span style="color:#a6e22e">val</span>(<span style="color:#a6e22e">result</span>);
        }
    }
];

<span style="color:#a6e22e">msg</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>
<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">config</span>.<span style="color:#a6e22e">length</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
    <span style="color:#a6e22e">msg</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">`&lt;div class=&#34;custom-control custom-radio custom-control-inline&#34;&gt;
</span><span style="color:#e6db74">    &lt;input type=&#34;radio&#34; id=&#34;type-`</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">`&#34; name=&#34;choose&#34; class=&#34;custom-control-input&#34; value=&#34;`</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">`&#34;&gt;
</span><span style="color:#e6db74">    &lt;label class=&#34;custom-control-label&#34; for=&#34;type-`</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">`&#34;&gt;`</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">config</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">name</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">`&lt;/label&gt;
</span><span style="color:#e6db74">&lt;/div&gt;`</span>; 
}

<span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#radio&#34;</span>).<span style="color:#a6e22e">html</span>(<span style="color:#a6e22e">msg</span>);

<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">reset</span> () {
    <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#result&#34;</span>).<span style="color:#a6e22e">val</span>(<span style="color:#e6db74">&#34;&#34;</span>);
    <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#result-title&#34;</span>).<span style="color:#a6e22e">val</span>(<span style="color:#e6db74">&#34;&#34;</span>);
}

<span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;input[name=&#39;choose&#39;]&#34;</span>).<span style="color:#a6e22e">change</span>(<span style="color:#66d9ef">function</span> () {
    <span style="color:#a6e22e">reset</span>();
    <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;button&#39;</span>).<span style="color:#a6e22e">removeAttr</span>(<span style="color:#e6db74">&#34;disabled&#34;</span>);
    <span style="color:#a6e22e">_index</span> <span style="color:#f92672">=</span> Number(<span style="color:#a6e22e">$</span>(<span style="color:#66d9ef">this</span>).<span style="color:#a6e22e">val</span>());
    <span style="color:#a6e22e">msg</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
    <span style="color:#a6e22e">msg</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">config</span>[<span style="color:#a6e22e">_index</span>].<span style="color:#a6e22e">html</span>;
    <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#show&#34;</span>).<span style="color:#a6e22e">html</span>(<span style="color:#a6e22e">msg</span>);
});

<span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;#generate&#39;</span>).<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;click&#39;</span>, <span style="color:#66d9ef">function</span> () {
    <span style="color:#a6e22e">config</span>[<span style="color:#a6e22e">_index</span>].<span style="color:#a6e22e">generate</span>();
});

<span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;#audio&#39;</span>).<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;click&#39;</span>, <span style="color:#66d9ef">function</span> () {
    <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;#audio&#39;</span>).<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;disabled&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>);
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">url</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;//tts.baidu.com/text2audio?cuid=baiduid&amp;lan=zh&amp;ctp=1&amp;pdt=311&amp;tex=&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#34;#result&#34;</span>).<span style="color:#a6e22e">val</span>();
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">player</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Audio</span>(<span style="color:#a6e22e">url</span>);
    <span style="color:#a6e22e">player</span>.<span style="color:#a6e22e">play</span>();
    <span style="color:#a6e22e">$</span>(<span style="color:#a6e22e">player</span>).<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;ended&#39;</span>, <span style="color:#66d9ef">function</span> () {
        <span style="color:#a6e22e">$</span>(<span style="color:#e6db74">&#39;#audio&#39;</span>).<span style="color:#a6e22e">removeAttr</span>(<span style="color:#e6db74">&#39;disabled&#39;</span>);
    });
});

</code></pre></div><p>ä»£ç å¼€æºäº<a href="https://github.com/FFRaycoder/yingxiaohao">GitHub</a></p>
<hr>
<p><strong>2020/4/20æ›´æ–°ï¼š</strong></p>
<p>å¢åŠ äº†ä¸€ä¸ªæ–°æ¨¡æ¿ã€‚</p>
<p><strong>2020/4/21æ›´æ–°ï¼š</strong></p>
<p>å¢åŠ äº†åˆ˜ç‹ºè¾¾æ¨¡æ¿ã€‚</p>]]></description><category domain="https://raycoder.me/categories/js/">JS</category><category domain="https://raycoder.me/tags/js/">JS</category><category domain="https://raycoder.me/tags/%E8%90%A5%E9%94%80%E5%8F%B7/">è¥é”€å·</category></item><item><title>Pythonå­¦ä¹ ç¬”è®°ä¹‹å†…å­˜åˆ†é…ä¸idå‡½æ•°ã€iså…³é”®å­—</title><link>https://raycoder.me/p/python-memory-footprint-and-id-is/</link><guid isPermaLink="true">https://raycoder.me/p/python-memory-footprint-and-id-is/</guid><pubDate>Fri, 17 Apr 2020 08:04:33 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<h3 id="å†…å­˜åˆ†é…">å†…å­˜åˆ†é…</h3>
<p>åœ¨Pythonå­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šå†™è¿™æ ·çš„ä»£ç ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> foo <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> bar <span style="color:#f92672">=</span> foo
</code></pre></div><p>è¿™é‡Œï¼Œæˆ‘ä»¬æŠŠ<code>foo</code>çš„å€¼èµ‹ç»™äº†<code>bar</code>â€”â€”ä½†æ˜¯ï¼Œè¿™çœŸçš„æ˜¯ä¸€ç§èµ‹å€¼è€Œä¸æ˜¯..åˆ«å..å—ï¼Ÿ</p>
<p>æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬ä¿®æ”¹<code>foo</code>çš„å€¼åï¼Œ<code>bar</code>çš„å€¼æ˜¯å¦ä¼šå˜åŠ¨ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> foo<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">4</span>) <span style="color:#75715e">#[1, 2, 3, 4]</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> bar
[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
</code></pre></div><p>å“å‘€ï¼<code>bar</code>çš„å€¼ä¹Ÿä¿®æ”¹äº†ï¼</p>
<p>é‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬çœŸçš„åªæ˜¯æƒ³æŠŠ<code>bar</code>åˆ›å»ºä¸º<code>foo</code>çš„ä¸€ä¸ªå‰¯æœ¬å‘¢ï¼Ÿ</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> foo <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> bar <span style="color:#f92672">=</span> foo[:]
<span style="color:#f92672">&gt;&gt;&gt;</span> foo<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">4</span>) <span style="color:#75715e">#[1, 2, 3, 4]</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> bar
[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
</code></pre></div><p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨åˆ†ç‰‡ï¼ˆ<code>[:]</code>ï¼‰ä»<code>foo</code>åˆ›å»ºäº†ä¸€ä¸ªå‰¯æœ¬.</p>
<p>è¿™ä¸ªç°è±¡å°±ç‰µæ‰¯åˆ°äº†Pythonä¸­çš„..å†…å­˜åˆ†é…..ã€‚</p>
<p>åœ¨äº†è§£å†…å­˜åˆ†é…å‰ï¼Œæˆ‘ä»¬å…ˆè¦ç†è§£Pythonä¸­å˜é‡å·¥ä½œçš„æœºåˆ¶ã€‚</p>
<hr>
<h3 id="idå‡½æ•°"><code>id()</code>å‡½æ•°</h3>
<p>å¾ˆå¤šå°ç™½å¾ˆå°ç™½çš„è®¤ä¸ºï¼ŒPythonæ˜¯ä»¥å˜é‡åæ¥åˆ†è¾¨å˜é‡çš„ã€‚</p>
<p>æ€ä¹ˆå¯èƒ½å‘¢<heimu>Pythoné‚£ä¹ˆç‰›é€¼</heimu></p>
<p>æ¯ä¸€ä¸ªç¼–ç¨‹è¯­è¨€éƒ½æ˜¯ç”¨å˜é‡æ‰€åœ¨çš„å†…å­˜åˆ†è¾¨æ¯ä¸ªå˜é‡çš„ã€‚</p>
<p>æˆ‘ä»¬å›åˆ°å¼€å¤´ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> foo <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> bar <span style="color:#f92672">=</span> foo
<span style="color:#f92672">&gt;&gt;&gt;</span> id(foo)
<span style="color:#ae81ff">2415003666112</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> id(bar)
<span style="color:#ae81ff">2415003666112</span>
</code></pre></div><p>ä»–ä»¬çš„IDæ˜¯ç›¸åŒçš„ï¼Œå°±è¯´æ˜ä»–ä»¬ä½¿ç”¨äº†ç›¸åŒçš„å†…å­˜åœ°å€ï¼Œæ˜¯åŒä¸€ä¸ªå˜é‡ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> foo <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> bar <span style="color:#f92672">=</span> foo
<span style="color:#f92672">&gt;&gt;&gt;</span> foo <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> id(foo)
<span style="color:#ae81ff">2415003666112</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> id(bar)
<span style="color:#ae81ff">2415003507456</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> foo
[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> bar
[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> a <span style="color:#f92672">=</span> object()
<span style="color:#f92672">&gt;&gt;&gt;</span> a
<span style="color:#f92672">&lt;</span>object object at <span style="color:#ae81ff">0x0000022F37707AE0</span><span style="color:#f92672">&gt;</span> <span style="color:#75715e">#åå…­è¿›åˆ¶è½¬æ¢</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> id(a)
<span style="color:#ae81ff">2401816836832</span>
</code></pre></div><p>è¿™é‡Œæˆ‘ä»¬ä¼šçœ‹åˆ°ï¼Œç»™å˜é‡é‡æ–°èµ‹å€¼åï¼ŒIDä¸ä¸€æ ·äº†ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºï¼Œå˜é‡å…¶å®æ˜¯è¢«èµ‹äºˆäº†ä¸€ä¸ªå†…å­˜åœ°å€ã€‚</p>
<hr>
<h3 id="iså…³é”®å­—"><code>is</code>å…³é”®å­—</h3>
<p>å°ç™½å¯èƒ½è®¤ä¸ºï¼Œä¸¤ä¸ªå˜é‡çš„å€¼ç›¸åŒï¼Œå®ƒä»¬å°±æ˜¯åŒä¸€ä¸ªå˜é‡ã€‚</p>
<p>æ€ä¹ˆå¯èƒ½å‘¢<heimu>Pythoné‚£ä¹ˆå¸…æ°”</heimu></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> foo <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> bar <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> id(foo)
<span style="color:#ae81ff">2415003665024</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> id(bar)
<span style="color:#ae81ff">2415003665600</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> foo <span style="color:#f92672">==</span> bar
True
<span style="color:#f92672">&gt;&gt;&gt;</span> foo <span style="color:#f92672">is</span> bar
False
</code></pre></div><p><code>==</code>æ“ä½œç¬¦ç”¨äºæ£€æµ‹å€¼çš„ç›¸ç­‰ï¼Œ<code>is</code>å…³é”®å­—ç”¨äºæ£€æµ‹<code>id</code>çš„ç›¸ç­‰ã€‚</p>
<hr>
<h3 id="å†…å­˜é‡ç”¨1">å†…å­˜é‡ç”¨<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></h3>
<p>ä¸ºäº†æé«˜å†…å­˜åˆ©ç”¨æ•ˆç‡å¯¹äºä¸€äº›ç®€å•çš„å¯¹è±¡ï¼Œå¦‚ä¸€äº›æ•°å€¼è¾ƒå°çš„intå¯¹è±¡ï¼Œå­—ç¬¦ä¸²å¯¹è±¡ç­‰ï¼Œpythoné‡‡å–é‡ç”¨å¯¹è±¡å†…å­˜çš„åŠæ³•.</p>
<h4 id="å°å†…å­˜å˜é‡">å°å†…å­˜å˜é‡</h4>
<p>å¦‚æŒ‡å‘a=2ï¼Œb=2æ—¶ï¼Œç”±äº2ä½œä¸ºç®€å•çš„intç±»å‹ä¸”æ•°å€¼å°ï¼ŒPythonä¸ä¼šä¸¤æ¬¡ä¸ºå…¶åˆ†é…å†…å­˜ï¼Œè€Œæ˜¯åªåˆ†é…ä¸€æ¬¡ï¼Œç„¶åå°†aä¸båŒæ—¶æŒ‡å‘å·²åˆ†é…çš„å¯¹è±¡ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> a <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> b <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(id(a), id(b), id(<span style="color:#ae81ff">2</span>))
<span style="color:#ae81ff">140705517236528</span> <span style="color:#ae81ff">140705517236528</span> <span style="color:#ae81ff">140705517236528</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;a == b:&#39;</span>, a <span style="color:#f92672">==</span> b)
a <span style="color:#f92672">==</span> b: True
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;a is b:&#39;</span>, a <span style="color:#f92672">is</span> b)
a <span style="color:#f92672">is</span> b: True
</code></pre></div><h4 id="å¤§å†…å­˜å˜é‡">å¤§å†…å­˜å˜é‡</h4>
<p>å¦‚å¯¹äºæ•°å€¼è¾ƒå¤§çš„intå¯¹è±¡ï¼ŒPythonä¼šä¸ºhoå’Œmoåˆ†åˆ«ç”³è¯·ä¸€å—å†…å­˜ï¼Œæ¥å­˜å‚¨114514ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> ho <span style="color:#f92672">=</span> <span style="color:#ae81ff">114514</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> mo <span style="color:#f92672">=</span> <span style="color:#ae81ff">114514</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(id(ho), id(mo), id(<span style="color:#ae81ff">114514</span>))
<span style="color:#ae81ff">2401819762384</span> <span style="color:#ae81ff">2401819762352</span> <span style="color:#ae81ff">2401820368464</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;ho == mo:&#39;</span>, ho <span style="color:#f92672">==</span> mo)
ho <span style="color:#f92672">==</span> mo: True
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;ho is mo:&#39;</span>, ho <span style="color:#f92672">is</span> mo)
ho <span style="color:#f92672">is</span> mo: False
</code></pre></div><hr>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a href="https://blog.csdn.net/zhuzuwei/article/details/80554776">Pythonç¼–ç¨‹å­¦ä¹ 5ï¼špython id()å‡½æ•°å’Œå†…å­˜åˆ†é…ç†è§£</a> <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>]]></description><category domain="https://raycoder.me/categories/python/">Python</category><category domain="https://raycoder.me/categories/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Pythonå­¦ä¹ ç¬”è®°</category><category domain="https://raycoder.me/categories/python%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/">Pythonå†…å»ºå‡½æ•°</category><category domain="https://raycoder.me/tags/python/">Python</category><category domain="https://raycoder.me/tags/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Pythonå­¦ä¹ ç¬”è®°</category><category domain="https://raycoder.me/tags/python%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/">Pythonå†…å»ºå‡½æ•°</category><category domain="https://raycoder.me/tags/python%E5%85%B3%E9%94%AE%E5%AD%97/">Pythonå…³é”®å­—</category></item><item><title>è®°ä¸€æ¬¡æ–‡ç« è¢«çˆ¬</title><link>https://raycoder.me/p/article-crawled-by-spiders/</link><guid isPermaLink="true">https://raycoder.me/p/article-crawled-by-spiders/</guid><pubDate>Wed, 15 Apr 2020 18:15:24 +0800</pubDate><description><![CDATA[<p>è¿™çœŸçš„æ˜¯æ°”æ­»æˆ‘äº†ã€‚æˆ‘ä¸€ä¸ªå°ç«™éƒ½å¯ä»¥è¢«çˆ¬ã€‚ä¸è¯´äº†ï¼Œä¸Šå›¾å§ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200415181823.png" alt="ç”»åœˆçš„æ˜¯æ¶æ„çˆ¬è™«" title="ç”»åœˆçš„æ˜¯æ¶æ„çˆ¬è™«"></p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200415181943.png" alt="ç”»åœˆçš„æ˜¯æ¶æ„çˆ¬è™«" title="ç”»åœˆçš„æ˜¯æ¶æ„çˆ¬è™«"></p>
<p>æˆ‘çš„æ–‡ç« å…è®¸æ‚¨è½¬è½½ï¼Œä½†ä½ è¿™ä¸ªæ²¡æœ‰æ ‡æ˜ä½œè€…æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200415182224.png" alt="" title="è¿˜æ‰‹åŠ¨æäº¤ï¼Œå‰å®³äº†"></p>
<p>ä¸æ˜¯ä½ è¿™ä¸ªè¿<code>shortcode</code>éƒ½æ²¡æœ‰æ”¹ä¹Ÿå¤ªé‚£å•¥äº†å§ï¼Ÿï¼Ÿï¼ˆé‚£æ—¶å€™æˆ‘è¿˜ä¸ä¼šmarkdownå†™åŠ ç‚¹ï¼‰</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200415184009.png" alt=""></p>
<p>å®åœ¨ä¸æƒ³è¯´è¯äº†ã€‚</p>
<p>çˆ¬è™«åœ¨ç™¾åº¦ä¸Šæ”¶å½•éƒ½æœ‰å¥½å‡ é¡µã€‚</p>
<p>æˆ‘åªæƒ³è¯´ï¼šè½¬è½½è¯·å†™æ˜å‡ºå¤„ï¼</p>
<hr>
<p>2020/4/16æ›´æ–°ï¼š</p>
<p>ç›®å‰<code>mamicode.com</code>å·²ç»åˆ é™¤æ–‡ç« ï¼Œ<code>e-learn.cn</code>å·²ç»æ ‡æ˜å‡ºå¤„ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/%E5%8D%9A%E5%AE%A2/">åšå®¢</category><category domain="https://raycoder.me/tags/%E5%8D%9A%E5%AE%A2/">åšå®¢</category></item><item><title>ç½‘ç«™SEOä¼˜åŒ–ï¼š1</title><link>https://raycoder.me/p/seo-1/</link><guid isPermaLink="true">https://raycoder.me/p/seo-1/</guid><pubDate>Tue, 14 Apr 2020 11:26:48 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<h3 id="what-is-seo">What is SEOï¼Ÿ</h3>
<p>SEOï¼ˆSearch Engine Optimizationï¼‰ï¼Œå³æœç´¢å¼•æ“ä¼˜åŒ–ã€‚</p>
<p>ä¸€å¥<del>åºŸ</del>è¯ï¼Œå°±æ˜¯ä¸ºäº†è®©æœç´¢å¼•æ“æ›´äº†è§£ä½ çš„ç½‘ç«™ï¼Œä»è€Œè¾¾åˆ°æ›´å¤šæ”¶å½•çš„æ•ˆæœã€‚</p>
<h3 id="åŸŸåæ³¨å†Œæ—¶é•¿">åŸŸåæ³¨å†Œæ—¶é•¿</h3>
<p>åŸŸåæ³¨å†Œæ—¶é•¿æ˜¯æœç´¢å¼•æ“å¾ˆé‡è¦çš„æŒ‡æ ‡ä¹‹ä¸€ã€‚æœ¬ç«™ï¼ˆ<a href="https://raycoder.me">https://raycoder.me</a>ï¼‰æ³¨å†Œäº†å°†è¿‘3ä¸ªæœˆï¼Œç›®å‰ç™¾åº¦æ”¶å½•17æ¡ã€‚ä»¥<a href="https://imaegoo.com">iMaegoo's Blog</a>ä¸ºä¾‹ï¼ŒåŸŸåæ³¨å†Œäº†ä¸¤å¹´çš„æ—¶é•¿ï¼Œæ”¶å½•é‡æœ‰61æ¡ã€‚å­˜æ´»æ—¶é—´ä¸é•¿çš„åŸŸååœ¨ç™¾åº¦ç´¢å¼•é‡Œä¸ä¼šå æœ‰å¤ªå¤§çš„æ¯”é‡ã€‚</p>
<h3 id="å–„ç”¨ç«™é•¿å¹³å°">å–„ç”¨ç«™é•¿å¹³å°</h3>
<p>ç™¾åº¦ã€æœç‹—ã€Googleç­‰æœç´¢å¼•æ“éƒ½æœ‰è‡ªå·±çš„ç«™é•¿å¹³å°ã€‚</p>
<ul>
<li>ç™¾åº¦ï¼š<a href="https://ziyuan.baidu.com">https://ziyuan.baidu.com</a></li>
<li>æœç‹—ï¼š<a href="https://zhanzhang.sogou.com">https://zhanzhang.sogou.com</a></li>
<li>è°·æ­Œï¼š<a href="https://search.google.com/search-console/welcome?hl=zh-CN">https://search.google.com/search-console/welcome?hl=zh-CN</a></li>
</ul>
<p>å…ˆéªŒè¯ç½‘ç«™ä¸»åŸŸåï¼ˆå»ºè®®wwwï¼‰ï¼Œæäº¤Sitemapï¼Œæ’å…¥è‡ªåŠ¨æäº¤ä»£ç ï¼Œä¸€æ ·çš„å¥—è·¯ã€‚</p>
<h3 id="htmlç»“æ„">HTMLç»“æ„</h3>
<p>å¯¹äºä¸€ä¸ªæ–°ç«™ï¼Œæœç´¢å¼•æ“ä¸ä¼šä½¿ç”¨è¿‡å¤šèµ„æºæ¥æŠ“å–ã€‚å‡å¦‚æœç´¢å¼•æ“æŠ“åˆ°äº†ä½ çš„ç½‘é¡µ<heimu>æœ‰ç”Ÿä¹‹å¹´</heimu>ï¼Œä¹Ÿå¹¶ä¸ä¼šå»åˆ†æé‡Œé¢çš„å†…å®¹ã€‚åœ¨<code>&lt;head&gt;</code>æ ‡ç­¾ä¸­æ·»åŠ ä¸€äº›<code>&lt;meta&gt;</code>æ ‡ç­¾æœ‰åŠ©äºæœç´¢å¼•æ“äº†è§£ä½ çš„ç½‘ç«™ã€‚</p>
<p>ä¸€äº›å¸¸ç”¨<code>&lt;meta&gt;</code>æ ‡ç­¾ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;keywords&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Ray, Git&#34;</span>&gt;<span style="color:#75715e">&lt;!--å…³é”®å­—ï¼Œè‹±æ–‡é€—å·åˆ†å‰²--&gt;</span>
&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;description&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Gitæ•™ç¨‹â€¦â€¦&#34;</span>&gt;<span style="color:#75715e">&lt;!--æè¿°--&gt;</span>
&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;author&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Ray, ray@raycoder.me&#34;</span>&gt;<span style="color:#75715e">&lt;!--ä½œè€…--&gt;</span>
&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;generator&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Hugo 0.68.3&#34;</span>&gt;<span style="color:#75715e">&lt;!--ç½‘é¡µç”Ÿæˆå™¨--&gt;</span>
&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;copyright&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Ray&#34;</span>&gt;<span style="color:#75715e">&lt;!--Copyright--&gt;</span>
&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;robots&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;index,follow&#34;</span>&gt;<span style="color:#75715e">&lt;!--Robots--&gt;</span>
</code></pre></div><h3 id="å¤šåŠ ç½‘ç«™çš„å‹é“¾">å¤šåŠ ç½‘ç«™çš„å‹é“¾</h3>
<p>åªè¦å¯¹æ–¹æ²¡æœ‰è®¾ç½®å‹é“¾<code>&lt;a&gt;</code>æ ‡ç­¾<code>nofollow</code>ï¼Œé‚£ä¹ˆæœç´¢å¼•æ“å°±ä¼šä»å‹é“¾é¡µé¢çˆ¬åˆ°ä½ çš„ç½‘ç«™å»ã€‚å¤šåŠ ä¸€ç‚¹æ”¶å½•å¤šçš„ç½‘ç«™å‹é“¾æ€»æ˜¯æ²¡é”™çš„~</p>
<h3 id="ä¸»é¢˜æ˜ç¡®">ä¸»é¢˜æ˜ç¡®</h3>
<p>æ˜ç¡®çš„ç½‘ç«™ç±»å‹æœ‰åŠ©äºæœç´¢å¼•æ“æŠŠä½ çš„ç½‘ç«™åˆ†ç±»ï¼Œä»è€Œè¾¾åˆ°<code>SEO</code>çš„æ•ˆæœã€‚</p>
<hr>
<p>OJBKï¼Œä»ç½‘ä¸ŠæŠ„äº†ç‚¹ä¸œè¥¿ï¼Œåˆæ°µäº†ä¸€ç¯‡æ–‡ç« ğŸ¢</p>
]]></description><category domain="https://raycoder.me/categories/seo/">SEO</category><category domain="https://raycoder.me/tags/seo/">SEO</category><category domain="https://raycoder.me/tags/%E5%8D%9A%E5%AE%A2/">åšå®¢</category></item><item><title>About Valineè¯„è®º</title><link>https://raycoder.me/p/about-valine/</link><guid isPermaLink="true">https://raycoder.me/p/about-valine/</guid><pubDate>Sun, 12 Apr 2020 14:56:23 +0800</pubDate><description>&lt;p>å™—ï¼ŒæŠ±æ­‰ï¼Œç›®å‰æˆ‘æ›´æ¢äº†åŸç‰ˆValineï¼Œè¯„è®ºéƒ½ä¸è§äº†QwQï¼Œæˆ‘ä¼šå°½åŠ›æŠŠå®ƒä»¬è¿ç§»è¿‡æ¥çš„ï¼ï¼&lt;/p></description><category domain="https://raycoder.me/categories/%E5%8D%9A%E5%AE%A2/">åšå®¢</category><category domain="https://raycoder.me/tags/%E5%8D%9A%E5%AE%A2/">åšå®¢</category></item><item><title>Travis CIè‡ªåŠ¨éƒ¨ç½²Hugoåšå®¢</title><link>https://raycoder.me/p/travis-ci-automatically-deploys-hugo-blog/</link><guid isPermaLink="true">https://raycoder.me/p/travis-ci-automatically-deploys-hugo-blog/</guid><pubDate>Thu, 09 Apr 2020 13:16:30 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<p>è¿‘æ—¥å‘ç°GitHub Pageså›½å†…è®¿é—®é€Ÿåº¦å˜å¿«ï¼Œå‡†å¤‡æ¢å›å»ã€‚å¥ˆä½•æˆ‘åˆæƒ³ä¿ç•™GitHubä¸Šçš„æºç ï¼ŒHugoåˆæ²¡æœ‰<code>hexo d</code>è¿™æ ·çš„ä¸€é”®éƒ¨ç½²æ“ä½œï¼Œåªèƒ½ä½¿ç”¨Travis CIï¼ˆ<code>Continuous Integration</code>ï¼ŒæŒç»­é›†æˆï¼‰æ¥å®ç°ã€‚</p>
<hr>
<h3 id="ä»€ä¹ˆæ˜¯ci">ä»€ä¹ˆæ˜¯CIï¼Ÿ</h3>
<p>CIï¼Œ<code>Continuous Integration</code>ï¼ŒæŒç»­é›†æˆã€‚CIå°±åƒæ˜¯ä¸€ä¸ªç›‘è§†å™¨ï¼Œåœ¨ä½ èµ‹äºˆå®ƒæƒé™åï¼Œå®ƒå°±ä¼šä¸€ç›´ç›¯ç€ä½ ä»“åº“çš„åŠ¨æ€ã€‚å½“ä½ çš„ä»“åº“è§¦å‘æŒ‡å®šæ“ä½œæ—¶ï¼Œå®ƒå°±æŠŠç›¸åº”çš„æŒ‡ä»¤æ‰§è¡Œå®Œã€‚</p>
<hr>
<h3 id="éƒ¨ç½²hugo">éƒ¨ç½²Hugo</h3>
<p>ï¼ˆè¯·å…ˆåœ¨ä½ çš„ä»“åº“åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œå¦‚<code>hugo</code>ï¼Œå†è®¾ç½®å…¶ä¸ºä¸»åˆ†æ”¯ï¼‰</p>
<p>æˆ‘ä»¬å¾—å…ˆè·å–ä¸€ä¸ª<a href="https://github.com/settings/tokens"><code>Personal access token</code></a>ï¼Œç”¨äºç»™Travis CIè®¿é—®ä»“åº“çš„æƒé™ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200409132636.png" alt=""></p>
<p>ç‚¹å‡»ä¹‹åï¼Œåªéœ€è¦å‹¾é€‰<code>repo:status</code>ã€<code> repo_deployment</code>å’Œ<code>public_repo</code>ä¸‰é¡¹å³å¯ï¼Œè¿™æ ·å³ä½¿ä»¤ç‰Œè¢«ç›—ï¼Œä¹Ÿå¯ä»¥æœ€å¤§çš„å‡å°‘æŸå¤±ã€‚Noteå¤„æ˜¯å¯é€‰çš„ï¼Œä¸éœ€è¦å¡«å†™ï¼Œåªæ˜¯èµ·åˆ†è¾¨ä½œç”¨ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200409133232.png" alt=""></p>
<p>ç”Ÿæˆå®Œä¹‹åä¸€å®šè¦ä¿å­˜ä»¤ç‰Œï¼Œè¿™ä¸ªä»¤ç‰Œåªä¼šå‡ºç°ä¸€æ¬¡ã€‚</p>
<p>éšåè®©æˆ‘ä»¬æ‰“å¼€<a href="https://travis-ci.com">Travis CIå®˜ç½‘</a>ï¼Œä½¿ç”¨GitHubç™»å½•ã€‚</p>
<p>é€‰æ‹©ä½ çš„åšå®¢ä»“åº“ã€‚</p>
<p>ç‚¹å‡»<code>Settings</code>ï¼Œåœ¨<code>Environment Variables</code>ä¸­æ·»åŠ åˆšåˆšçš„ä»¤ç‰Œï¼Œ<code>NAME</code>ä¸º<code>ACCESS_TOKEN</code>ï¼Œ<code>VALUE</code>ä¸ºä½ çš„ä»¤ç‰Œã€‚<code>Branch</code>é€‰<code>All branches</code>ã€‚</p>
<hr>
<h3 id="travisé’©å­">Travisé’©å­</h3>
<p>Travis æœ‰ä¸åŒçš„é˜¶æ®µ,ä»–æä¾›äº†7ä¸ªé’©å­ã€‚</p>
<ul>
<li>before_installï¼šinstall é˜¶æ®µä¹‹å‰æ‰§è¡Œ</li>
<li>before_scriptï¼šscript é˜¶æ®µä¹‹å‰æ‰§è¡Œ</li>
<li>after_failureï¼šscript é˜¶æ®µå¤±è´¥æ—¶æ‰§è¡Œ</li>
<li>after_successï¼šscript é˜¶æ®µæˆåŠŸæ—¶æ‰§è¡Œ</li>
<li>before_deployï¼šdeploy æ­¥éª¤ä¹‹å‰æ‰§è¡Œ</li>
<li>after_deployï¼šdeploy æ­¥éª¤ä¹‹åæ‰§è¡Œ</li>
<li>after_scriptï¼šscript é˜¶æ®µä¹‹åæ‰§è¡Œ</li>
</ul>
<h3 id="ç”Ÿå‘½å‘¨æœŸ">ç”Ÿå‘½å‘¨æœŸ</h3>
<ol>
<li>before_install</li>
<li>install</li>
<li>before_script</li>
<li>script</li>
<li>aftersuccess or afterfailure</li>
<li>[OPTIONAL] before_deploy</li>
<li>[OPTIONAL] deploy</li>
<li>[OPTIONAL] after_deploy</li>
<li>after_script</li>
</ol>
<p>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹æ–°å»º<code>.travis.yml</code>ï¼Œå†…å®¹å¦‚ä¸‹ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">language</span>: node_js <span style="color:#75715e">#è¯­è¨€æ˜¯NodeJS</span>
<span style="color:#66d9ef">node_js</span>: <span style="color:#ae81ff">13.12.0</span> <span style="color:#75715e">#Nodeç‰ˆæœ¬ï¼Œæˆ‘æ˜¯ç”¨äº†ä¸€äº›npmæ¨¡å—</span>
<span style="color:#66d9ef">install</span>:
    - wget https://github.com/gohugoio/hugo/releases/download/v0<span style="color:#ae81ff">.68.3</span>/hugo_extended_0<span style="color:#ae81ff">.68</span>.3_Linux-64bit.deb <span style="color:#75715e">#wgetHugoçš„å®‰è£…åŒ…ï¼Œå¯ä»¥ä¿®æ”¹</span>
    - sudo dpkg -i hugo<span style="color:#75715e">*.deb</span>
    - hugo version
    - rm -rf public
    - npm install <span style="color:#75715e">#å®‰è£…ä¾èµ–ï¼Œè¦package.jsonï¼Œæ²¡éœ€æ±‚çš„å¯ä»¥çœç•¥</span>
    
<span style="color:#66d9ef">script</span>:
    - npm run build <span style="color:#75715e">#æˆ‘è¿™é‡Œåœ¨package.jsoné…ç½®äº†ä¸€ç³»åˆ—ç”Ÿæˆæ“ä½œï¼Œå¯ä»¥è‡ªå·±æ›¿æ¢</span>

<span style="color:#66d9ef">after_success</span>:
    - git config --global user.name <span style="color:#e6db74">&#34;FFRaycoder&#34;</span> <span style="color:#75715e">#ç”¨æˆ·å</span>
    - git config --global user.email <span style="color:#e6db74">&#34;ray@raycoder.me&#34;</span> <span style="color:#75715e">#ç”¨æˆ·é‚®ç®±</span>
    - git clone https://${ACCESS_TOKEN}@github.com/FFRaycoder/ffraycoder.github.io.git container <span style="color:#75715e">#æ¢æˆä½ çš„ä»“åº“</span>
    - rm -rf container/*
    - cp -r public/* container 
    - cd container
    - git add .
    - git commit -m <span style="color:#e6db74">&#39;Travis update blog&#39;</span>
    - git push -u origin master -f
</code></pre></div><p><code>package.json</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;blog&#34;</span>,
  <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;1.0.0&#34;</span>,
  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Ray&#39;s Blog&#34;</span>,
  <span style="color:#f92672">&#34;main&#34;</span>: <span style="color:#e6db74">&#34;index.js&#34;</span>,
  <span style="color:#f92672">&#34;scripts&#34;</span>: {
    <span style="color:#f92672">&#34;test&#34;</span>: <span style="color:#e6db74">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span>,
    <span style="color:#f92672">&#34;build&#34;</span>: <span style="color:#e6db74">&#34;git config --global core.quotePath false &amp;&amp; hugo --gc --minify --cleanDestinationDir &amp;&amp; ./node_modules/gulp/bin/gulp.js build&#34;</span>,
    <span style="color:#f92672">&#34;index&#34;</span>: <span style="color:#e6db74">&#34;hugo-lunr&#34;</span>,
    <span style="color:#f92672">&#34;algolia&#34;</span>: <span style="color:#e6db74">&#34;atomic-algolia&#34;</span>
  },
  <span style="color:#f92672">&#34;engines&#34;</span>: {
    <span style="color:#f92672">&#34;node&#34;</span>: <span style="color:#e6db74">&#34;12.x&#34;</span>
  },
  <span style="color:#f92672">&#34;repository&#34;</span>: {
    <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;git&#34;</span>,
    <span style="color:#f92672">&#34;url&#34;</span>: <span style="color:#e6db74">&#34;git+https://github.com/FFRaycoder/blog.git&#34;</span>
  },
  <span style="color:#f92672">&#34;keywords&#34;</span>: [
    <span style="color:#e6db74">&#34;blog&#34;</span>,
    <span style="color:#e6db74">&#34;hugo&#34;</span>,
    <span style="color:#e6db74">&#34;hugo-theme-meme&#34;</span>
  ],
  <span style="color:#f92672">&#34;author&#34;</span>: <span style="color:#e6db74">&#34;reuixiy&#34;</span>,
  <span style="color:#f92672">&#34;license&#34;</span>: <span style="color:#e6db74">&#34;CC-BY-NC-SA-4.0&#34;</span>,
  <span style="color:#f92672">&#34;bugs&#34;</span>: {
    <span style="color:#f92672">&#34;url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/FFRaycoder/blog/issues&#34;</span>
  },
  <span style="color:#f92672">&#34;homepage&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/FFRaycoder/blog&#34;</span>,
  <span style="color:#f92672">&#34;devDependencies&#34;</span>: {
    <span style="color:#f92672">&#34;gulp&#34;</span>: <span style="color:#e6db74">&#34;^4.0.2&#34;</span>,
    <span style="color:#f92672">&#34;gulp-uglify&#34;</span>: <span style="color:#e6db74">&#34;^3.0.2&#34;</span>,
    <span style="color:#f92672">&#34;hugo-search-index&#34;</span>: <span style="color:#e6db74">&#34;^0.5.0&#34;</span>,
    <span style="color:#f92672">&#34;readable-stream&#34;</span>: <span style="color:#e6db74">&#34;^3.6.0&#34;</span>,
    <span style="color:#f92672">&#34;uglify-es&#34;</span>: <span style="color:#e6db74">&#34;^3.3.9&#34;</span>,
    <span style="color:#f92672">&#34;workbox-build&#34;</span>: <span style="color:#e6db74">&#34;^5.0.0&#34;</span>
  }
}
</code></pre></div><p>è‡³æ­¤ï¼Œæˆ‘ä»¬çš„é…ç½®å°±ç»“æŸäº†ã€‚æ¯æ¬¡æŠŠåšå®¢æºç æ¨é€åˆ°ä»“åº“çš„<code>hugo</code>åˆ†æ”¯ï¼ŒTraviså°±ä¼šè‡ªåŠ¨å¸®ä½ éƒ¨ç½²å¥½ç½‘é¡µã€‚</p>
]]></description><category domain="https://raycoder.me/categories/ci/">CI</category><category domain="https://raycoder.me/tags/travis-ci/">Travis CI</category><category domain="https://raycoder.me/tags/hugo/">Hugo</category><category domain="https://raycoder.me/tags/github/">GitHub</category><category domain="https://raycoder.me/tags/%E5%8D%9A%E5%AE%A2/">åšå®¢</category></item><item><title>GitHub Pageså˜å¿«äº†ï¼</title><link>https://raycoder.me/p/github-pages-becomes-faster/</link><guid isPermaLink="true">https://raycoder.me/p/github-pages-becomes-faster/</guid><pubDate>Thu, 09 Apr 2020 09:38:09 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼æœ¬æ–‡é¦–å‘äºä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<p>å‰å¤©åœ¨é€›å¤§ä½¬ä»¬çš„åšå®¢ï¼Œæœ‰çš„å¤§ä½¬ç”¨çš„æ˜¯<code>github.io</code>äºŒçº§åŸŸåã€‚ç„¶åç½‘é¡µæŒ‚äº†ï¼Œäº¤æµç¾¤å†…ä¸€ç‰‡å–Šå£°<heimu>æ·¦</heimu>ğŸ™ƒ</p>
<p>æ˜¨å¤©ä¸Šåˆåˆå»çœ‹äº†çœ‹ï¼ŒPageså¯ä»¥æ­£å¸¸è®¿é—®äº†ã€‚é˜¿ï¼Œæ€ä¹ˆæ„Ÿè§‰å˜å¿«äº†ï¼Ÿ</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200409094422.png" alt=""></p>
<p>ä¼—æ‰€å‘¨çŸ¥GitHubé‡‡ç”¨çš„Fastly CDNï¼Œä¼°è®¡å‰å¤©æ˜¯å¢åŠ å›½å†…èŠ‚ç‚¹å»äº†ã€‚</p>
<p>çœŸé¦™ï¼Œå¯ä»¥æŠ›å¼ƒNetlifyäº†QQ</p>
<hr>
<p>è€Œä¸”å–æ¶ˆäº†å¯¹ç™¾åº¦Robots.txtçš„é™åˆ¶ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/github/">GitHub</category><category domain="https://raycoder.me/tags/github/">GitHub</category><category domain="https://raycoder.me/tags/pages/">Pages</category></item><item><title>HTMLå…¥é—¨(äºŒ)ï¼šæ–‡æœ¬</title><link>https://raycoder.me/p/html-2/</link><guid isPermaLink="true">https://raycoder.me/p/html-2/</guid><pubDate>Wed, 08 Apr 2020 13:19:37 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼ä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
</blockquote>
<h2 id="æ™®é€šæ–‡æœ¬">æ™®é€šæ–‡æœ¬</h2>
<h3 id="æ ‡é¢˜">æ ‡é¢˜</h3>
<p>HTMLä¸­çš„æ ‡é¢˜æœ‰å…­ä¸ªçº§åˆ«ï¼š</p>
<h4 id="h1">&lt;h1&gt;</h4>
<p>ç”¨åœ¨ä¸»æ ‡é¢˜ä¸Šã€‚</p>
<h4 id="h2">&lt;h2&gt;</h4>
<p>ç”¨äºäºŒçº§æ ‡é¢˜ä¸Šã€‚</p>
<h4 id="h3">&lt;h3&gt;</h4>
<p>ä»¥æ­¤ç±»æ¨â€¦â€¦</p>
<h4 id="h4">&lt;h4&gt;</h4>
<h4 id="h5">&lt;h5&gt;</h4>
<h4 id="h6">&lt;h6&gt;</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">h1</span>&gt;ä¸€çº§æ ‡é¢˜&lt;/<span style="color:#f92672">h1</span>&gt;
&lt;<span style="color:#f92672">h2</span>&gt;äºŒçº§æ ‡é¢˜&lt;/<span style="color:#f92672">h2</span>&gt;
&lt;<span style="color:#f92672">h3</span>&gt;ä¸‰çº§æ ‡é¢˜&lt;/<span style="color:#f92672">h3</span>&gt;
&lt;<span style="color:#f92672">h4</span>&gt;å››çº§æ ‡é¢˜&lt;/<span style="color:#f92672">h4</span>&gt;
&lt;<span style="color:#f92672">h5</span>&gt;äº”çº§æ ‡é¢˜&lt;/<span style="color:#f92672">h5</span>&gt;
&lt;<span style="color:#f92672">h6</span>&gt;å…­çº§æ ‡é¢˜&lt;/<span style="color:#f92672">h6</span>&gt;
</code></pre></div><p>ç»“æœï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200411132736.png" alt=""></p>
<h3 id="æ®µè½">æ®µè½</h3>
<h4 id="p">&lt;p&gt;</h4>
<p>åœ¨æˆæ®µçš„æ–‡å­—ä¸¤ç«¯æ·»åŠ <code>&lt;p&gt;</code>èµ·å§‹æ ‡ç­¾å’Œ<code>&lt;/p&gt;</code>ç»“æŸæ ‡ç­¾å°±æ„æˆäº†HTMLä¸­çš„æ®µè½ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">p</span>&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ï¼&lt;/<span style="color:#f92672">p</span>&gt;
&lt;<span style="color:#f92672">p</span>&gt;è¿™æ˜¯å¦ä¸€ä¸ªæ®µè½ï¼&lt;/<span style="color:#f92672">p</span>&gt;
</code></pre></div><p>ç»“æœï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200411133205.png" alt=""></p>
<p>ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šæŠŠæ®µè½å¦èµ·ä¸€è¡Œæ˜¾ç¤ºå¹¶ä¿æŒä¸€å®šè·ç¦»ã€‚ï¼‰</p>
<h3 id="ç²—ä½“">ç²—ä½“</h3>
<h4 id="b">&lt;b&gt;</h4>
<p>åœ¨<code>&lt;b&gt;</code>èµ·å§‹æ ‡ç­¾ä¸<code>&lt;/b&gt;</code>ç»“æŸæ ‡ç­¾ä¸­çš„æ–‡å­—æ˜¾ç¤ºä¸ºç²—ä½“ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">p</span>&gt;è¿™æ˜¯ä¸€ä¸ª&lt;<span style="color:#f92672">b</span>&gt;æ®µè½&lt;/<span style="color:#f92672">b</span>&gt;ï¼&lt;/<span style="color:#f92672">p</span>&gt;
&lt;<span style="color:#f92672">p</span>&gt;è¿™æ˜¯&lt;<span style="color:#f92672">b</span>&gt;å¦ä¸€ä¸ª&lt;/<span style="color:#f92672">b</span>&gt;æ®µè½ï¼&lt;/<span style="color:#f92672">p</span>&gt;
</code></pre></div><p>ç»“æœï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200411133919.png" alt=""></p>
<h3 id="æ–œä½“">æ–œä½“</h3>
<h4 id="i">&lt;i&gt;</h4>
<p>åœ¨<code>&lt;i&gt;</code>èµ·å§‹æ ‡ç­¾ä¸<code>&lt;/i&gt;</code>ç»“æŸæ ‡ç­¾ä¸­çš„æ–‡å­—æ˜¾ç¤ºä¸ºæ–œä½“ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">p</span>&gt;è¿™æ˜¯ä¸€ä¸ª&lt;<span style="color:#f92672">i</span>&gt;æ®µè½&lt;/<span style="color:#f92672">i</span>&gt;ï¼&lt;/<span style="color:#f92672">p</span>&gt;
&lt;<span style="color:#f92672">p</span>&gt;è¿™æ˜¯&lt;<span style="color:#f92672">i</span>&gt;å¦ä¸€ä¸ª&lt;/<span style="color:#f92672">i</span>&gt;æ®µè½ï¼&lt;/<span style="color:#f92672">p</span>&gt;
</code></pre></div><p>ç»“æœï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200411134209.png" alt=""></p>
<h3 id="ä¸Šä¸‹æ ‡">ä¸Šä¸‹æ ‡</h3>
<h4 id="ä¸Šæ ‡sup">ä¸Šæ ‡&lt;sup&gt;</h4>
<p>åœ¨<code>&lt;sup&gt;</code>èµ·å§‹æ ‡ç­¾ä¸<code>&lt;/sup&gt;</code>ç»“æŸæ ‡ç­¾ä¸­çš„æ–‡å­—æ˜¾ç¤ºä¸ºä¸Šæ ‡ï¼Œå¦‚<code>2&lt;sup&gt;2&lt;/sup&gt;</code>=2<sup>2</sup>ã€‚</p>
<h4 id="ä¸‹æ ‡sub">ä¸‹æ ‡&lt;sub&gt;</h4>
<p>åœ¨<code>&lt;sub&gt;</code>èµ·å§‹æ ‡ç­¾ä¸<code>&lt;/sub&gt;</code>ç»“æŸæ ‡ç­¾ä¸­çš„æ–‡å­—æ˜¾ç¤ºä¸ºä¸Šæ ‡ï¼Œå¦‚<code>H&lt;sub&gt;2&lt;/sub&gt;O</code>=H<sub>2</sub>Oã€‚</p>
<h3 id="æ¢è¡Œç¬¦å’Œæ°´å¹³çº¿">æ¢è¡Œç¬¦å’Œæ°´å¹³çº¿</h3>
<h4 id="æ¢è¡Œç¬¦br-">æ¢è¡Œç¬¦&lt;br /&gt;</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">åœ°çƒ&lt;<span style="color:#f92672">br</span> /&gt;æ¯å¤©ç»•ç€&lt;<span style="color:#f92672">br</span> /&gt;å¤ªé˜³è½¬ã€‚
</code></pre></div><p>ç»“æœï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200411134916.png" alt=""></p>
<p>å½“ç„¶ï¼Œè¿™ä¸ª<code> /</code>å¯ä»¥ç•¥å»ä¸å†™ï¼Œå†™æˆ<code>&lt;br&gt;</code>ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
<h3 id="æ°´å¹³çº¿hr-">æ°´å¹³çº¿&lt;hr /&gt;</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">Rayæ˜¯ä¸€ä¸ª&lt;<span style="color:#f92672">hr</span> /&gt;å¤§æ°µB
</code></pre></div><p>ç»“æœï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200411135247.png" alt=""></p>
<p>åŒç†ï¼Œè¿™ä¸ª<code> /</code>ä¹Ÿå¯ä»¥ç•¥å»ä¸å†™ï¼Œå†™æˆ<code>&lt;hr&gt;</code>ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
<h2 id="è¯­ä¹‰åŒ–æ ‡è®°">è¯­ä¹‰åŒ–æ ‡è®°</h2>
<p>å’Œä¸Šé¢çš„æ–‡æœ¬æ ‡ç­¾ä¸åŒçš„æ˜¯ï¼Œè¯­ä¹‰åŒ–æ ‡è®°åŸºæœ¬ä¸Šæ˜¯å±•ç°ç»™æœç´¢å¼•æ“è€Œä¸æ˜¯ç”¨æˆ·çš„ã€‚</p>
<h3 id="strong">&lt;strong&gt;</h3>
<p><code>&lt;strong&gt;</code>æ ‡ç­¾è¡¨ç¤ºå…¶ä¸­å†…å®¹å¾ˆé‡è¦â€”â€”ä¸€èˆ¬æ˜¾ç¤ºä¸ºç²—ä½“ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">strong</span>&gt;æ³¨æ„:&lt;/<span style="color:#f92672">strong</span>&gt;ä¸é€‚åˆå·¥ä½œæ—¶è§‚çœ‹!
</code></pre></div><p>ç»“æœï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200414115950.png" alt=""></p>
<h3 id="em">&lt;em&gt;</h3>
<p><code>&lt;em&gt;</code>æ ‡ç­¾èµ·å¼ºè°ƒä½œç”¨â€”â€”ä¸€èˆ¬æ˜¾ç¤ºä¸ºæ–œä½“ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">p</span>&gt;æˆ‘ &lt;<span style="color:#f92672">em</span>&gt;è§‰å¾—&lt;/<span style="color:#f92672">em</span>&gt; æˆ‘éå¸¸æ°µ&lt;/<span style="color:#f92672">p</span>&gt;
&lt;<span style="color:#f92672">p</span>&gt;æˆ‘è§‰å¾— &lt;<span style="color:#f92672">em</span>&gt;æˆ‘&lt;/<span style="color:#f92672">em</span>&gt; éå¸¸æ°µ&lt;/<span style="color:#f92672">p</span>&gt;
</code></pre></div><p>æ•ˆæœï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200414120553.png" alt=""></p>
<h3 id="å¼•ç”¨">å¼•ç”¨</h3>
<h4 id="blockquote">&lt;blockquote&gt;</h4>
<p><code>&lt;blockquote&gt;</code>ä¼šè‡ªåŠ¨ç¼©è¿›ï¼Œä½†æ˜¯æœ€å¥½ä½¿ç”¨CSSå®Œæˆå…¶ä»–æ–‡æœ¬çš„ç¼©è¿›ã€‚<code>cite</code>ç‰¹æ€§å¯ä»¥è¡¨æ˜è¿™æ˜¯ä»å“ªé‡Œå¼•ç”¨çš„ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">blockquote</span> <span style="color:#a6e22e">cite</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://en.wikipedia.org/wiki/Winnie-the-Pooh&#34;</span>&gt;
	&lt;<span style="color:#f92672">p</span>&gt;æ‚¨æ˜¯å¦æ›¾ç»åœä¸‹æ¥æ€è€ƒï¼Œè€Œå¿˜è®°é‡æ–°å¼€å§‹ï¼Ÿ&lt;/<span style="color:#f92672">p</span>&gt;
&lt;/<span style="color:#f92672">blockquote</span>&gt;
</code></pre></div><p>æ•ˆæœï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200414121204.png" alt=""></p>
<h4 id="q">&lt;q&gt;</h4>
<p><code>&lt;q&gt;</code>ç”¨äºè¡¨æ˜åœ¨æ®µè½ä¸­çš„è¾ƒçŸ­å¼•ç”¨ã€‚å®ƒä¸€èˆ¬ä¼šåœ¨å¼•ç”¨æ–‡æœ¬ä¸¤è¾¹åŠ ä¸Šå¼•å·ã€‚è¿™äº›å¼•å·æ˜¯æ— æ³•è¢«é€‰ä¸­çš„ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">p</span>&gt;Vanæ›¾è¯´ï¼Œ&lt;<span style="color:#f92672">q</span>&gt;ASSâ™‚WEâ™‚CANï¼&lt;/<span style="color:#f92672">q</span>&gt;&lt;/<span style="color:#f92672">p</span>&gt;
</code></pre></div><p>æ•ˆæœï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200414121134.png" alt=""></p>
<h3 id="å†…å®¹çš„ä¿®æ”¹">å†…å®¹çš„ä¿®æ”¹</h3>
<h4 id="insä¸del">&lt;ins&gt;ä¸&lt;del&gt;</h4>
<p><code>&lt;ins&gt;</code>æ ‡ç­¾ä¸ºæ’å…¥çš„å†…å®¹ï¼Œ<code>&lt;del&gt;</code>æ ‡ç­¾ä¸ºåˆ å»çš„å†…å®¹ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">p</span>&gt;è¿™çœŸæ˜¯ä¸€ä¸ª &lt;<span style="color:#f92672">del</span>&gt;æœ€å·®&lt;/<span style="color:#f92672">del</span>&gt; &lt;<span style="color:#f92672">ins</span>&gt;æœ€å¥½&lt;/<span style="color:#f92672">ins</span>&gt; çš„ç‚¹å­äº†ï¼&lt;/<span style="color:#f92672">p</span>&gt;
</code></pre></div><p>æ•ˆæœï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200414121349.png" alt=""></p>
<h4 id="s">&lt;s&gt;</h4>
<p><code>&lt;s&gt;</code>æ ‡ç­¾è¡¨ç¤ºä¸å‡†ç¡®ä½†ä¸åº”åˆ å»çš„å†…å®¹ã€‚</p>
<p>çœ‹ç€åƒæ˜¯<code>&lt;del&gt;</code>æ ‡ç­¾ï¼Œä½†å®ƒä»¬æ˜¯ä¸åŒçš„ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">p</span>&gt;åŒ—äº¬å°»é¸­ï¼š&lt;/<span style="color:#f92672">p</span>&gt;
&lt;<span style="color:#f92672">p</span>&gt;&lt;<span style="color:#f92672">s</span>&gt;è¿‡å»ï¿¥100&lt;/<span style="color:#f92672">s</span>&gt;&lt;/<span style="color:#f92672">p</span>&gt;
&lt;<span style="color:#f92672">p</span>&gt;ç°åœ¨åªè¦ï¿¥998ï¼&lt;/<span style="color:#f92672">p</span>&gt;
</code></pre></div><p>æ•ˆæœï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200414121618.png" alt=""></p>
<hr>
<p>å‘¼ï¼Œç»ˆäºåˆè‚å®Œä¸€ç¯‡äº†ï¼Œæ°µ~</p>
]]></description><category domain="https://raycoder.me/categories/html/">HTML</category><category domain="https://raycoder.me/categories/html%E5%85%A5%E9%97%A8/">HTMLå…¥é—¨</category><category domain="https://raycoder.me/tags/html/">HTML</category><category domain="https://raycoder.me/tags/html%E5%85%A5%E9%97%A8/">HTMLå…¥é—¨</category></item><item><title>HTMLå…¥é—¨(ä¸€)ï¼šç»“æ„</title><link>https://raycoder.me/p/html-1/</link><guid isPermaLink="true">https://raycoder.me/p/html-1/</guid><pubDate>Tue, 07 Apr 2020 08:51:02 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼ä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
<p><strong>æœ¬æ–‡é¦–å‘äº<a href="https://raycoder.me/p/html-1/">Ray's Blog</a></strong></p>
</blockquote>
<h3 id="wordæ–‡æ¡£çš„ç»“æ„">Wordæ–‡æ¡£çš„ç»“æ„</h3>
<p>ä»»ä½•æ–‡æ¡£ä¸­æ ‡é¢˜å’Œå­æ ‡é¢˜éƒ½åæ˜ å‡ºä¿¡æ¯çš„å±‚æ¬¡æ€§ã€‚æ ‡é¢˜åé¢å¯èƒ½è·Ÿç€æ–‡æ¡£ç®€ä»‹æˆ–æ˜¯æ–‡æ¡£ä¸­æœ€é‡è¦çš„ä¿¡æ¯ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªWordæ–‡æ¡£ç¤ºä¾‹ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200407085907.png" alt=""></p>
<p>ä»è¿™é‡Œæˆ‘ä»¬ç†è§£åˆ°äº†Wordæ–‡æ¡£ä¸­ç»“æ„çš„è¿ç”¨å¯¹ç†è§£æ–‡æ¡£çš„å¸®åŠ©ï¼Œç¼–å†™ç½‘é¡µçš„æ—¶å€™ï¼Œé“ç†æ˜¯ä¸€æ ·çš„ã€‚</p>
<h3 id="htmlæ–‡æ¡£çš„ç»“æ„">HTMLæ–‡æ¡£çš„ç»“æ„</h3>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200407090301.png" alt=""></p>
<h4 id="htmlä½¿ç”¨å…ƒç´ æè¿°ç»“æ„">HTMLä½¿ç”¨å…ƒç´ æè¿°ç»“æ„</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">html</span>&gt;<span style="color:#75715e">&lt;!--HTMLä»£ç çš„å¼€å§‹--&gt;</span>
    &lt;<span style="color:#f92672">body</span>&gt;<span style="color:#75715e">&lt;!--ä¸ç»“æŸæ ‡ç­¾ä¸­çš„å†…å®¹æ˜¾ç¤ºåœ¨æµè§ˆå™¨ä¸»çª—å£ä¸­--&gt;</span>
		&lt;<span style="color:#f92672">h1</span>&gt;ä¸€çº§æ ‡é¢˜&lt;/<span style="color:#f92672">h1</span>&gt;<span style="color:#75715e">&lt;!--ä¸»æ ‡é¢˜--&gt;</span>
		&lt;<span style="color:#f92672">p</span>&gt;æ™®é€šæ–‡æœ¬&lt;/<span style="color:#f92672">p</span>&gt;<span style="color:#75715e">&lt;!--æˆæ®µçš„æ–‡å­—--&gt;</span>
        &lt;<span style="color:#f92672">h2</span>&gt;äºŒçº§æ ‡é¢˜&lt;/<span style="color:#f92672">h2</span>&gt;
		&lt;<span style="color:#f92672">p</span>&gt;å¦ä¸€æ®µæ™®é€šæ–‡æœ¬&lt;/<span style="color:#f92672">p</span>&gt;
		&lt;<span style="color:#f92672">h2</span>&gt;åˆä¸€ä¸ªäºŒçº§æ ‡é¢˜&lt;/<span style="color:#f92672">h2</span>&gt;
		&lt;<span style="color:#f92672">p</span>&gt;åˆä¸€æ®µæ™®é€šæ–‡æœ¬&lt;/<span style="color:#f92672">p</span>&gt;
	&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><h4 id="è¿›ä¸€æ­¥åˆ†ææ ‡ç­¾">è¿›ä¸€æ­¥åˆ†ææ ‡ç­¾</h4>
<p>HTMLä»£ç ç”±åŒ…å«åœ¨å°–æ‹¬å·é‡Œçš„å­—ç¬¦æ„æˆï¼Œè¿™äº›ä»£ç ç§°ä¸º<code>HTMLå…ƒç´ </code>ã€‚å…ƒç´ é€šå¸¸ç”±ä¸¤ä¸ªæ ‡ç­¾ç»„æˆï¼šä¸€ä¸ªå…¶å®æ ‡ç­¾å’Œä¸€ä¸ªç»“æŸæ ‡ç­¾ã€‚</p>
<p>HTMLæ ‡ç­¾çš„ç»“æ„å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">     èµ·å§‹æ ‡ç­¾              ç»“æŸæ ‡ç­¾
&lt;      <span style="color:#f92672">p</span>       &gt;      &lt; /    <span style="color:#f92672">p</span>     &gt;
å·¦å°–   ç”¨é€”     å³å°–     æ–œæ   å­—ç¬¦
æ‹¬å· è¿™é‡Œæ˜¯æ®µè½  æ‹¬å·
</code></pre></div><h4 id="æ ‡ç­¾çš„ç‰¹æ€§">æ ‡ç­¾çš„ç‰¹æ€§</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">lang   </span><span style="color:#f92672">=</span>  <span style="color:#e6db74">&#34;zh-cn&#34;</span>&gt;ä¸€ä¸ªä¸­æ–‡æ®µè½&lt;/<span style="color:#f92672">p</span>&gt;
   ç‰¹æ€§åç§°    ç‰¹æ€§å€¼
</code></pre></div><h4 id="bodyheadå’Œtitle">&lt;body&gt;ã€&lt;head&gt;å’Œ&lt;title&gt;</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">html</span>&gt;
	&lt;<span style="color:#f92672">head</span>&gt;
		&lt;<span style="color:#f92672">title</span>&gt;é¡µé¢çš„æ ‡é¢˜&lt;/<span style="color:#f92672">title</span>&gt;
	&lt;/<span style="color:#f92672">head</span>&gt;
	&lt;<span style="color:#f92672">body</span>&gt;
		&lt;<span style="color:#f92672">h1</span>&gt;è¿™æ˜¯é¡µé¢çš„æ­£æ–‡&lt;/<span style="color:#f92672">h1</span>&gt;
		&lt;<span style="color:#f92672">p</span>&gt;ç½‘é¡µæ­£æ–‡ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šæ˜¾ç¤ºåœ¨ä¸»æµè§ˆå™¨çª—å£ä¸­ã€‚&lt;/<span style="color:#f92672">p</span>&gt;
	&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><h5 id="body">&lt;body&gt;</h5>
<p>åœ¨æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªç¤ºä¾‹é¡µé¢ä¸­ï¼Œæˆ‘ä»¬å°±çœ‹åˆ°äº†<code>&lt;body</code>&gt;å…ƒç´ ã€‚è¿™ä¸ªå…ƒç´ ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨çš„ä¸»çª—å£ä¸­ã€‚</p>
<h5 id="head">&lt;head&gt;</h5>
<p>åœ¨<code>&lt;body&gt;</code>å…ƒç´ çš„å‰é¢ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šçœ‹åˆ°<code>&lt;head&gt;</code>æ ‡ç­¾â€”â€”å®ƒåŒ…å«äº†æœ‰å…³è¿™ä¸ªé¡µé¢çš„ä¸€äº›ä¿¡æ¯ã€‚æˆ‘ä»¬ç»å¸¸ä¼šåœ¨è¿™é‡Œçœ‹åˆ°<code>&lt;title&gt;</code>å…ƒç´ ã€‚</p>
<h5 id="title">&lt;title&gt;</h5>
<p><code>&lt;title&gt;</code>å…ƒç´ è®¾ç½®è¿™ä¸ªé¡µé¢çš„æ ‡é¢˜ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/html/">HTML</category><category domain="https://raycoder.me/categories/html%E5%85%A5%E9%97%A8/">HTMLå…¥é—¨</category><category domain="https://raycoder.me/tags/html/">HTML</category><category domain="https://raycoder.me/tags/html%E5%85%A5%E9%97%A8/">HTMLå…¥é—¨</category><category domain="https://raycoder.me/tags/html%E7%BB%93%E6%9E%84/">HTMLç»“æ„</category></item><item><title>ä¸‡èƒ½çš„CLOUDFLARE WORKERS+JSProxyä»£ç†ï¼Ÿï¼</title><link>https://raycoder.me/p/cf-worker-proxy/</link><guid isPermaLink="true">https://raycoder.me/p/cf-worker-proxy/</guid><pubDate>Thu, 02 Apr 2020 16:48:52 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼ä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
<p><strong>æœ¬æ–‡é¦–å‘äº<a href="https://raycoder.me/p/cf-worker-proxy/">Ray's Blog</a></strong></p>
</blockquote>
<p>ä¸ç’ä½ ä»¬è¯´ï¼Œæˆ‘çœ‹åˆ°è¿™ä¸ªé¡¹ç›®çš„æ—¶å€™éƒ½éœ‡ï¼ˆæ™ºï¼‰æƒŠï¼ˆéšœï¼‰äº†ï¼è´´ä¸Šé“¾æ¥ï¼š<a href="https://github.com/EtherDream/jsproxy">EtherDream / jsproxy | Github</a>ä½ çŒœè¿™ä¸ªé¡¹ç›®æ˜¯åšä»€ä¹ˆçš„ï¼Ÿä½¿ç”¨<a href="https://workers.cloudflare.com"><code>Cloudflare workers</code></a>è¿›è¡Œ<em class="emphasis-point">åå‘ä»£ç†</em>ï¼ï¼ï¼</p>
<p><img src="https://cdngh.raycoder.me/imgs/20200403091318.jpg" alt=""></p>
<p>å…ˆé™„ä¸Šä¸€ä¸ªç½‘å€ã€‚<a href="https://yt.raycoder.me">https://yt.raycoder.me</a>ï¼Œè¿™æ˜¯æˆ‘å¼„çš„ä¸€ä¸ªYouTubeä»£ç†ç½‘å€ã€‚è¿™ä¸ªçœŸçš„åªä½¿ç”¨äº†<code>Cloudflare Workers</code>è¿›è¡Œä»£ç†ï¼Œæˆ‘æ˜¯æ²¡æœ‰åšä»»ä½•å…¶å®ƒé…ç½®çš„ã€‚ä½ ä¹Ÿå¯ä»¥æŠŠè¿™å½“åšä¸€ä¸ªcdnæ¥ç”¨â€”â€”cloudflareå…è´¹ç‰ˆä¸ç»™ä½ å›½å†…çš„èŠ‚ç‚¹ï¼Œä½†æ˜¯Workersæœ‰å•Šï¼ä¸€ä¸ªæœˆ10ä¸‡çš„è¯·æ±‚æ•°é‡å®Œå…¨å¤Ÿç”¨äº†ã€‚ï¼ˆä½ ä»¬å¯èƒ½å‘ç°æˆ‘çš„ç«™å˜å¿«äº†ï¼Œå› ä¸ºæˆ‘ä¹Ÿç”¨äº†ï¼‰</p>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªCloudflareè´¦å·ï¼Œè‡ªå·±æ³¨å†Œï¼Œå†æŠŠä½ çš„åŸŸå<code>NS</code>æœåŠ¡å™¨æ¢æˆCFç»™ä½ çš„ã€‚0ç„¶åç‚¹å‡»ä¸Šé¢è´´å‡ºçš„workersåœ°å€ï¼Œç‚¹å‡»&quot;Start Building&quot;ï¼ŒæŒ‰ç…§æµç¨‹é…ç½®å¥½ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200402170525.png" alt=""></p>
<p>ç„¶åä¼šè·³è½¬åˆ°ä½ çš„æ§åˆ¶å°ç•Œé¢ï¼Œç‚¹è¿›å»ï¼Œé€‰æ‹©<code>Workers</code>ï¼š</p>
<p><img src="https://cdngh.raycoder.me/imgs/20200402170620.png" alt=""></p>
<p>ç‚¹å‡»<code>Manage Workers</code>ï¼Œä½ ä¼šè§åˆ°ä¸€ä¸ªç±»ä¼¼äºè¿™æ ·çš„é¡µé¢ã€‚</p>
<p><img src="https://cdngh.raycoder.me/imgs/20200402170832.png" alt=""></p>
<p>ç„¶åæŠŠè¿™ä¸²JSä»£ç è´´è¿›å»ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#e6db74">&#39;use strict&#39;</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * static files (404.html, sw.js, conf.js)
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ASSET_URL</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&lt;YOUR_URL&gt;&#39;</span>

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">JS_VER</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">MAX_RETRY</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>

<span style="color:#75715e">/** @type {RequestInit} */</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">PREFLIGHT_INIT</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">status</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">204</span>,
  <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Headers</span>({
    <span style="color:#e6db74">&#39;access-control-allow-origin&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;*&#39;</span>,
    <span style="color:#e6db74">&#39;access-control-allow-methods&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;GET,POST,PUT,PATCH,TRACE,DELETE,HEAD,OPTIONS&#39;</span>,
    <span style="color:#e6db74">&#39;access-control-max-age&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;1728000&#39;</span>,
  }),
}

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {any} body
</span><span style="color:#75715e"> * @param {number} status
</span><span style="color:#75715e"> * @param {Object&lt;string, string&gt;} headers
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#a6e22e">body</span>, <span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">200</span>, <span style="color:#a6e22e">headers</span> <span style="color:#f92672">=</span> {}) {
  <span style="color:#a6e22e">headers</span>[<span style="color:#e6db74">&#39;--ver&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">JS_VER</span>
  <span style="color:#a6e22e">headers</span>[<span style="color:#e6db74">&#39;access-control-allow-origin&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;*&#39;</span>
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Response</span>(<span style="color:#a6e22e">body</span>, {<span style="color:#a6e22e">status</span>, <span style="color:#a6e22e">headers</span>})
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {string} urlStr 
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">newUrl</span>(<span style="color:#a6e22e">urlStr</span>) {
  <span style="color:#66d9ef">try</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">URL</span>(<span style="color:#a6e22e">urlStr</span>)
  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">err</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
  }
}


<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;fetch&#39;</span>, <span style="color:#a6e22e">e</span> =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ret</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">fetchHandler</span>(<span style="color:#a6e22e">e</span>)
    .<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span> =&gt; <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;cfworker error:\n&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">stack</span>, <span style="color:#ae81ff">502</span>))
  <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">respondWith</span>(<span style="color:#a6e22e">ret</span>)
})


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {FetchEvent} e 
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fetchHandler</span>(<span style="color:#a6e22e">e</span>) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">req</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">request</span>
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">urlStr</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">url</span>
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">urlObj</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">URL</span>(<span style="color:#a6e22e">urlStr</span>)
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">href</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">origin</span>.<span style="color:#a6e22e">length</span>)

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">protocol</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;http:&#39;</span>) {
    <span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">protocol</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https:&#39;</span>
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#ae81ff">301</span>, {
      <span style="color:#e6db74">&#39;strict-transport-security&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;max-age=99999999; includeSubDomains; preload&#39;</span>,
      <span style="color:#e6db74">&#39;location&#39;</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">href</span>,
    })
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">startsWith</span>(<span style="color:#e6db74">&#39;/http/&#39;</span>)) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">httpHandler</span>(<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#ae81ff">6</span>))
  }

  <span style="color:#66d9ef">switch</span> (<span style="color:#a6e22e">path</span>) {
  <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;/http&#39;</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;è¯·æ›´æ–° cfworker åˆ°æœ€æ–°ç‰ˆæœ¬!&#39;</span>)
  <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;/ws&#39;</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;not support&#39;</span>, <span style="color:#ae81ff">400</span>)
  <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;/works&#39;</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;it works&#39;</span>)
  <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
    <span style="color:#75715e">// static files
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#a6e22e">ASSET_URL</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">path</span>)
  }
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {Request} req
</span><span style="color:#75715e"> * @param {string} pathname
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">httpHandler</span>(<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">pathname</span>) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">reqHdrRaw</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">headers</span>
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">reqHdrRaw</span>.<span style="color:#a6e22e">has</span>(<span style="color:#e6db74">&#39;x-jsproxy&#39;</span>)) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Response</span>.<span style="color:#a6e22e">error</span>()
  }

  <span style="color:#75715e">// preflight
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">method</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;OPTIONS&#39;</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#a6e22e">reqHdrRaw</span>.<span style="color:#a6e22e">has</span>(<span style="color:#e6db74">&#39;access-control-request-headers&#39;</span>)
  ) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Response</span>(<span style="color:#66d9ef">null</span>, <span style="color:#a6e22e">PREFLIGHT_INIT</span>)
  }

  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">acehOld</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rawSvr</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rawLen</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rawEtag</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>

  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">reqHdrNew</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Headers</span>(<span style="color:#a6e22e">reqHdrRaw</span>)
  <span style="color:#a6e22e">reqHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;x-jsproxy&#39;</span>, <span style="color:#e6db74">&#39;1&#39;</span>)

  <span style="color:#75715e">// æ­¤å¤„é€»è¾‘å’Œ http-dec-req-hdr.lua å¤§è‡´ç›¸åŒ
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// https://github.com/EtherDream/jsproxy/blob/master/lua/http-dec-req-hdr.lua
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">refer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">reqHdrNew</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;referer&#39;</span>)
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">query</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">refer</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#a6e22e">refer</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#e6db74">&#39;?&#39;</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">query</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;missing params&#39;</span>, <span style="color:#ae81ff">403</span>)
  }
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">param</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">URLSearchParams</span>(<span style="color:#a6e22e">query</span>)

  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">k</span>, <span style="color:#a6e22e">v</span>] <span style="color:#66d9ef">of</span> Object.<span style="color:#a6e22e">entries</span>(<span style="color:#a6e22e">param</span>)) {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">k</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>) <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;--&#39;</span>) {
      <span style="color:#75715e">// ç³»ç»Ÿä¿¡æ¯
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">switch</span> (<span style="color:#a6e22e">k</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#ae81ff">2</span>)) {
      <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;aceh&#39;</span><span style="color:#f92672">:</span>
        <span style="color:#a6e22e">acehOld</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
        <span style="color:#66d9ef">break</span>
      <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;raw-info&#39;</span><span style="color:#f92672">:</span>
        [<span style="color:#a6e22e">rawSvr</span>, <span style="color:#a6e22e">rawLen</span>, <span style="color:#a6e22e">rawEtag</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39;|&#39;</span>)
        <span style="color:#66d9ef">break</span>
      }
    } <span style="color:#66d9ef">else</span> {
      <span style="color:#75715e">// è¿˜åŸ HTTP è¯·æ±‚å¤´
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">v</span>) {
        <span style="color:#a6e22e">reqHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#a6e22e">k</span>, <span style="color:#a6e22e">v</span>)
      } <span style="color:#66d9ef">else</span> {
        <span style="color:#a6e22e">reqHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#a6e22e">k</span>)
      }
    }
  }
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">param</span>.<span style="color:#a6e22e">has</span>(<span style="color:#e6db74">&#39;referer&#39;</span>)) {
    <span style="color:#a6e22e">reqHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">&#39;referer&#39;</span>)
  }

  <span style="color:#75715e">// cfworker ä¼šæŠŠè·¯å¾„ä¸­çš„ `//` åˆå¹¶æˆ `/`
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">urlStr</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pathname</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/^(https?):\/+/</span>, <span style="color:#e6db74">&#39;$1://&#39;</span>)
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">urlObj</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newUrl</span>(<span style="color:#a6e22e">urlStr</span>)
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">urlObj</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;invalid proxy url: &#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">urlStr</span>, <span style="color:#ae81ff">403</span>)
  }

  <span style="color:#75715e">/** @type {RequestInit} */</span>
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">reqInit</span> <span style="color:#f92672">=</span> {
    <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">method</span>,
    <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">reqHdrNew</span>,
    <span style="color:#a6e22e">redirect</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;manual&#39;</span>,
  }
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">method</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;POST&#39;</span>) {
    <span style="color:#a6e22e">reqInit</span>.<span style="color:#a6e22e">body</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>
  }
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">proxy</span>(<span style="color:#a6e22e">urlObj</span>, <span style="color:#a6e22e">reqInit</span>, <span style="color:#a6e22e">acehOld</span>, <span style="color:#a6e22e">rawLen</span>, <span style="color:#ae81ff">0</span>)
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * @param {URL} urlObj 
</span><span style="color:#75715e"> * @param {RequestInit} reqInit 
</span><span style="color:#75715e"> * @param {number} retryTimes 
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">proxy</span>(<span style="color:#a6e22e">urlObj</span>, <span style="color:#a6e22e">reqInit</span>, <span style="color:#a6e22e">acehOld</span>, <span style="color:#a6e22e">rawLen</span>, <span style="color:#a6e22e">retryTimes</span>) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">res</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">href</span>, <span style="color:#a6e22e">reqInit</span>)
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">resHdrOld</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">headers</span>
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">resHdrNew</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Headers</span>(<span style="color:#a6e22e">resHdrOld</span>)

  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">expose</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;*&#39;</span>
  
  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">k</span>, <span style="color:#a6e22e">v</span>] <span style="color:#66d9ef">of</span> <span style="color:#a6e22e">resHdrOld</span>.<span style="color:#a6e22e">entries</span>()) {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">k</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;access-control-allow-origin&#39;</span> <span style="color:#f92672">||</span>
        <span style="color:#a6e22e">k</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;access-control-expose-headers&#39;</span> <span style="color:#f92672">||</span>
        <span style="color:#a6e22e">k</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;location&#39;</span> <span style="color:#f92672">||</span>
        <span style="color:#a6e22e">k</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;set-cookie&#39;</span>
    ) {
      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;--&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">k</span>
      <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">v</span>)
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">acehOld</span>) {
        <span style="color:#a6e22e">expose</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">expose</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;,&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">x</span>
      }
      <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#a6e22e">k</span>)
    }
    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">acehOld</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#a6e22e">k</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;cache-control&#39;</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#a6e22e">k</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;content-language&#39;</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#a6e22e">k</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;content-type&#39;</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#a6e22e">k</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;expires&#39;</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#a6e22e">k</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;last-modified&#39;</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#a6e22e">k</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;pragma&#39;</span>
    ) {
      <span style="color:#a6e22e">expose</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">expose</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;,&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">k</span>
    }
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">acehOld</span>) {
    <span style="color:#a6e22e">expose</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">expose</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;,--s&#39;</span>
    <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;--t&#39;</span>, <span style="color:#e6db74">&#39;1&#39;</span>)
  }

  <span style="color:#75715e">// verify
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">rawLen</span>) {
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">newLen</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">resHdrOld</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;content-length&#39;</span>) <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;&#39;</span>
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">badLen</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">rawLen</span> <span style="color:#f92672">!==</span> <span style="color:#a6e22e">newLen</span>)

    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">badLen</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">retryTimes</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">MAX_RETRY</span>) {
        <span style="color:#a6e22e">urlObj</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">parseYtVideoRedir</span>(<span style="color:#a6e22e">urlObj</span>, <span style="color:#a6e22e">newLen</span>, <span style="color:#a6e22e">res</span>)
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">urlObj</span>) {
          <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">proxy</span>(<span style="color:#a6e22e">urlObj</span>, <span style="color:#a6e22e">reqInit</span>, <span style="color:#a6e22e">acehOld</span>, <span style="color:#a6e22e">rawLen</span>, <span style="color:#a6e22e">retryTimes</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)
        }
      }
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">body</span>, <span style="color:#ae81ff">400</span>, {
        <span style="color:#e6db74">&#39;--error&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`bad len: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">newLen</span><span style="color:#e6db74">}</span><span style="color:#e6db74">, except: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">rawLen</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>,
        <span style="color:#e6db74">&#39;access-control-expose-headers&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;--error&#39;</span>,
      })
    }

    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">retryTimes</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
      <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;--retry&#39;</span>, <span style="color:#a6e22e">retryTimes</span>)
    }
  }

  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>

  <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;access-control-expose-headers&#39;</span>, <span style="color:#a6e22e">expose</span>)
  <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;access-control-allow-origin&#39;</span>, <span style="color:#e6db74">&#39;*&#39;</span>)
  <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;--s&#39;</span>, <span style="color:#a6e22e">status</span>)
  <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;--ver&#39;</span>, <span style="color:#a6e22e">JS_VER</span>)

  <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">&#39;content-security-policy&#39;</span>)
  <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">&#39;content-security-policy-report-only&#39;</span>)
  <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">&#39;clear-site-data&#39;</span>)

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">301</span> <span style="color:#f92672">||</span>
      <span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">302</span> <span style="color:#f92672">||</span>
      <span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">303</span> <span style="color:#f92672">||</span>
      <span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">307</span> <span style="color:#f92672">||</span>
      <span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">308</span>
  ) {
    <span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">status</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">10</span>
  }

  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Response</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">body</span>, {
    <span style="color:#a6e22e">status</span>,
    <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">resHdrNew</span>,
  })
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {URL} urlObj 
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">isYtUrl</span>(<span style="color:#a6e22e">urlObj</span>) {
  <span style="color:#66d9ef">return</span> (
    <span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">host</span>.<span style="color:#a6e22e">endsWith</span>(<span style="color:#e6db74">&#39;.googlevideo.com&#39;</span>) <span style="color:#f92672">&amp;&amp;</span>
    <span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">pathname</span>.<span style="color:#a6e22e">startsWith</span>(<span style="color:#e6db74">&#39;/videoplayback&#39;</span>)
  )
}

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {URL} urlObj 
</span><span style="color:#75715e"> * @param {number} newLen 
</span><span style="color:#75715e"> * @param {Response} res 
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">parseYtVideoRedir</span>(<span style="color:#a6e22e">urlObj</span>, <span style="color:#a6e22e">newLen</span>, <span style="color:#a6e22e">res</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">newLen</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2000</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
  }
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">isYtUrl</span>(<span style="color:#a6e22e">urlObj</span>)) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
  }
  <span style="color:#66d9ef">try</span> {
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">text</span>()
    <span style="color:#a6e22e">urlObj</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">URL</span>(<span style="color:#a6e22e">data</span>)
  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">err</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
  }
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">isYtUrl</span>(<span style="color:#a6e22e">urlObj</span>)) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
  }
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">urlObj</span>
}
</code></pre></div><p>å…¶ä¸­çš„<code>ASSET_URL</code>è¦æ›´æ¢æˆä½ æƒ³è¦ä»£ç†çš„åŸŸåâ€”â€”æ¯”å¦‚æƒ³ä»£ç†YTï¼Œå°±å†™<code>https://youtube.com</code>ã€‚</p>
<p>ç„¶åé€‰æ‹©<code>Save and Deploy</code>ã€‚</p>
<p>å®ƒä¼šç»™ä½ åˆ†é…ä¸€ä¸ªåŸŸåï¼Œä½ å¯ä»¥ä¿®æ”¹æˆä½ æƒ³è¦çš„åŸŸåã€‚æ¯”å¦‚æˆ‘çš„YTä»£ç†å°±æ˜¯<code>https://youtube.&lt;é©¬èµ›å…‹&gt;.workers.dev</code>ã€‚</p>
<p>è‡ªå®šä¹‰åŸŸåï¼Œå…ˆæŠŠä¸€ä¸ªå­åŸŸåCNAMEåˆ°åˆ†é…çš„åŸŸåï¼Œç„¶åé€‰æ‹©<code>Add ruote</code>ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200402172046.png" alt=""></p>
<p>è¿™é‡Œæˆ‘æƒ³è¦æŠŠæˆ‘çš„åŸŸåè§£æåˆ°<code>rb</code>è¿™ä¸ªWorkerï¼Œæˆ‘å°±å¡«å†™<code>https://raycoder.me/*</code>ï¼Œé€‰æ‹©<code>rb</code>è¿™ä¸ªWorkerï¼Œä¿å­˜ã€‚</p>
<p><img src="https://cdngh.raycoder.me/imgs/20200402172138.png" alt=""></p>
<p>è¿™å°±å¼•ç”³å‡ºäº†ä¸€ä¸ªç”¨æ³•â€”â€”æ‹¿æ¥å½“ä½œç½‘ç«™CDNï¼Œæˆ–è€…æ˜¯å›¾åºŠCDNï¼ˆæ— éœ€jsDelivrï¼‰ã€‚æˆ‘ç°åœ¨çš„CDNå°±æ˜¯è¿™ä¸ªæ­å»ºçš„ã€‚</p>
<p>ç»“æœï¼š</p>
<p><img src="https://cdngh.raycoder.me/imgs/20200403091606.png" alt=""></p>
<p>å½“ç„¶äººå®¶æ‹’ç»äº†æˆ‘ä»¬<code>cloudflare-nginx</code>çš„è®¿é—®ä¹Ÿæ²¡æ³•å­â€‹ğŸ™ƒâ€‹</p>
<p>æ„‰å¿«çš„è®¿é—®å§ï¼</p>
<p><img src="https://cdngh.raycoder.me/imgs/20200403091351.jpg" alt=""></p>
<p><strong>æ³¨æ„ï¼æœ¬æ•™ç¨‹ä»…ä¾›ä¸ªäººå­¦ä¹ ä½¿ç”¨ï¼</strong></p>
<hr>
<p>2020/04/03æ›´æ–°ï¼š</p>
<p>å»ºè®®ä¿æŒåŸå§‹ä»£ç ï¼Œé«˜é€Ÿè®¿é—®å¤–ç½‘ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#e6db74">&#39;use strict&#39;</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * static files (404.html, sw.js, conf.js)
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ASSET_URL</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://etherdream.github.io/jsproxy&#39;</span>

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">JS_VER</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">MAX_RETRY</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>

<span style="color:#75715e">/** @type {RequestInit} */</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">PREFLIGHT_INIT</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">status</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">204</span>,
  <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Headers</span>({
    <span style="color:#e6db74">&#39;access-control-allow-origin&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;*&#39;</span>,
    <span style="color:#e6db74">&#39;access-control-allow-methods&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;GET,POST,PUT,PATCH,TRACE,DELETE,HEAD,OPTIONS&#39;</span>,
    <span style="color:#e6db74">&#39;access-control-max-age&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;1728000&#39;</span>,
  }),
}

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {any} body
</span><span style="color:#75715e"> * @param {number} status
</span><span style="color:#75715e"> * @param {Object&lt;string, string&gt;} headers
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#a6e22e">body</span>, <span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">200</span>, <span style="color:#a6e22e">headers</span> <span style="color:#f92672">=</span> {}) {
  <span style="color:#a6e22e">headers</span>[<span style="color:#e6db74">&#39;--ver&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">JS_VER</span>
  <span style="color:#a6e22e">headers</span>[<span style="color:#e6db74">&#39;access-control-allow-origin&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;*&#39;</span>
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Response</span>(<span style="color:#a6e22e">body</span>, {<span style="color:#a6e22e">status</span>, <span style="color:#a6e22e">headers</span>})
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {string} urlStr 
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">newUrl</span>(<span style="color:#a6e22e">urlStr</span>) {
  <span style="color:#66d9ef">try</span> {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">URL</span>(<span style="color:#a6e22e">urlStr</span>)
  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">err</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
  }
}


<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;fetch&#39;</span>, <span style="color:#a6e22e">e</span> =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ret</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">fetchHandler</span>(<span style="color:#a6e22e">e</span>)
    .<span style="color:#66d9ef">catch</span>(<span style="color:#a6e22e">err</span> =&gt; <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;cfworker error:\n&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">err</span>.<span style="color:#a6e22e">stack</span>, <span style="color:#ae81ff">502</span>))
  <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">respondWith</span>(<span style="color:#a6e22e">ret</span>)
})


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {FetchEvent} e 
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fetchHandler</span>(<span style="color:#a6e22e">e</span>) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">req</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">request</span>
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">urlStr</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">url</span>
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">urlObj</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">URL</span>(<span style="color:#a6e22e">urlStr</span>)
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">href</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">origin</span>.<span style="color:#a6e22e">length</span>)

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">protocol</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;http:&#39;</span>) {
    <span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">protocol</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https:&#39;</span>
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#ae81ff">301</span>, {
      <span style="color:#e6db74">&#39;strict-transport-security&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;max-age=99999999; includeSubDomains; preload&#39;</span>,
      <span style="color:#e6db74">&#39;location&#39;</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">href</span>,
    })
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">startsWith</span>(<span style="color:#e6db74">&#39;/http/&#39;</span>)) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">httpHandler</span>(<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#ae81ff">6</span>))
  }

  <span style="color:#66d9ef">switch</span> (<span style="color:#a6e22e">path</span>) {
  <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;/http&#39;</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;è¯·æ›´æ–° cfworker åˆ°æœ€æ–°ç‰ˆæœ¬!&#39;</span>)
  <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;/ws&#39;</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;not support&#39;</span>, <span style="color:#ae81ff">400</span>)
  <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;/works&#39;</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;it works&#39;</span>)
  <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
    <span style="color:#75715e">// static files
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#a6e22e">ASSET_URL</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">path</span>)
  }
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {Request} req
</span><span style="color:#75715e"> * @param {string} pathname
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">httpHandler</span>(<span style="color:#a6e22e">req</span>, <span style="color:#a6e22e">pathname</span>) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">reqHdrRaw</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">headers</span>
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">reqHdrRaw</span>.<span style="color:#a6e22e">has</span>(<span style="color:#e6db74">&#39;x-jsproxy&#39;</span>)) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">Response</span>.<span style="color:#a6e22e">error</span>()
  }

  <span style="color:#75715e">// preflight
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">method</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;OPTIONS&#39;</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#a6e22e">reqHdrRaw</span>.<span style="color:#a6e22e">has</span>(<span style="color:#e6db74">&#39;access-control-request-headers&#39;</span>)
  ) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Response</span>(<span style="color:#66d9ef">null</span>, <span style="color:#a6e22e">PREFLIGHT_INIT</span>)
  }

  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">acehOld</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rawSvr</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rawLen</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">rawEtag</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>

  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">reqHdrNew</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Headers</span>(<span style="color:#a6e22e">reqHdrRaw</span>)
  <span style="color:#a6e22e">reqHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;x-jsproxy&#39;</span>, <span style="color:#e6db74">&#39;1&#39;</span>)

  <span style="color:#75715e">// æ­¤å¤„é€»è¾‘å’Œ http-dec-req-hdr.lua å¤§è‡´ç›¸åŒ
</span><span style="color:#75715e"></span>  <span style="color:#75715e">// https://github.com/EtherDream/jsproxy/blob/master/lua/http-dec-req-hdr.lua
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">refer</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">reqHdrNew</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;referer&#39;</span>)
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">query</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">refer</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#a6e22e">refer</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#e6db74">&#39;?&#39;</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">query</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;missing params&#39;</span>, <span style="color:#ae81ff">403</span>)
  }
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">param</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">URLSearchParams</span>(<span style="color:#a6e22e">query</span>)

  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">k</span>, <span style="color:#a6e22e">v</span>] <span style="color:#66d9ef">of</span> Object.<span style="color:#a6e22e">entries</span>(<span style="color:#a6e22e">param</span>)) {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">k</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>) <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;--&#39;</span>) {
      <span style="color:#75715e">// ç³»ç»Ÿä¿¡æ¯
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">switch</span> (<span style="color:#a6e22e">k</span>.<span style="color:#a6e22e">substr</span>(<span style="color:#ae81ff">2</span>)) {
      <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;aceh&#39;</span><span style="color:#f92672">:</span>
        <span style="color:#a6e22e">acehOld</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
        <span style="color:#66d9ef">break</span>
      <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#39;raw-info&#39;</span><span style="color:#f92672">:</span>
        [<span style="color:#a6e22e">rawSvr</span>, <span style="color:#a6e22e">rawLen</span>, <span style="color:#a6e22e">rawEtag</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">v</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#39;|&#39;</span>)
        <span style="color:#66d9ef">break</span>
      }
    } <span style="color:#66d9ef">else</span> {
      <span style="color:#75715e">// è¿˜åŸ HTTP è¯·æ±‚å¤´
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">v</span>) {
        <span style="color:#a6e22e">reqHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#a6e22e">k</span>, <span style="color:#a6e22e">v</span>)
      } <span style="color:#66d9ef">else</span> {
        <span style="color:#a6e22e">reqHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#a6e22e">k</span>)
      }
    }
  }
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">param</span>.<span style="color:#a6e22e">has</span>(<span style="color:#e6db74">&#39;referer&#39;</span>)) {
    <span style="color:#a6e22e">reqHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">&#39;referer&#39;</span>)
  }

  <span style="color:#75715e">// cfworker ä¼šæŠŠè·¯å¾„ä¸­çš„ `//` åˆå¹¶æˆ `/`
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">urlStr</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">pathname</span>.<span style="color:#a6e22e">replace</span>(<span style="color:#e6db74">/^(https?):\/+/</span>, <span style="color:#e6db74">&#39;$1://&#39;</span>)
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">urlObj</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">newUrl</span>(<span style="color:#a6e22e">urlStr</span>)
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">urlObj</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#e6db74">&#39;invalid proxy url: &#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">urlStr</span>, <span style="color:#ae81ff">403</span>)
  }

  <span style="color:#75715e">/** @type {RequestInit} */</span>
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">reqInit</span> <span style="color:#f92672">=</span> {
    <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">method</span>,
    <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">reqHdrNew</span>,
    <span style="color:#a6e22e">redirect</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;manual&#39;</span>,
  }
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">method</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;POST&#39;</span>) {
    <span style="color:#a6e22e">reqInit</span>.<span style="color:#a6e22e">body</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">req</span>.<span style="color:#a6e22e">body</span>
  }
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">proxy</span>(<span style="color:#a6e22e">urlObj</span>, <span style="color:#a6e22e">reqInit</span>, <span style="color:#a6e22e">acehOld</span>, <span style="color:#a6e22e">rawLen</span>, <span style="color:#ae81ff">0</span>)
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * 
</span><span style="color:#75715e"> * @param {URL} urlObj 
</span><span style="color:#75715e"> * @param {RequestInit} reqInit 
</span><span style="color:#75715e"> * @param {number} retryTimes 
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">proxy</span>(<span style="color:#a6e22e">urlObj</span>, <span style="color:#a6e22e">reqInit</span>, <span style="color:#a6e22e">acehOld</span>, <span style="color:#a6e22e">rawLen</span>, <span style="color:#a6e22e">retryTimes</span>) {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">res</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">fetch</span>(<span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">href</span>, <span style="color:#a6e22e">reqInit</span>)
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">resHdrOld</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">headers</span>
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">resHdrNew</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Headers</span>(<span style="color:#a6e22e">resHdrOld</span>)

  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">expose</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;*&#39;</span>
  
  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">k</span>, <span style="color:#a6e22e">v</span>] <span style="color:#66d9ef">of</span> <span style="color:#a6e22e">resHdrOld</span>.<span style="color:#a6e22e">entries</span>()) {
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">k</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;access-control-allow-origin&#39;</span> <span style="color:#f92672">||</span>
        <span style="color:#a6e22e">k</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;access-control-expose-headers&#39;</span> <span style="color:#f92672">||</span>
        <span style="color:#a6e22e">k</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;location&#39;</span> <span style="color:#f92672">||</span>
        <span style="color:#a6e22e">k</span> <span style="color:#f92672">===</span> <span style="color:#e6db74">&#39;set-cookie&#39;</span>
    ) {
      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;--&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">k</span>
      <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#a6e22e">x</span>, <span style="color:#a6e22e">v</span>)
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">acehOld</span>) {
        <span style="color:#a6e22e">expose</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">expose</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;,&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">x</span>
      }
      <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#a6e22e">k</span>)
    }
    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">acehOld</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#a6e22e">k</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;cache-control&#39;</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#a6e22e">k</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;content-language&#39;</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#a6e22e">k</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;content-type&#39;</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#a6e22e">k</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;expires&#39;</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#a6e22e">k</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;last-modified&#39;</span> <span style="color:#f92672">&amp;&amp;</span>
      <span style="color:#a6e22e">k</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;pragma&#39;</span>
    ) {
      <span style="color:#a6e22e">expose</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">expose</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;,&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">k</span>
    }
  }

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">acehOld</span>) {
    <span style="color:#a6e22e">expose</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">expose</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;,--s&#39;</span>
    <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;--t&#39;</span>, <span style="color:#e6db74">&#39;1&#39;</span>)
  }

  <span style="color:#75715e">// verify
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">rawLen</span>) {
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">newLen</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">resHdrOld</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;content-length&#39;</span>) <span style="color:#f92672">||</span> <span style="color:#e6db74">&#39;&#39;</span>
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">badLen</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">rawLen</span> <span style="color:#f92672">!==</span> <span style="color:#a6e22e">newLen</span>)

    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">badLen</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">retryTimes</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">MAX_RETRY</span>) {
        <span style="color:#a6e22e">urlObj</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">parseYtVideoRedir</span>(<span style="color:#a6e22e">urlObj</span>, <span style="color:#a6e22e">newLen</span>, <span style="color:#a6e22e">res</span>)
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">urlObj</span>) {
          <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">proxy</span>(<span style="color:#a6e22e">urlObj</span>, <span style="color:#a6e22e">reqInit</span>, <span style="color:#a6e22e">acehOld</span>, <span style="color:#a6e22e">rawLen</span>, <span style="color:#a6e22e">retryTimes</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)
        }
      }
      <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">makeRes</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">body</span>, <span style="color:#ae81ff">400</span>, {
        <span style="color:#e6db74">&#39;--error&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`bad len: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">newLen</span><span style="color:#e6db74">}</span><span style="color:#e6db74">, except: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">rawLen</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>,
        <span style="color:#e6db74">&#39;access-control-expose-headers&#39;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;--error&#39;</span>,
      })
    }

    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">retryTimes</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>) {
      <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;--retry&#39;</span>, <span style="color:#a6e22e">retryTimes</span>)
    }
  }

  <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">status</span>

  <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;access-control-expose-headers&#39;</span>, <span style="color:#a6e22e">expose</span>)
  <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;access-control-allow-origin&#39;</span>, <span style="color:#e6db74">&#39;*&#39;</span>)
  <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;--s&#39;</span>, <span style="color:#a6e22e">status</span>)
  <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;--ver&#39;</span>, <span style="color:#a6e22e">JS_VER</span>)

  <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">&#39;content-security-policy&#39;</span>)
  <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">&#39;content-security-policy-report-only&#39;</span>)
  <span style="color:#a6e22e">resHdrNew</span>.<span style="color:#66d9ef">delete</span>(<span style="color:#e6db74">&#39;clear-site-data&#39;</span>)

  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">301</span> <span style="color:#f92672">||</span>
      <span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">302</span> <span style="color:#f92672">||</span>
      <span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">303</span> <span style="color:#f92672">||</span>
      <span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">307</span> <span style="color:#f92672">||</span>
      <span style="color:#a6e22e">status</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">308</span>
  ) {
    <span style="color:#a6e22e">status</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">status</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">10</span>
  }

  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Response</span>(<span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">body</span>, {
    <span style="color:#a6e22e">status</span>,
    <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">resHdrNew</span>,
  })
}


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {URL} urlObj 
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">isYtUrl</span>(<span style="color:#a6e22e">urlObj</span>) {
  <span style="color:#66d9ef">return</span> (
    <span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">host</span>.<span style="color:#a6e22e">endsWith</span>(<span style="color:#e6db74">&#39;.googlevideo.com&#39;</span>) <span style="color:#f92672">&amp;&amp;</span>
    <span style="color:#a6e22e">urlObj</span>.<span style="color:#a6e22e">pathname</span>.<span style="color:#a6e22e">startsWith</span>(<span style="color:#e6db74">&#39;/videoplayback&#39;</span>)
  )
}

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {URL} urlObj 
</span><span style="color:#75715e"> * @param {number} newLen 
</span><span style="color:#75715e"> * @param {Response} res 
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">async</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">parseYtVideoRedir</span>(<span style="color:#a6e22e">urlObj</span>, <span style="color:#a6e22e">newLen</span>, <span style="color:#a6e22e">res</span>) {
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">newLen</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2000</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
  }
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">isYtUrl</span>(<span style="color:#a6e22e">urlObj</span>)) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
  }
  <span style="color:#66d9ef">try</span> {
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">await</span> <span style="color:#a6e22e">res</span>.<span style="color:#a6e22e">text</span>()
    <span style="color:#a6e22e">urlObj</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">URL</span>(<span style="color:#a6e22e">data</span>)
  } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">err</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
  }
  <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">isYtUrl</span>(<span style="color:#a6e22e">urlObj</span>)) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
  }
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">urlObj</span>
}
</code></pre></div><p>çœ‹è¿™ï¼š<a href="https://proxy.raycoder.me/">Demoä¼ é€é—¨</a></p>
<hr>
<p>2020/04/06æ›´æ–°ï¼š</p>
<p>æ›´æ­£ï¼Œ10ä¸‡è¯·æ±‚ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/%E4%BB%A3%E7%90%86/">ä»£ç†</category><category domain="https://raycoder.me/tags/%E4%BB%A3%E7%90%86/">ä»£ç†</category><category domain="https://raycoder.me/tags/cloudflare/">Cloudflare</category><category domain="https://raycoder.me/tags/cdn/">CDN</category><category domain="https://raycoder.me/tags/workers/">Workers</category></item><item><title>Pythonä¸­çš„withå…³é”®å­—ä½¿ç”¨æ–¹æ³•ï¼Ÿ</title><link>https://raycoder.me/p/python-with/</link><guid isPermaLink="true">https://raycoder.me/p/python-with/</guid><pubDate>Wed, 01 Apr 2020 10:03:10 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼ä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
<p><strong>æœ¬æ–‡é¦–å‘äº<a href="https://raycoder.me/p/python-with/">Ray's Blog</a></strong></p>
</blockquote>
<p>Pythonä¸­æœ‰ä¸€ç§æ“ä½œå«åš<code>æ‰“å¼€æ–‡ä»¶</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;/foo/bar.txt&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> data <span style="color:#f92672">=</span> f<span style="color:#f92672">.</span>read()
<span style="color:#f92672">&gt;&gt;&gt;</span> f<span style="color:#f92672">.</span>close()
<span style="color:#f92672">&gt;&gt;&gt;</span> data
<span style="color:#e6db74">&#39;Hello World!&#39;</span>
</code></pre></div><p>è¿™æ ·ï¼Œä½ å°±ä»<code>/foo/bar.txt</code>è¿™ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­è¯»å–åˆ°äº†å®ƒçš„æ–‡æœ¬ï¼š<code>Hello World!</code></p>
<p>ä½†æ˜¯ï¼Œè¿™æ ·å¤„ç†æœ‰ä¸€äº›é—®é¢˜ï¼š</p>
<ol>
<li>å¯èƒ½åœ¨å¤„ç†å®Œæ–‡æœ¬åå¿˜è®°å…³é—­æ–‡ä»¶ï¼Ÿ</li>
<li>å¯èƒ½åœ¨è¯»å–æ—¶å‡ºç°é”™è¯¯ï¼Ÿ</li>
</ol>
<p>è¿™æ—¶ï¼Œ<code>try...except...finally...</code>è¯­å¥å°±æ´¾ä¸Šäº†ç”¨åœºï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">try</span>:
    f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;/foo/bar.txt&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>)
<span style="color:#66d9ef">except</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;Fail to open /foo/bar.txt&#39;</span>)
    exit(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
<span style="color:#66d9ef">finally</span>:
    f<span style="color:#f92672">.</span>close()
</code></pre></div><p>è™½ç„¶è¿™æ®µä»£ç è¿è¡Œè‰¯å¥½ï¼Œä½†æ˜¯å¤ªå†—é•¿äº†ã€‚</p>
<p>è¿™æ—¶ï¼Œ<code>with</code>è¯­å¥ï¼ˆä¸Šä¸‹æ–‡ç®¡ç†å™¨å™¨ï¼Œæ·»åŠ äºPython2.5ï¼Œåœ¨2.5æ—¶æ˜¯è¯•éªŒæ€§çš„ï¼Œéœ€è¦<code>from __future__ import with_statement</code>ã€‚åœ¨2.5ä¹‹å‰çš„ç‰ˆæœ¬æ— æ³•ä½¿ç”¨ã€‚ï¼‰å°±å¯ä»¥å¤§æ˜¾èº«æ‰‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;/foo/bar.txt&#39;</span>) <span style="color:#66d9ef">as</span> f:
    data <span style="color:#f92672">=</span> f<span style="color:#f92672">.</span>read()
</code></pre></div><p>è¿™é‡Œæ²¡æœ‰é”™è¯¯å¤„ç†å™¨ï¼Œæ²¡æœ‰<code>f = open('/foo/bar.txt', 'r')</code>ï¼Œä¹Ÿæ²¡æœ‰è¯»å–å®Œæ–‡ä»¶åçš„<code>f.close()</code>ã€‚è¿™æ®µä»£ç ä¸<code>try...except...finally...</code>å®ç°äº†ç›¸åŒçš„åŠŸèƒ½ï¼Œä½†æ˜¯ä»£ç å´ç›¸åº”çš„çŸ­äº†è®¸å¤šã€‚</p>
<p>é™¤äº†è¯»å–æ–‡ä»¶ï¼Œè®¸å¤šæ ‡å‡†æ¨¡å—ä¹Ÿå«æœ‰ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œè¿™æ„å‘³ç€å®ƒä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨<code>with</code>è¯­å¥ï¼ˆä»¥<code>threading</code>æ¨¡å—ä¸ºä¾‹ï¼‰ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#!/usr/bin/env python</span>

<span style="color:#f92672">from</span> atexit <span style="color:#f92672">import</span> register
<span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> randrange
<span style="color:#f92672">from</span> threading <span style="color:#f92672">import</span> Thread, Lock, currentThread
<span style="color:#f92672">from</span> time <span style="color:#f92672">import</span> sleep, ctime

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CleanOutputSet</span>(set):
    <span style="color:#66d9ef">def</span> __str__(self):
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;, &#39;</span><span style="color:#f92672">.</span>join(x <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> self)

lock <span style="color:#f92672">=</span> Lock()
loops <span style="color:#f92672">=</span> (randrange(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">5</span>) <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(randrange(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">7</span>)))
remaining <span style="color:#f92672">=</span> CleanOutputSet()

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">loop</span>(nsec):
    myname <span style="color:#f92672">=</span> currentThread()<span style="color:#f92672">.</span>name
    <span style="color:#66d9ef">with</span> lock:
    	remaining<span style="color:#f92672">.</span>add(myname)
    	<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;[{0}] Started {1}&#39;</span><span style="color:#f92672">.</span>format(ctime(), myname))
    sleep(nsec)
    <span style="color:#66d9ef">with</span> lock:
    	remaining<span style="color:#f92672">.</span>remove(myname)
    	<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;[{0}] Completed {1} ({2} secs)&#39;</span><span style="color:#f92672">.</span>format(ctime(), myname, nsec))
    	<span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;    (remaining: {0})&#39;</span><span style="color:#f92672">.</span>format(remaining <span style="color:#f92672">or</span> <span style="color:#e6db74">&#39;NONE&#39;</span>))

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">_main</span>():
    <span style="color:#66d9ef">for</span> pause <span style="color:#f92672">in</span> loops:
        Thread(target<span style="color:#f92672">=</span>loop, args<span style="color:#f92672">=</span>(pause,))<span style="color:#f92672">.</span>start()

<span style="color:#a6e22e">@register</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">_atexit</span>():
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;all DONE at:&#39;</span>, ctime())

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    _main()
</code></pre></div><p>è¿™ä¸ªä¾‹å­æ´¾ç”Ÿäº†éšæœºä¸ªçš„çº¿ç¨‹ï¼Œä½¿ç”¨<code>with</code>è¯­å¥å®ç°é”çš„é”å®šä¸é‡Šæ”¾ã€‚</p>
<p>é‚£ä¹ˆï¼Œä¸Šä¸‹æ–‡ç®¡ç†å™¨æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿå®ƒé€šè¿‡ç±»é‡Œé¢çš„ç‰¹æ®Šæ–¹æ³•â€”â€”<code>__enter__</code>å’Œ<code>__exit__</code>ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClass</span>():
    <span style="color:#66d9ef">def</span> __init__(self,name):
        self<span style="color:#f92672">.</span>name<span style="color:#f92672">=</span>name
    <span style="color:#66d9ef">def</span> __enter__(self):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;åˆ°è¾¾__enter__&#34;</span>)
        <span style="color:#66d9ef">return</span> self
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">printName</span>(self):
        <span style="color:#66d9ef">print</span>(self<span style="color:#f92672">.</span>name)
    <span style="color:#66d9ef">def</span> __exit__(self, type, value, traceback):
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;åˆ°è¾¾__exit__&#34;</span>)
        <span style="color:#66d9ef">print</span>(type, value)
<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    <span style="color:#66d9ef">with</span> MyClass(<span style="color:#e6db74">&#39;foo-bar&#39;</span>) <span style="color:#66d9ef">as</span> test:
        test<span style="color:#f92672">.</span>printName()

<span style="color:#f92672">======================</span> RESTART: test<span style="color:#f92672">.</span>py <span style="color:#f92672">======================</span>
<span style="color:#960050;background-color:#1e0010">åˆ°è¾¾</span>__enter__
The name <span style="color:#f92672">is</span>:  foo<span style="color:#f92672">-</span>bar
<span style="color:#960050;background-color:#1e0010">åˆ°è¾¾</span>__exit__
<span style="color:#f92672">&gt;&gt;&gt;</span> 
</code></pre></div>]]></description><category domain="https://raycoder.me/categories/python/">Python</category><category domain="https://raycoder.me/categories/python%E5%85%B3%E9%94%AE%E5%AD%97/">Pythonå…³é”®å­—</category><category domain="https://raycoder.me/categories/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Pythonå­¦ä¹ ç¬”è®°</category><category domain="https://raycoder.me/tags/python/">Python</category><category domain="https://raycoder.me/tags/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Pythonå­¦ä¹ ç¬”è®°</category><category domain="https://raycoder.me/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/">å¤šçº¿ç¨‹</category></item><item><title>ã€åˆ»åœ¨åŸºå› é‡Œçš„åºåˆ—å·å˜äº†ï¼Ÿã€‘Bilibilié‡‡ç”¨æ–°çš„ç¨¿ä»¶ç¼–å·ï¼AVä¸BVäº’ç›¸è½¬åŒ–çš„æ–¹æ³•ï¼</title><link>https://raycoder.me/p/av-and-bv/</link><guid isPermaLink="true">https://raycoder.me/p/av-and-bv/</guid><pubDate>Tue, 31 Mar 2020 15:57:37 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼ä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
<p><strong>æœ¬æ–‡é¦–å‘äº<a href="https://raycoder.me/p/av-and-bv/">Ray's Blog</a></strong></p>
</blockquote>
<p>æœ€è¿‘Bç«™æŠŠAVå·æ”¹æˆäº†BVå·ï¼<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>ä»¥åBç«™æ²¡æœ‰AVäº†ï¼[æ‰‹åŠ¨ç‹—å¤´]</p>
<p>æ›´æ”¹ä»¥å‰çš„AVå·ç®€å•å¥½è®°ï¼Œéƒ½æ˜¯<code>AV170001</code>ä¸€ç±»â€”â€”æ ¹æ®å‘å¸ƒé¡ºåºä¾æ¬¡å¾€ä¸‹è®¡æ•°ã€‚</p>
<p>æ›´æ”¹ä»¥åçš„BVå·å®Œå…¨é¢ è¦†ï¼Œå½¢å¦‚<code>BV17x411w7KC</code>ï¼ŒåŒºåˆ†å¤§å°å†™â€”â€”è½¬æ¢æˆçš„AVå·æ˜¯å®Œå…¨éšæœºçš„ã€‚</p>
<p>è¯´å®è¯ï¼Œä¸ªäººè®¤ä¸ºè¿™ä¸ªæ”¹å˜æ˜¯ä¸ºäº†é˜²æ­¢ä¸€äº›æ¶æ„çˆ¬è™«ã€‚</p>
<p>è™½ç„¶Bç«™å®˜æ–¹ä¹Ÿæœ‰æåˆ°ï¼Œä»¥åä»ç„¶å¯ä»¥ä½¿ç”¨AVå·æ¥è§‚çœ‹è§†é¢‘<heimu>ï¼Œä¸è¿‡ï¼Œåˆ»åœ¨åŸºå› é‡Œçš„AVå·å˜äº†ï¼Œè€é’ç»“å·¥äº†</heimu>ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªåºåˆ—å·å¦‚ä½•äº’ç›¸è½¬åŒ–å‘¢ï¼Ÿ</p>
<p>å½“ç„¶ï¼ŒAV/BVåŒæ—¶å·¥ä½œå°±è¯´æ˜ï¼šBç«™æœ‰ä¸€ä¸ªæ¥å£ï¼</p>
<p>BVIDæ¥å£ï¼š<code>https://api.bilibili.com/x/web-interface/view?bvid=&lt;BVID&gt;</code></p>
<p>AIDæ¥å£ï¼š<code>https://api.bilibili.com/x/web-interface/view?Aid=&lt;AID&gt;</code></p>
<p>çŸ¥ä¹ä¸Š<a href="https://www.zhihu.com/people/-._.-">@mcfx</a>å¤§ä½¬å·²ç»ç»™å‡ºäº†å›ç­”ï¼š<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup></p>
<p>ä»–å†™äº†ä¸€äº›ä»£ç ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ã€‚ï¼ˆä¸€äº›ä¿®æ”¹ï¼‰</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">table <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;fZodR9XQDSUm21yCkr6zBqiveYah8bt4xsWpHnJE7jL5VG3guMTKNPAwcF&#39;</span> <span style="color:#75715e"># base58çš„å­—ç¬¦å¯¹åº”è¡¨â€”â€”ä»0~57ï¼Œæ²¡æœ‰å¤§å†™Oï¼Œæ•°å­—0ï¼Œå°å†™çš„Lå’Œå¤§å†™çš„iï¼Œéæ ‡å‡†ã€‚</span>
tr <span style="color:#f92672">=</span> dict(zip(table, range(<span style="color:#ae81ff">58</span>))) <span style="color:#75715e"># å»ºç«‹å¯¹åº”å­—å…¸ï¼Œå½¢å¦‚{&#39;f&#39;: 0, &#39;Z&#39;: 1...}</span>
s <span style="color:#f92672">=</span> [<span style="color:#ae81ff">11</span>,<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">6</span>]
xor <span style="color:#f92672">=</span> <span style="color:#ae81ff">177451812</span>
add <span style="color:#f92672">=</span> <span style="color:#ae81ff">8728348608</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">bv2av</span>(x):
	r<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
	<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">6</span>):
		r<span style="color:#f92672">+=</span>tr[x[s[i]]]<span style="color:#f92672">*</span><span style="color:#ae81ff">58</span><span style="color:#f92672">**</span>i
	<span style="color:#66d9ef">return</span> (r<span style="color:#f92672">-</span>add)<span style="color:#f92672">^</span>xor

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">av2bv</span>(x):
	x<span style="color:#f92672">=</span>(x<span style="color:#f92672">^</span>xor)<span style="color:#f92672">+</span>add
	r<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;BV1  4 1 7  &#39;</span>)
	<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">6</span>):
		r[s[i]]<span style="color:#f92672">=</span>table[x<span style="color:#f92672">//</span><span style="color:#ae81ff">58</span><span style="color:#f92672">**</span>i<span style="color:#f92672">%</span><span style="color:#ae81ff">58</span>]
	<span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join(r)
</code></pre></div><p><strong>ä¸»è¦ä¿®æ”¹ï¼š</strong></p>
<p><strong>1.ä½¿ç”¨zip()å‡½æ•°ï¼Œä¼˜åŒ–äº†è¿è¡Œæ•ˆç‡ï¼›</strong></p>
<p>ç­‰å¾…è¡¥å……</p>
<hr>
<p>å¦‚æœç®—æ³•æ²¡çŒœé”™ï¼Œå¯ä»¥ä¿è¯åœ¨ av å· $&lt; 2^{27}$ æ—¶æ­£ç¡®ï¼ŒåŒæ—¶åº”è¯¥åœ¨ $&lt; 2^{30}$ æ—¶ä¹Ÿæ˜¯æ­£ç¡®çš„ã€‚æ­¤ä»£ç ä»¥ WTFPL å¼€æºã€‚</p>
<p>UPDï¼šä¹‹å‰çš„ä»£ç ä¸­ï¼Œæ‰€æœ‰æ•°ä½éƒ½è¢«ç”¨åˆ°æ˜¯ä¹±å‡‘çš„ï¼Œå®é™…ä¸Šå¹¶ä¸éœ€è¦ï¼Œç›®å‰åªè¦ä½ 6 ä½å°±è¶³å¤Ÿäº†ã€‚ï¼ˆæ›´å¤§çš„ av å·éœ€è¦ 64 ä½æ•´æ•°å­˜å‚¨ï¼Œä½†æ˜¯ b ç«™ç°åœ¨ä½¿ç”¨çš„åº”è¯¥è¿˜æ˜¯ 32 ä½æ•´æ•°ï¼Œæ‰€ä»¥åº”è¯¥è¿˜è¦å¾ˆä¹…ï¼‰</p>
<p>å‘ç°çš„æ–¹æ³•ï¼š</p>
<p>é¦–å…ˆä»å„ç§æ¸ é“çš„ä¿¡æ¯æ¥çœ‹ï¼Œåº”è¯¥æ˜¯ base58 ç¼–ç çš„ã€‚è®¾ x æ˜¯ä¸€ä¸ªé’¦å®šçš„ av å·ï¼ŒæŸ¥è¯¢ $\ 58k+x,58^2k+x,58^3k+x,58^4k+x\left(k \in Z\right)$ è¿™äº› av å·å¯¹åº”çš„ bv å·ï¼Œå‘ç° bv å·çš„ç¬¬ 12ã€11ã€4ã€9ã€5 ä½åˆ†åˆ«ä¼šå˜åŒ–ã€‚æ‰€ä»¥çŒœæµ‹è¿™äº›æ˜¯ 58 è¿›åˆ¶ä¸‹çš„ç›¸åº”ä½ã€‚</p>
<p>ä½†æ˜¯ç›´æ¥ base58 æ˜¯ä¸è¡Œçš„ï¼Œæ‰€ä»¥çŒœæµ‹å¼‚æˆ–äº†ä¸€ä¸ªå¤§æ•°ï¼Œå¹¶ä¸” base58 çš„å­—ç¬¦è¡¨å¯èƒ½æ‰“ä¹±äº†ã€‚ç»è¿‡å®éªŒï¼Œbv å·æœ€ä½ä½ç›¸åŒçš„æ•°ï¼Œav å·çš„å¥‡å¶æ€§ç›¸åŒï¼Œè¿™ä¸€å®šç¨‹åº¦ä¸Šå°è¯äº†ä¹‹å‰çš„çŒœæƒ³ã€‚</p>
<p>æ¥ä¸‹æ¥æ‰¾äº†ä¸€äº› av å· xï¼Œæ»¡è¶³ x å’Œ x+1 å¯¹åº” bv å·çš„ç¬¬ 11 ä½ä¸åŒã€‚è®¾å¼‚æˆ–çš„æ•°ä¸º Xï¼Œé‚£ä¹ˆ $\ \left\lfloor\frac{X\oplus x}{58}\right\rfloor\neq \left\lfloor\frac{X\oplus (x+1)}{58}\right\rfloor$ ï¼ˆ $\ \oplus$  è¡¨ç¤ºå¼‚æˆ–ï¼‰ã€‚</p>
<p>ç”±äº av å·ï¼ˆé™¤äº†æœ€æ–°çš„å°‘é‡è§†é¢‘ï¼‰æœ€å¤šåªæœ‰ 27 bitsï¼Œæ‰€ä»¥å¯ä»¥è®¾ $\ X=2^{27}a+b(0\le b&lt;2^{27})$ ã€‚ç„¶åå¯ä»¥å‘ç° $\ X$ åªå’Œ $\ 2^{27}a\bmod 58$ å’Œ $\ b$ æœ‰å…³ï¼Œé‚£ä¹ˆå¯ä»¥æšä¸¾è¿™ä¸¤ä¸ªå€¼ï¼ˆä¸€å…± $\ 2^{27}\cdot 58=7784628224$ ç§æƒ…å†µï¼‰ç„¶åä½¿ç”¨ä¸Šé¢çš„å¼å­æ£€æŸ¥ï¼Œå°±èƒ½å¾—åˆ°è‹¥å¹²å¯èƒ½çš„ $\ 2^{27}a\bmod 58$ å’Œ $\ b$ ã€‚</p>
<p>è¿™é‡Œæˆ‘å¾—åˆ°çš„å¯èƒ½å€¼å¦‚ä¸‹ï¼šï¼ˆå·¦è¾¹æ˜¯ $\ 2^{27}a\bmod 58$ ï¼Œå³è¾¹æ˜¯ $\ b$ ï¼‰</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">22 90983642
22 90983643
50 43234084
50 43234085
</code></pre></div><p>æœ‰å¥‡æœ‰å¶æ˜¯å› ä¸ºå¼‚æˆ– 1 ä¹‹åä¹Ÿèƒ½æ‰¾åˆ°è½®æ¢è¡¨ã€‚è€Œ $\ 90983642+43234085=2^{27}-1$ åˆ™ä½¿å¾—æ¨¡ 58 çš„ä½™æ•°åˆšå¥½å˜æˆ$\ 2^{27}-1$å‡å®ƒã€‚</p>
<p>æˆ‘å–äº† b=43234084ï¼Œç„¶åå¤„ç†æœ€ä½ä½ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªå­—ç¬¦è¡¨ï¼Œå³ <code>fZodR9XQDSUm21yCkr6zBqiveYah8bt4xsWpHnJE7jL5VG3guMTKNPAwcF</code>ã€‚</p>
<p>å¯¹äºæ›´é«˜ä½ï¼Œå®é™…ä¸Šè¿˜éœ€è¦çŸ¥é“ $\ 2^{27}a\bmod 58^2,2^{27}a\bmod 58^3,\dots$ ï¼Œè¿™äº›å€¼ä¹Ÿå¯ä»¥ æšä¸¾ 58 æ¬¡å¾—åˆ°ï¼Œæœ€åæˆ‘å¾—åˆ°çš„å€¼æ˜¯ $\ 2^{27}a\bmod 58^4=1749968$ ã€‚</p>
<p>è¿™æ—¶æˆ‘å‘ç°ï¼Œæ¯ä¸€ä½çš„å­—ç¬¦è¡¨æ˜¯ç›¸åŒçš„ï¼ˆå®é™…ä¸Šåªå¯¹ b=43234084 æ˜¯è¿™æ ·çš„ï¼‰ï¼Œç„¶åå†å¾®è°ƒä¸€ä¸‹å‚æ•°ï¼ˆä¸Šé¢ä»£ç ä¸­çš„ä¸¤ä¸ª magic number å°±ç›¸å½“äºè¿™é‡Œçš„ $\ a,b$ ï¼‰ï¼Œæœ€åå¤„ç†äº†ä¸€ä¸‹ $\ \ge 2^{27}$ çš„æƒ…å†µå°±å¾—åˆ°äº†è¿™ä»½ä»£ç ã€‚</p>
<p>ï¼ˆè½¬è‡ªçŸ¥ä¹<a href="https://www.zhihu.com/people/-._.-">@mcfx</a>å¤§ä½¬ç»™å‡ºçš„å›ç­”ï¼‰</p>
<p>æ ¹æ®å€æ­¥é•¿è·³çš„å®éªŒæ˜¾ç¤ºï¼šå…¶å˜åŠ¨çš„ä¼˜å…ˆçº§ä¸ºï¼š</p>
<p>åä¸¤ä½ï¼ç¬¬4ä½ï¼ˆæ¯4096ä¸€å˜ï¼Œä½†æ˜¯ç”±äº58Ã—58ï¼œ4096ï¼Œè‚¯å®šåˆè¦å€Ÿç”¨å…¶ä»–ä½çš„å˜åŒ–ï¼‰ï¼ç¬¬9ä½ï¼ˆæ¯131072ä¸€å˜ï¼Œç›¸å½“äºç¬¬4ä½æ¯å˜32æ¬¡ç¬¬9ä½æ‰ä¼šå˜ï¼‰ï¼ç¬¬5ä½ï¼ˆæ¯2097152ä¸€å˜ï¼‰ã€‚</p>
<p>è¿™ä¹Ÿèƒ½è§£é‡Šä¸ºä»€ä¹ˆç¬¬5ä½æ’å¸ƒä¸å‡åŒ€â€”â€”æ²¡æ’å®Œå•Šï¼</p>
<p>ä¿®æ”¹ç‰ˆBase58è¡¨ï¼š</p>
<table>
<thead>
<tr>
<th align="center">0</th>
<th align="center">1</th>
<th align="center">2</th>
<th align="center">3</th>
<th align="center">4</th>
<th align="center">5</th>
<th align="center">6</th>
<th align="center">7</th>
<th align="center">8</th>
<th align="center">9</th>
<th align="center">10</th>
<th align="center">11</th>
<th align="center">12</th>
<th align="center">13</th>
<th align="center">14</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">f</td>
<td align="center">Z</td>
<td align="center">o</td>
<td align="center">d</td>
<td align="center">R</td>
<td align="center">9</td>
<td align="center">X</td>
<td align="center">Q</td>
<td align="center">D</td>
<td align="center">S</td>
<td align="center">U</td>
<td align="center">m</td>
<td align="center">2</td>
<td align="center">1</td>
<td align="center">y</td>
</tr>
<tr>
<td align="center">15</td>
<td align="center">16</td>
<td align="center">17</td>
<td align="center">18</td>
<td align="center">19</td>
<td align="center">20</td>
<td align="center">21</td>
<td align="center">22</td>
<td align="center">23</td>
<td align="center">24</td>
<td align="center">25</td>
<td align="center">26</td>
<td align="center">27</td>
<td align="center">28</td>
<td align="center">29</td>
</tr>
<tr>
<td align="center">C</td>
<td align="center">k</td>
<td align="center">r</td>
<td align="center">6</td>
<td align="center">z</td>
<td align="center">B</td>
<td align="center">q</td>
<td align="center">i</td>
<td align="center">v</td>
<td align="center">e</td>
<td align="center">Y</td>
<td align="center">a</td>
<td align="center">h</td>
<td align="center">8</td>
<td align="center">b</td>
</tr>
<tr>
<td align="center">30</td>
<td align="center">31</td>
<td align="center">32</td>
<td align="center">33</td>
<td align="center">34</td>
<td align="center">35</td>
<td align="center">36</td>
<td align="center">37</td>
<td align="center">38</td>
<td align="center">39</td>
<td align="center">40</td>
<td align="center">41</td>
<td align="center">42</td>
<td align="center">43</td>
<td align="center">44</td>
</tr>
<tr>
<td align="center">t</td>
<td align="center">4</td>
<td align="center">x</td>
<td align="center">s</td>
<td align="center">W</td>
<td align="center">p</td>
<td align="center">H</td>
<td align="center">n</td>
<td align="center">J</td>
<td align="center">E</td>
<td align="center">7</td>
<td align="center">j</td>
<td align="center">L</td>
<td align="center">5</td>
<td align="center">V</td>
</tr>
<tr>
<td align="center">45</td>
<td align="center">46</td>
<td align="center">47</td>
<td align="center">48</td>
<td align="center">49</td>
<td align="center">50</td>
<td align="center">51</td>
<td align="center">52</td>
<td align="center">53</td>
<td align="center">54</td>
<td align="center">55</td>
<td align="center">56</td>
<td align="center">57</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">G</td>
<td align="center">3</td>
<td align="center">g</td>
<td align="center">u</td>
<td align="center">M</td>
<td align="center">T</td>
<td align="center">K</td>
<td align="center">N</td>
<td align="center">P</td>
<td align="center">A</td>
<td align="center">w</td>
<td align="center">c</td>
<td align="center">F</td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<p>äº‹å®ä¸Šï¼Œå¦‚æœä¸é‡‡ç”¨åç«¯ï¼Œç›´æ¥æµè§ˆå™¨æ§åˆ¶å°è¾“å…¥<code>aid</code>ï¼Œ<code>bvid</code>ä¹Ÿæ˜¯å¯ä»¥çš„ï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200331165001.png" alt=""></p>
<p>é™„è½¬æ¢å™¨ï¼š</p>
<iframe src="/tools/bv2av/index.html" width="100%" height="400" scrolling="0" frameborder="0"><br></iframe>
<p>é¡ºä¾¿æ”¾ä¸Šè§†é¢‘ã€‚</p>
<div id="player1"></div>
<br>
<div id="player2"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/FFRaycoder/cdn@latest/static/css/DPlayer.min.css" />
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/FFRaycoder/cdn@latest/static/js/flv.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/FFRaycoder/cdn@latest/static/js/DPlayer.min.js"></script>
<script type="text/javascript">
const dp = new DPlayer({
    container: document.getElementById('player1'),
    video: {
        url: 'https://cdn.jsdelivr.net/gh/FFRaycoder/cdn@latest/video/av-bv/AV2BV.flv',
        type: 'flv'
    },
});
</script>
<script type="text/javascript">
const dp2 = new DPlayer({
    container: document.getElementById('player2'),
    video: {
        url: 'https://cdn.jsdelivr.net/gh/FFRaycoder/cdn@latest/video/av-bv/BV2AV.flv',
        type: 'flv'
    },
});
</script>
<hr>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><a href="https://www.bilibili.com/read/cv5167957">ã€å‡çº§å…¬å‘Šã€‘AVå·å…¨é¢å‡çº§è‡³BVå· | Bilibili</a> <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2" role="doc-endnote">
<p><a href="https://www.zhihu.com/question/381784377/answer/1099438784">å¦‚ä½•çœ‹å¾… 2020 å¹´ 3 æœˆ 23 æ—¥å“”å“©å“”å“©å°†ç¨¿ä»¶çš„ã€Œav å·ã€å˜æ›´ä¸ºã€ŒBV å·ã€ï¼Ÿ | çŸ¥ä¹</a> <a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>]]></description><category domain="https://raycoder.me/categories/%E7%AE%97%E6%B3%95/">ç®—æ³•</category><category domain="https://raycoder.me/tags/%E7%AE%97%E6%B3%95/">ç®—æ³•</category><category domain="https://raycoder.me/tags/bilibili/">Bilibili</category></item><item><title>æ—é—¨å·¦é“ä¹‹ä½¿ç”¨Leancloudæ­å»ºç½‘ç«™ï¼</title><link>https://raycoder.me/p/build-website-with-leancloud/</link><guid isPermaLink="true">https://raycoder.me/p/build-website-with-leancloud/</guid><pubDate>Tue, 31 Mar 2020 13:10:36 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼ä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
<p><strong>æœ¬æ–‡é¦–å‘äº<a href="https://raycoder.me/p/build-website-with-leancloud/">Ray's Blog</a></strong></p>
</blockquote>
<p>Leancloudä¹Ÿå¯ä»¥æ­å»ºç½‘ç«™ï¼Ÿ</p>
<p>æ˜¯çš„ï¼<a href="https://leancloud.app">Leancloud</a>ï¼Œå°±æ˜¯é‚£ä¸ªæˆ‘ä»¬ç†ŸçŸ¥çš„<code>Valine</code>æ•°æ®å­˜å‚¨ï¼Œå¯ä»¥æ­å»ºç½‘ç«™ï¼æœ‰ä½¿ç”¨<code>Valine Admin</code>çš„åŒå­¦å¯èƒ½ä¹Ÿä¼šå‘ç°ï¼Œéƒ¨ç½²çš„Adminå®é™…ä¸Šä¹Ÿæ˜¯ä¸€ä¸ª<em class="emphasis-point">ä½¿ç”¨JSç”Ÿæˆçš„é¡µé¢</em>ã€‚é‚£ä¹ˆå¾ˆå¤šäººå¯èƒ½å°±ä¼šæƒ³è¦ä½¿ç”¨Leancloudå»æ­å»ºç½‘ç«™â€”â€”æ€ä¹ˆå®ç°å‘¢ï¼Ÿï¼ˆæˆ‘åˆšåˆšæ”¾çš„é“¾æ¥æ˜¯å›½é™…ç‰ˆçš„Leancloudï¼Œå›½å†…ç‰ˆçš„<a href="https://leancloud.cn">æˆ³è¿™</a>ï¼Œéœ€è¦å®åè®¤è¯ã€‚æ¨èå›½é™…ç‰ˆã€‚ï¼‰</p>
<p>äº‹å®ä¸Šï¼Œä½ åªéœ€è¦æ¨é€ä¸€ä¸ªç½‘é¡µåˆ°ä¸€ä¸ªGitä»“åº“ï¼ˆGitHubã€Giteeã€Codingç­‰çš†å¯ï¼‰ï¼Œç„¶åä½¿ç”¨<code>Leancloudäº‘å¼•æ“</code>åŠŸèƒ½éƒ¨ç½²ç½‘é¡µã€‚<red>æ³¨æ„ï¼æˆ‘æ²¡æœ‰è¯´æ˜¯é™æ€ç½‘é¡µï¼Leancloudæ”¯æŒ<code>PHP</code>ï¼</red>ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥æŠŠLeancloudå½“ä½œä¸€ä¸ªå…è´¹çš„ç©ºé—´æ¥æ­å»ºä½ çš„åšå®¢â€”â€”å½“ç„¶ï¼Œç¨³å®šæ€§ä¸æ•¢ä¿è¯ï¼ŒLeancloudå¼€å‘ç‰ˆæ¯å¤©ä¼šå¼ºåˆ¶ä¼‘çœ 6å°æ—¶ã€‚</p>
<p>é¦–å…ˆå…ˆåˆ›å»ºä¸€ä¸ªåº”ç”¨ï¼Œé€‰æ‹©å¼€å‘ç‰ˆ~è‡ªå·±æ•´ç½¢ï¼</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200331135141.png" alt=""></p>
<p>ç„¶åé€‰æ‹©<code>&lt;ä½ åˆ›å»ºçš„åº”ç”¨&gt;--&gt;äº‘å¼•æ“--&gt;è®¾ç½®</code>ï¼Œåœ¨<code>æºç éƒ¨ç½²--&gt;ä»£ç åº“</code>é‡Œå¡«å†™ä½ çš„Gitä»“åº“ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200331134820.png" alt=""></p>
<p>å½“ç„¶ï¼Œä¸è¦å¿˜è®°å¡«å†™Webä¸»æœºåŸŸåâ€”â€”è¿™ä¸ªæ˜¯æˆ‘ä»¬ä¹‹åé¢„è§ˆç½‘é¡µç”¨çš„ï¼</p>
<p>ç„¶åé€‰æ‹©<code>éƒ¨ç½²</code>ï¼Œå†ç‚¹å‡»<code>Gitæºç éƒ¨ç½²</code>ï¼ï¼ˆå‡å¦‚ä½ æœ‰èƒ½åŠ›ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å‘½ä»¤è¡Œéƒ¨ç½²ï¼Œä½¿ç”¨Webhookè‡ªåŠ¨éƒ¨ç½²ï¼‰</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200331135315.png" alt=""></p>
<p>ç„¶åï¼Œæ‰“å¼€ä½ å¡«å†™çš„Webä¸»æœºåŸŸåï¼Œäº«ç”¨å§ï¼</p>]]></description><category domain="https://raycoder.me/categories/%E5%85%8D%E8%B4%B9%E7%A9%BA%E9%97%B4/">å…è´¹ç©ºé—´</category><category domain="https://raycoder.me/tags/%E5%85%8D%E8%B4%B9%E7%A9%BA%E9%97%B4/">å…è´¹ç©ºé—´</category><category domain="https://raycoder.me/tags/%E7%BD%91%E7%AB%99/">ç½‘ç«™</category></item><item><title>Pythonä¸­çš„yieldå…³é”®å­—åˆ†æï¼šä¸€ä¸ªGenerator</title><link>https://raycoder.me/p/python-yield/</link><guid isPermaLink="true">https://raycoder.me/p/python-yield/</guid><pubDate>Fri, 27 Mar 2020 13:18:41 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>å†™ä½œä¸æ˜“ï¼Œèµ„ç“·ä¸€ä¸‹å‘—ï¼ä¸ªäººåšå®¢ï¼š<a href="https://raycoder.me">https://raycoder.me</a></strong></p>
<p><strong>æœ¬æ–‡é¦–å‘äº<a href="https://raycoder.me/p/python-yield/">Ray's Blog</a></strong></p>
</blockquote>
<p>æˆ‘ä»¬å…ˆæ¥åº·ä¸€æ®µä»£ç ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">count</span>(n):
		<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>):
			<span style="color:#66d9ef">print</span>(i)

<span style="color:#f92672">&gt;&gt;&gt;</span> count(<span style="color:#ae81ff">5</span>)
<span style="color:#ae81ff">1</span>
<span style="color:#ae81ff">2</span>
<span style="color:#ae81ff">3</span>
<span style="color:#ae81ff">4</span>
<span style="color:#ae81ff">5</span>
</code></pre></div><p>è¿™ä¸€å°æ®µä»£ç æ‰§è¡Œäº†è®¡æ•°ï¼Œè¾“å‡ºäº†1-5ã€‚</p>
<p>ä¸è¿‡ï¼Œæœ‰æ—¶æˆ‘ä»¬ä¼šæœ‰ä¸€äº›æƒ³â™‚FAï¼Œæƒ³è¦æ¯æ¬¡è·å–ä¸‹ä¸€ä¸ªæ•°ï¼Œå¦‚ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶ç»™ä½ è¿”å›1ï¼Œç¬¬äºŒæ¬¡è¿”å›2ï¼Œç¬¬ä¸‰æ¬¡è¿”å›3â€¦â€¦å¦‚æ­¤å¦‚æ­¤ã€‚</p>
<p>ä½ å¯èƒ½ä¼šè¿™ä¹ˆåšï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> n <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">addone</span>():
		<span style="color:#66d9ef">global</span> n
		n<span style="color:#f92672">+=</span><span style="color:#ae81ff">1</span>
		<span style="color:#66d9ef">print</span>(n)

<span style="color:#f92672">&gt;&gt;&gt;</span> addone()
<span style="color:#ae81ff">1</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> n
<span style="color:#ae81ff">1</span>
</code></pre></div><p>ä½†è¿™æ ·åˆæš´éœ²äº†ä¸€ä¸ªç¼ºç‚¹ï¼š<em class="emphasis-point">æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå…¨å±€å˜é‡</em>ã€‚æƒ³è¦é¿å…è¿™ç§ç¼ºç‚¹åˆè¦å®ç°è®¡æ•°çš„åŠŸèƒ½ï¼Œ<code>yield</code>å°±æ´¾ä¸Šç”¨åœºäº†ã€‚</p>
<p>æƒ³è¦å®ç°<code>Generator</code>çš„åŠŸèƒ½ï¼Œåªéœ€è¦å¯¹ä»£ç è¿›è¡Œä¸€å¤„æ”¹åŠ¨ï¼šæŠŠ<code>print()</code>æ”¹æˆ<code>yield</code>å³å¯ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> n <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">count</span>(n):
		<span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, n<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>):
			<span style="color:#66d9ef">yield</span> i

<span style="color:#f92672">&gt;&gt;&gt;</span> c <span style="color:#f92672">=</span> count(<span style="color:#ae81ff">5</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> c
<span style="color:#f92672">&lt;</span>generator object addone at <span style="color:#ae81ff">0x000002329F851048</span><span style="color:#f92672">&gt;</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> 
</code></pre></div><p>ä½ ä¼šå‘ç°ï¼Œè¿™ä¸ª<code>c</code>çš„ç±»å‹åƒæ˜¯ä¸€ä¸ªå¯¹è±¡äº†ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> c <span style="color:#f92672">=</span> count(<span style="color:#ae81ff">5</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> next(c)
<span style="color:#ae81ff">1</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> next(c)
<span style="color:#ae81ff">2</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> next(c)
<span style="color:#ae81ff">3</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> next(c)
<span style="color:#ae81ff">4</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> next(c)
<span style="color:#ae81ff">5</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> next(c)
Traceback (most recent call last):
  File <span style="color:#e6db74">&#34;&lt;pyshell#18&gt;&#34;</span>, line <span style="color:#ae81ff">1</span>, <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>module<span style="color:#f92672">&gt;</span>
    next(c)
<span style="color:#a6e22e">StopIteration</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> 
</code></pre></div><p>æˆ‘ä»¬ä½¿ç”¨äº†<code>next()</code>å†…ç½®å‡½æ•°è®©<code>Generator</code>è¿›è¡Œä¸‹ä¸€æ¬¡è¿­ä»£ã€‚ç”±æ­¤å¯è§ï¼Œ<em class="emphasis-point">yieldåƒæ˜¯ä¸€ä¸ªç±»ä¼¼äºreturnçš„è¿­ä»£å™¨</em>ã€‚</p>
<p>å†æ¥ä¸€ä¸ªç¤ºä¾‹ï¼Œç”Ÿæˆæ–æ³¢é‚£å¥‘æ•°åˆ—ï¼š</p>
<h5 id="1-ç®€å•è¾“å‡ºæ–æ³¢é‚£å¥‘æ•¸åˆ—å‰-n-ä¸ªæ•°">1. ç®€å•è¾“å‡ºæ–æ³¢é‚£å¥‘æ•¸åˆ—å‰ N ä¸ªæ•°</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fab</span>(max): 
   n, a, b <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span> 
   <span style="color:#66d9ef">while</span> n <span style="color:#f92672">&lt;</span> max: 
       <span style="color:#66d9ef">print</span>(b)
       a, b <span style="color:#f92672">=</span> b, a <span style="color:#f92672">+</span> b 
       n <span style="color:#f92672">=</span> n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</code></pre></div><p>æ‰§è¡Œ fab(5)ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹è¾“å‡ºï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> fab(<span style="color:#ae81ff">5</span>)
<span style="color:#ae81ff">1</span>
<span style="color:#ae81ff">1</span>
<span style="color:#ae81ff">2</span>
<span style="color:#ae81ff">3</span>
<span style="color:#ae81ff">5</span>
</code></pre></div><p>ç»“æœæ²¡æœ‰é—®é¢˜ï¼Œä½†æœ‰ç»éªŒçš„å¼€å‘è€…ä¼šæŒ‡å‡ºï¼Œç›´æ¥åœ¨ fab å‡½æ•°ä¸­ç”¨ print æ‰“å°æ•°å­—ä¼šå¯¼è‡´è¯¥å‡½æ•°å¯å¤ç”¨æ€§è¾ƒå·®ï¼Œå› ä¸º fab å‡½æ•°è¿”å› Noneï¼Œå…¶ä»–å‡½æ•°æ— æ³•è·å¾—è¯¥å‡½æ•°ç”Ÿæˆçš„æ•°åˆ—ã€‚</p>
<p>è¦æé«˜ fab å‡½æ•°çš„å¯å¤ç”¨æ€§ï¼Œæœ€å¥½ä¸è¦ç›´æ¥æ‰“å°å‡ºæ•°åˆ—ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ª Listã€‚ä»¥ä¸‹æ˜¯ fab å‡½æ•°æ”¹å†™åçš„ç¬¬äºŒä¸ªç‰ˆæœ¬ï¼š</p>
<h5 id="2-è¾“å‡ºæ–æ³¢é‚£å¥‘æ•¸åˆ—å‰-n-ä¸ªæ•°ç¬¬äºŒç‰ˆ">2. è¾“å‡ºæ–æ³¢é‚£å¥‘æ•¸åˆ—å‰ N ä¸ªæ•°ç¬¬äºŒç‰ˆ</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fab</span>(max): 
   n, a, b <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span> 
   L <span style="color:#f92672">=</span> [] 
   <span style="color:#66d9ef">while</span> n <span style="color:#f92672">&lt;</span> max: 
       L<span style="color:#f92672">.</span>append(b) 
       a, b <span style="color:#f92672">=</span> b, a <span style="color:#f92672">+</span> b 
       n <span style="color:#f92672">=</span> n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> 
   <span style="color:#66d9ef">return</span> L
</code></pre></div><p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼æ‰“å°å‡º fab å‡½æ•°è¿”å›çš„ Listï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> fab(<span style="color:#ae81ff">5</span>): 
<span style="color:#f92672">...</span>     <span style="color:#66d9ef">print</span>(n)
<span style="color:#f92672">...</span> 
<span style="color:#ae81ff">1</span> 
<span style="color:#ae81ff">1</span> 
<span style="color:#ae81ff">2</span> 
<span style="color:#ae81ff">3</span> 
<span style="color:#ae81ff">5</span>
</code></pre></div><p>æ”¹å†™åçš„ fab å‡½æ•°é€šè¿‡è¿”å› List èƒ½æ»¡è¶³å¤ç”¨æ€§çš„è¦æ±‚ï¼Œä½†æ˜¯æ›´æœ‰ç»éªŒçš„å¼€å‘è€…ä¼šæŒ‡å‡ºï¼Œè¯¥å‡½æ•°åœ¨è¿è¡Œä¸­å ç”¨çš„å†…å­˜ä¼šéšç€å‚æ•° max çš„å¢å¤§è€Œå¢å¤§ï¼Œå¦‚æœè¦æ§åˆ¶å†…å­˜å ç”¨ï¼Œæœ€å¥½ä¸è¦ç”¨ List</p>
<p>æ¥ä¿å­˜ä¸­é—´ç»“æœï¼Œè€Œæ˜¯é€šè¿‡ iterable å¯¹è±¡æ¥è¿­ä»£ã€‚ä¾‹å¦‚ï¼Œåœ¨ Python2.x ä¸­ï¼Œä»£ç ï¼š</p>
<h5 id="æ¸…å•-3-é€šè¿‡-iterable-å¯¹è±¡æ¥è¿­ä»£">æ¸…å• 3. é€šè¿‡ iterable å¯¹è±¡æ¥è¿­ä»£</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1000</span>): <span style="color:#66d9ef">pass</span>
</code></pre></div><p>ä¼šå¯¼è‡´ç”Ÿæˆä¸€ä¸ª 1000 ä¸ªå…ƒç´ çš„ Listï¼Œè€Œä»£ç ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> xrange(<span style="color:#ae81ff">1000</span>): <span style="color:#66d9ef">pass</span>
</code></pre></div><p>åˆ™ä¸ä¼šç”Ÿæˆä¸€ä¸ª 1000 ä¸ªå…ƒç´ çš„ Listï¼Œè€Œæ˜¯åœ¨æ¯æ¬¡è¿­ä»£ä¸­è¿”å›ä¸‹ä¸€ä¸ªæ•°å€¼ï¼Œå†…å­˜ç©ºé—´å ç”¨å¾ˆå°ã€‚å› ä¸º xrange ä¸è¿”å› Listï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ª iterable å¯¹è±¡ã€‚</p>
<p>åˆ©ç”¨ iterable æˆ‘ä»¬å¯ä»¥æŠŠ fab å‡½æ•°æ”¹å†™ä¸ºä¸€ä¸ªæ”¯æŒ iterable çš„ classï¼Œä»¥ä¸‹æ˜¯ç¬¬ä¸‰ä¸ªç‰ˆæœ¬çš„ Fabï¼š</p>
<h5 id="æ¸…å•-4-ç¬¬ä¸‰ä¸ªç‰ˆæœ¬">æ¸…å• 4. ç¬¬ä¸‰ä¸ªç‰ˆæœ¬</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Fab</span>(object): 
 
   <span style="color:#66d9ef">def</span> __init__(self, max): 
       self<span style="color:#f92672">.</span>max <span style="color:#f92672">=</span> max 
       self<span style="color:#f92672">.</span>n, self<span style="color:#f92672">.</span>a, self<span style="color:#f92672">.</span>b <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span> 
 
   <span style="color:#66d9ef">def</span> __iter__(self): 
       <span style="color:#66d9ef">return</span> self 
 
   <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">next</span>(self): 
       <span style="color:#66d9ef">if</span> self<span style="color:#f92672">.</span>n <span style="color:#f92672">&lt;</span> self<span style="color:#f92672">.</span>max: 
           r <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>b 
           self<span style="color:#f92672">.</span>a, self<span style="color:#f92672">.</span>b <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>b, self<span style="color:#f92672">.</span>a <span style="color:#f92672">+</span> self<span style="color:#f92672">.</span>b 
           self<span style="color:#f92672">.</span>n <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> 
           <span style="color:#66d9ef">return</span> r 
       <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">StopIteration</span>()
</code></pre></div><p>Fab ç±»é€šè¿‡ next() ä¸æ–­è¿”å›æ•°åˆ—çš„ä¸‹ä¸€ä¸ªæ•°ï¼Œå†…å­˜å ç”¨å§‹ç»ˆä¸ºå¸¸æ•°ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> Fab(<span style="color:#ae81ff">5</span>): 
<span style="color:#f92672">...</span>     <span style="color:#66d9ef">print</span>(n)
<span style="color:#f92672">...</span> 
<span style="color:#ae81ff">1</span> 
<span style="color:#ae81ff">1</span> 
<span style="color:#ae81ff">2</span> 
<span style="color:#ae81ff">3</span> 
<span style="color:#ae81ff">5</span>
</code></pre></div><p>ç„¶è€Œï¼Œä½¿ç”¨ class æ”¹å†™çš„è¿™ä¸ªç‰ˆæœ¬ï¼Œä»£ç è¿œè¿œæ²¡æœ‰ç¬¬ä¸€ç‰ˆçš„ fab å‡½æ•°æ¥å¾—ç®€æ´ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦ä¿æŒç¬¬ä¸€ç‰ˆ fab å‡½æ•°çš„ç®€æ´æ€§ï¼ŒåŒæ—¶åˆè¦è·å¾— iterable çš„æ•ˆæœï¼Œyield å°±æ´¾ä¸Šç”¨åœºäº†ï¼š</p>
<h5 id="æ¸…å•-5-ä½¿ç”¨-yield-çš„ç¬¬å››ç‰ˆ">æ¸…å• 5. ä½¿ç”¨ yield çš„ç¬¬å››ç‰ˆ</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fab</span>(max): 
    n, a, b <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span> 
    <span style="color:#66d9ef">while</span> n <span style="color:#f92672">&lt;</span> max: 
        <span style="color:#66d9ef">yield</span> b 
        <span style="color:#75715e"># print(b)</span>
        a, b <span style="color:#f92672">=</span> b, a <span style="color:#f92672">+</span> b 
        n <span style="color:#f92672">=</span> n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> 
</code></pre></div><p>ç¬¬å››ä¸ªç‰ˆæœ¬çš„ fab å’Œç¬¬ä¸€ç‰ˆç›¸æ¯”ï¼Œä»…ä»…æŠŠ print b æ”¹ä¸ºäº† yield bï¼Œå°±åœ¨ä¿æŒç®€æ´æ€§çš„åŒæ—¶è·å¾—äº† iterable çš„æ•ˆæœã€‚</p>
<p>è°ƒç”¨ç¬¬å››ç‰ˆçš„ fab å’Œç¬¬äºŒç‰ˆçš„ fab å®Œå…¨ä¸€è‡´ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> fab(<span style="color:#ae81ff">5</span>): 
<span style="color:#f92672">...</span>     <span style="color:#66d9ef">print</span>(n)
<span style="color:#f92672">...</span> 
<span style="color:#ae81ff">1</span> 
<span style="color:#ae81ff">1</span> 
<span style="color:#ae81ff">2</span> 
<span style="color:#ae81ff">3</span> 
<span style="color:#ae81ff">5</span>
</code></pre></div><p>ç®€å•åœ°è®²ï¼Œyield çš„ä½œç”¨å°±æ˜¯æŠŠä¸€ä¸ªå‡½æ•°å˜æˆä¸€ä¸ª generatorï¼Œå¸¦æœ‰ yield çš„å‡½æ•°ä¸å†æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼ŒPython è§£é‡Šå™¨ä¼šå°†å…¶è§†ä¸ºä¸€ä¸ª generatorï¼Œè°ƒç”¨ fab(5) ä¸ä¼šæ‰§è¡Œ fab å‡½æ•°ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ª iterable å¯¹è±¡ï¼åœ¨ for å¾ªç¯æ‰§è¡Œæ—¶ï¼Œæ¯æ¬¡å¾ªç¯éƒ½ä¼šæ‰§è¡Œ fab å‡½æ•°å†…éƒ¨çš„ä»£ç ï¼Œæ‰§è¡Œåˆ° yield b æ—¶ï¼Œfab å‡½æ•°å°±è¿”å›ä¸€ä¸ªè¿­ä»£å€¼ï¼Œä¸‹æ¬¡è¿­ä»£æ—¶ï¼Œä»£ç ä» yield b çš„ä¸‹ä¸€æ¡è¯­å¥ç»§ç»­æ‰§è¡Œï¼Œè€Œå‡½æ•°çš„æœ¬åœ°å˜é‡çœ‹èµ·æ¥å’Œä¸Šæ¬¡ä¸­æ–­æ‰§è¡Œå‰æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œäºæ˜¯å‡½æ•°ç»§ç»­æ‰§è¡Œï¼Œç›´åˆ°å†æ¬¡é‡åˆ° yieldã€‚</p>
<p>ä¹Ÿå¯ä»¥æ‰‹åŠ¨è°ƒç”¨ fab(5) çš„ next() æ–¹æ³•ï¼ˆå› ä¸º fab(5) æ˜¯ä¸€ä¸ª generator å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å…·æœ‰ next() æ–¹æ³•ï¼‰ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ›´æ¸…æ¥šåœ°çœ‹åˆ° fab çš„æ‰§è¡Œæµç¨‹ï¼š</p>
<h5 id="æ¸…å•-6-æ‰§è¡Œæµç¨‹">æ¸…å• 6. æ‰§è¡Œæµç¨‹</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> f <span style="color:#f92672">=</span> fab(<span style="color:#ae81ff">5</span>) 
<span style="color:#f92672">&gt;&gt;&gt;</span> f<span style="color:#f92672">.</span>next() 
<span style="color:#ae81ff">1</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> f<span style="color:#f92672">.</span>next() 
<span style="color:#ae81ff">1</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> f<span style="color:#f92672">.</span>next() 
<span style="color:#ae81ff">2</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> f<span style="color:#f92672">.</span>next() 
<span style="color:#ae81ff">3</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> f<span style="color:#f92672">.</span>next() 
<span style="color:#ae81ff">5</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> f<span style="color:#f92672">.</span>next() 
Traceback (most recent call last): 
 File <span style="color:#e6db74">&#34;&lt;stdin&gt;&#34;</span>, line <span style="color:#ae81ff">1</span>, <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>module<span style="color:#f92672">&gt;</span> 
<span style="color:#a6e22e">StopIteration</span>
</code></pre></div><p>å½“å‡½æ•°æ‰§è¡Œç»“æŸæ—¶ï¼Œgenerator è‡ªåŠ¨æŠ›å‡º StopIteration å¼‚å¸¸ï¼Œè¡¨ç¤ºè¿­ä»£å®Œæˆã€‚åœ¨ for å¾ªç¯é‡Œï¼Œæ— éœ€å¤„ç† StopIteration å¼‚å¸¸ï¼Œå¾ªç¯ä¼šæ­£å¸¸ç»“æŸã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p>
<p>ä¸€ä¸ªå¸¦æœ‰ yield çš„å‡½æ•°å°±æ˜¯ä¸€ä¸ª generatorï¼Œå®ƒå’Œæ™®é€šå‡½æ•°ä¸åŒï¼Œç”Ÿæˆä¸€ä¸ª generator çœ‹èµ·æ¥åƒå‡½æ•°è°ƒç”¨ï¼Œä½†ä¸ä¼šæ‰§è¡Œä»»ä½•å‡½æ•°ä»£ç ï¼Œç›´åˆ°å¯¹å…¶è°ƒç”¨ next()ï¼ˆåœ¨ for å¾ªç¯ä¸­ä¼šè‡ªåŠ¨è°ƒç”¨ next()ï¼‰æ‰å¼€å§‹æ‰§è¡Œã€‚è™½ç„¶æ‰§è¡Œæµç¨‹ä»æŒ‰å‡½æ•°çš„æµç¨‹æ‰§è¡Œï¼Œä½†æ¯æ‰§è¡Œåˆ°ä¸€ä¸ª yield è¯­å¥å°±ä¼šä¸­æ–­ï¼Œå¹¶è¿”å›ä¸€ä¸ªè¿­ä»£å€¼ï¼Œä¸‹æ¬¡æ‰§è¡Œæ—¶ä» yield çš„ä¸‹ä¸€ä¸ªè¯­å¥ç»§ç»­æ‰§è¡Œã€‚çœ‹èµ·æ¥å°±å¥½åƒä¸€ä¸ªå‡½æ•°åœ¨æ­£å¸¸æ‰§è¡Œçš„è¿‡ç¨‹ä¸­è¢« yield ä¸­æ–­äº†æ•°æ¬¡ï¼Œæ¯æ¬¡ä¸­æ–­éƒ½ä¼šé€šè¿‡ yield è¿”å›å½“å‰çš„è¿­ä»£å€¼ã€‚</p>
<p>yield çš„å¥½å¤„æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼ŒæŠŠä¸€ä¸ªå‡½æ•°æ”¹å†™ä¸ºä¸€ä¸ª generator å°±è·å¾—äº†è¿­ä»£èƒ½åŠ›ï¼Œæ¯”èµ·ç”¨ç±»çš„å®ä¾‹ä¿å­˜çŠ¶æ€æ¥è®¡ç®—ä¸‹ä¸€ä¸ª next() çš„å€¼ï¼Œä¸ä»…ä»£ç ç®€æ´ï¼Œè€Œä¸”æ‰§è¡Œæµç¨‹å¼‚å¸¸æ¸…æ™°ã€‚</p>
<p>å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå‡½æ•°æ˜¯å¦æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ generator å‡½æ•°ï¼Ÿå¯ä»¥åˆ©ç”¨ isgeneratorfunction åˆ¤æ–­ï¼š</p>
<h5 id="æ¸…å•-7-ä½¿ç”¨-isgeneratorfunction-åˆ¤æ–­">æ¸…å• 7. ä½¿ç”¨ isgeneratorfunction åˆ¤æ–­</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> inspect <span style="color:#f92672">import</span> isgeneratorfunction 
<span style="color:#f92672">&gt;&gt;&gt;</span> isgeneratorfunction(fab) 
True
</code></pre></div><p>è¦æ³¨æ„åŒºåˆ† fab å’Œ fab(5)ï¼Œfab æ˜¯ä¸€ä¸ª generator functionï¼Œè€Œ fab(5) æ˜¯è°ƒç”¨ fab è¿”å›çš„ä¸€ä¸ª generatorï¼Œå¥½æ¯”ç±»çš„å®šä¹‰å’Œç±»çš„å®ä¾‹çš„åŒºåˆ«ï¼š</p>
<h5 id="æ¸…å•-8-ç±»çš„å®šä¹‰å’Œç±»çš„å®ä¾‹">æ¸…å• 8. ç±»çš„å®šä¹‰å’Œç±»çš„å®ä¾‹</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">import</span> types 
<span style="color:#f92672">&gt;&gt;&gt;</span> isinstance(fab, types<span style="color:#f92672">.</span>GeneratorType) 
False 
<span style="color:#f92672">&gt;&gt;&gt;</span> isinstance(fab(<span style="color:#ae81ff">5</span>), types<span style="color:#f92672">.</span>GeneratorType) 
True
</code></pre></div><p>fab æ˜¯æ— æ³•è¿­ä»£çš„ï¼Œè€Œ fab(5) æ˜¯å¯è¿­ä»£çš„ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#f92672">from</span> collections <span style="color:#f92672">import</span> Iterable 
<span style="color:#f92672">&gt;&gt;&gt;</span> isinstance(fab, Iterable) 
False 
<span style="color:#f92672">&gt;&gt;&gt;</span> isinstance(fab(<span style="color:#ae81ff">5</span>), Iterable) 
True
</code></pre></div><p>æ¯æ¬¡è°ƒç”¨ fab å‡½æ•°éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ generator å®ä¾‹ï¼Œå„å®ä¾‹äº’ä¸å½±å“ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> f1 <span style="color:#f92672">=</span> fab(<span style="color:#ae81ff">3</span>) 
<span style="color:#f92672">&gt;&gt;&gt;</span> f2 <span style="color:#f92672">=</span> fab(<span style="color:#ae81ff">5</span>) 
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;f1:&#39;</span>, f1<span style="color:#f92672">.</span>next())
f1: <span style="color:#ae81ff">1</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;f2:&#39;</span>, f2<span style="color:#f92672">.</span>next())
f2: <span style="color:#ae81ff">1</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;f1:&#39;</span>, f1<span style="color:#f92672">.</span>next())
f1: <span style="color:#ae81ff">1</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;f2:&#39;</span>, f2<span style="color:#f92672">.</span>next())
f2: <span style="color:#ae81ff">1</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;f1:&#39;</span>, f1<span style="color:#f92672">.</span>next())
f1: <span style="color:#ae81ff">2</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;f2:&#39;</span>, f2<span style="color:#f92672">.</span>next())
f2: <span style="color:#ae81ff">2</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;f2:&#39;</span>, f2<span style="color:#f92672">.</span>next())
f2: <span style="color:#ae81ff">3</span> 
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;f2:&#39;</span>, f2<span style="color:#f92672">.</span>next())
f2: <span style="color:#ae81ff">5</span>
</code></pre></div><h2 id="return-çš„ä½œç”¨">return çš„ä½œç”¨</h2>
<p>åœ¨ä¸€ä¸ª generator function ä¸­ï¼Œå¦‚æœæ²¡æœ‰ returnï¼Œåˆ™é»˜è®¤æ‰§è¡Œè‡³å‡½æ•°å®Œæ¯•ï¼Œå¦‚æœåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ returnï¼Œåˆ™ç›´æ¥æŠ›å‡º StopIteration ç»ˆæ­¢è¿­ä»£ã€‚</p>
<h2 id="å¦ä¸€ä¸ªä¾‹å­">å¦ä¸€ä¸ªä¾‹å­</h2>
<p>å¦ä¸€ä¸ª yield çš„ä¾‹å­æ¥æºäºæ–‡ä»¶è¯»å–ã€‚å¦‚æœç›´æ¥å¯¹æ–‡ä»¶å¯¹è±¡è°ƒç”¨ read() æ–¹æ³•ï¼Œä¼šå¯¼è‡´ä¸å¯é¢„æµ‹çš„å†…å­˜å ç”¨ã€‚å¥½çš„æ–¹æ³•æ˜¯åˆ©ç”¨å›ºå®šé•¿åº¦çš„ç¼“å†²åŒºæ¥ä¸æ–­è¯»å–æ–‡ä»¶å†…å®¹ã€‚é€šè¿‡ yieldï¼Œæˆ‘ä»¬ä¸å†éœ€è¦ç¼–å†™è¯»æ–‡ä»¶çš„è¿­ä»£ç±»ï¼Œå°±å¯ä»¥è½»æ¾å®ç°æ–‡ä»¶è¯»å–ï¼š</p>
<h5 id="æ¸…å•-9-å¦ä¸€ä¸ª-yield-çš„ä¾‹å­">æ¸…å• 9. å¦ä¸€ä¸ª yield çš„ä¾‹å­</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_file</span>(fpath): 
   BLOCK_SIZE <span style="color:#f92672">=</span> <span style="color:#ae81ff">1024</span> 
   <span style="color:#66d9ef">with</span> open(fpath, <span style="color:#e6db74">&#39;rb&#39;</span>) <span style="color:#66d9ef">as</span> f: 
       <span style="color:#66d9ef">while</span> True: 
           block <span style="color:#f92672">=</span> f<span style="color:#f92672">.</span>read(BLOCK_SIZE) 
           <span style="color:#66d9ef">if</span> block: 
               <span style="color:#66d9ef">yield</span> block 
           <span style="color:#66d9ef">else</span>: 
               <span style="color:#66d9ef">return</span>
</code></pre></div><p>ä»¥ä¸Šä»…ä»…ç®€å•ä»‹ç»äº† yield çš„åŸºæœ¬æ¦‚å¿µå’Œç”¨æ³•ï¼Œæˆ‘ä»¬ä¼šåœ¨åç»­æ–‡ç« ä¸­è®¨è®ºã€‚</p>
<p>è½¬è½½äº†ä¸€éƒ¨åˆ†å†…å®¹ï¼š<a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-python-yield">Python yield ä½¿ç”¨æµ…æ | IBM</a></p>
]]></description><category domain="https://raycoder.me/categories/python/">Python</category><category domain="https://raycoder.me/categories/python%E5%85%B3%E9%94%AE%E5%AD%97/">Pythonå…³é”®å­—</category><category domain="https://raycoder.me/categories/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Pythonå­¦ä¹ ç¬”è®°</category><category domain="https://raycoder.me/tags/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Pythonå­¦ä¹ ç¬”è®°</category><category domain="https://raycoder.me/tags/python/">Python</category><category domain="https://raycoder.me/tags/python%E5%85%B3%E9%94%AE%E5%AD%97/">Pythonå…³é”®å­—</category></item><item><title>å»ºç«‹ä¸ªäººåšå®¢é…ç½®æ¨è</title><link>https://raycoder.me/p/build-a-blog-recommendation/</link><guid isPermaLink="true">https://raycoder.me/p/build-a-blog-recommendation/</guid><pubDate>Thu, 26 Mar 2020 15:48:50 +0800</pubDate><description><![CDATA[<p>å»ºç«‹ä¸ªäººåšå®¢ç™½å«–æ¨èï¼š</p>
<ul>
<li>æ¡†æ¶/ä¸»é¢˜ï¼š<a href="https://gohugo.io">Hugo</a>&amp;<a href="https://github.com/reuixiy/hugo-theme-meme">MemE</a></li>
<li>æºç æ‰˜ç®¡ï¼š<a href="https://github.com">GitHub</a></li>
<li>ç½‘ç«™æŒç»­é›†æˆéƒ¨ç½²ï¼š<a href="https://netlify.com">Netlify</a></li>
<li>ç½‘ç«™DNSè§£ææœåŠ¡/å…è´¹CDNï¼š<a href="https://cloudflare.com">Cloudflare</a></li>
<li>ï¼ˆå¯é€‰ï¼‰å…è´¹CDNï¼š<a href="https://nodecache.com">NodeCache</a>&amp;<a href="https://ddos-guard.net">DDOS Guard</a></li>
<li>ç»Ÿè®¡ï¼š<a href="https://tongji.baidu.com">ç™¾åº¦ç»Ÿè®¡</a>/<a href="https://analytics.google.com">Google Analytics</a></li>
</ul>
<p>ç™½å«–æˆåŠŸï¼ŒåºŸè¯ä¸è¯´å¼€å§‹å»ºç«™ï¼æœ¬æ–‡é‡‡ç”¨æ“ä½œç³»ç»Ÿï¼š<code>Windows 10 2004 19587.1000</code>ï¼Œå…¶ä»–ç³»ç»Ÿè¯·ä¸¾ä¸€åä¸‰ï¼Œé‡‡ç”¨<code>Git BASH</code>ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200326164618.jpg" alt=""></p>
<hr>
<h3 id="hugomeme">Hugo&amp;MemE</h3>
<p>é¦–å…ˆï¼Œå…ˆå»ä¸‹è½½<a href="https://github.com/gohugoio/hugo"><code>Hugo</code></a>ã€‚åœ¨ä½ çœ‹åˆ°è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œä½ å¯èƒ½å·²ç»é˜…è¯»äº†è®¸å¤šå»ºåšå®¢æ•™ç¨‹ï¼Œä¹Ÿè®¸æ˜¯æ¨èä½¿ç”¨<a href="https://hexo.io"><code>Hexo</code></a>ï¼Œæˆ–æ˜¯<a href="https://typecho.org"><code>Typecho</code></a>ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯<a href="https://wordpress.org"><code>WordPress</code></a>ï¼Œ<a href="https://gridea.dev"><code>Gridea</code></a>ï¼Œ<a href="https://ghost.org"><code>Ghost</code></a>â€¦â€¦ä½†æ˜¯ï¼ä½†æ˜¯ï¼ä¸ºä»€ä¹ˆæˆ‘è¦æ¨èä¸€ä¸ªçŸ¥ååº¦åœ¨å›½å†…éƒ½ä¸å¦‚<a href="https://hexo.io"><code>Hexo</code></a>çš„ç½‘ç«™æ¡†æ¶å‘¢ï¼ŸåŸå› æœ‰3ï¼š</p>
<ol>
<li><a href="https://github.com/gohugoio/hugo"><code>Hugo</code></a>é‡‡ç”¨<a href="https://golang.google.cn"><code>Go Lang</code></a>ç½‘ç«™ç”Ÿæˆé€Ÿåº¦å¿«ï¼Œæ–‡ç« å¤šäº†å®Œçˆ†<a href="https://hexo.io"><code>Hexo</code></a>ï¼›</li>
<li>æ”¯æŒæŒç»­é›†æˆéƒ¨ç½²ï¼›</li>
<li>æœ€æœ€é‡è¦çš„ä¸€ç‚¹ï¼š<em class="emphasis-point">å†…ç½®çŸ­ä»£ç è¯­è¨€</em>ï¼Œå¯å®šåˆ¶æ€§æé«˜ï¼ä½ å¯ä»¥çœ‹çœ‹æœ¬æ–‡çš„<a href="https://github.com/FFRaycoder/blog/blob/master/content/p/build-a-blog-recommendation.md">çº¯æ–‡æœ¬ç‰ˆæœ¬</a>ï¼Œå‰é¢çš„<em class="emphasis-point">åŠ ç‚¹å­—</em>ï¼Œä¾¿æ˜¯è‡ªå®šä¹‰çš„çŸ­ä»£ç ã€‚</li>
</ol>
<p>æ³¨æ„ï¼šå¦‚æœä½ è·Ÿéšæœ¬æ–‡æ•™ç¨‹æ­å»ºåšå®¢ï¼Œé‚£ä¹ˆè¯·åœ¨<a href=""><code>Releases</code></a>ç•Œé¢ä¸‹è½½æ‹“å±•ç‰ˆHugoï¼Œæ–‡ä»¶åå¦‚<code>hugo_extended_X.Y.Z_SYS-64bit.zip</code>ï¼Œå…å®‰è£…çš„ã€‚</p>
<p>ä¸‹è½½åéœ€è¦å°†å®ƒä¿å­˜åˆ°ä¸€ä¸ªå›ºå®šçš„ç›®å½•ï¼Œéšæ„ã€‚æˆ‘ä¸å»ºè®®æ”¾åˆ°<code>C:/Windows/System32</code>ä¸‹ï¼Œå› ä¸º<code>Hugo</code>æ›´æ–°çš„<em class="emphasis-point">å¾ˆå‹¤</em>ã€‚</p>
<p>ä¸‹è½½ä¿å­˜è§£å‹ååœ¨ä¸€ä¸ª<em class="emphasis-point">åšå®¢ä¸“ç”¨ç›®å½•</em>ï¼ˆä¸ªäººå»ºè®®ï¼‰ä¸‹è¿è¡Œå‘½ä»¤ï¼ˆ<code>CMD</code>,<a href="https://git-scm.com"><code>Git BASH</code></a>éƒ½å¯ï¼Œæ¨è<code>Git BASH</code>ï¼Œå¯æ‰§è¡Œå‘½ä»¤æ¯”CMDå¤šã€‚ï¼‰ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ hugo new site blog
</code></pre></div><p>å…¶ä¸­ï¼Œ<code>hugo</code>ä»£è¡¨è¿™æ˜¯ä¸€ä¸ªHUGOæŒ‡ä»¤ï¼ˆå‰ææ˜¯è¦å…ˆå°†ä¿å­˜<code>hugo.exe</code>çš„æ–‡ä»¶å¤¹æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">bash: hugo: command not found
</code></pre></div><p>æ•™ç¨‹ï¼š<a href="https://baijiahao.baidu.com/s?id=1652502091402613426">ç¯å¢ƒå˜é‡æ·»åŠ æ•™ç¨‹</a></p>
<p>å½“ç„¶ï¼Œ<code>blog</code>ä¹Ÿå¯ä»¥è‡ªå·±ä¿®æ”¹åç§°ã€‚</p>
<p>åˆ›å»ºå®Œä¸€ä¸ªåšå®¢æ–‡ä»¶å¤¹åï¼Œé‡Œé¢éå¸¸ç©ºæ—·ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">â”œâ”€config.toml
â”‚
â”œâ”€archetypes
â”‚      default.md
â”‚
â”œâ”€content
â”œâ”€data
â”œâ”€layouts
â”œâ”€static
â””â”€themes
</code></pre></div><p>è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±è¦ä¸‹è½½ä¸€ä¸ªä¸»é¢˜äº†ï¼šæˆ‘è¿™é‡Œä»¥<a href="https://github.com/reuixiy/hugo-theme-meme">MemE</a>åšç¤ºä¾‹ã€‚</p>
<p>æŠŠä¸»é¢˜<code>clone</code>åˆ°æœ¬åœ°ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ git clone https://github.com/reuixiy/hugo-theme-meme.git themes/meme
</code></pre></div><p>å…¶å®æˆ‘æ¨èè¿™ä¸ªä¸»é¢˜æ˜¯æœ‰åŸå› çš„ï¼š</p>
<ol>
<li>ç•Œé¢ç®€æ´ï¼ˆå¦‚æœ¬ç«™ï¼‰</li>
<li>è‡ªå¸¦è®¸å¤šé…ç½®åŠŸèƒ½</li>
<li>è‡ªå¸¦<code>Service Worker</code>&amp;<code>PWA</code></li>
<li>......</li>
</ol>
<p>é…ç½®/å†™ä½œæœ¬æ–‡ä¾¿ä¸å†èµ˜è¿°ï¼Œè¯·å‚é˜…ï¼š</p>
<ul>
<li>
<p><a href="https://baijiahao.baidu.com/s?id=1630800288039248525">hugo+githubåšå®¢æ­å»ºæ•™ç¨‹ï¼ | ç™¾å®¶å·</a></p>
</li>
<li>
<p><a href="https://www.jianshu.com/p/8c3d7dfb09a0">ä½¿ç”¨Hugoæ­å»ºè‡ªå·±çš„åšå®¢ | ç®€ä¹¦</a></p>
</li>
<li>
<p><a href="https://github.com/reuixiy/hugo-theme-meme/blob/master/README.zh-cn.md">README | GitHub</a></p>
</li>
<li>
<p><a href="https://io-oi.me/tech/documentation-of-hugo-theme-meme/">Hugo ä¸»é¢˜ MemE æ–‡æ¡£ | reuixiy</a></p>
</li>
</ul>
<hr>
<h3 id="æºç æ‰˜ç®¡è‡³github">æºç æ‰˜ç®¡è‡³GitHub</h3>
<p>è¿™ä¸ªå¾ˆç®€å•ï¼Œåœ¨GitHubä¸Šé¢æ–°å»ºä¸€ä¸ªä»“åº“ï¼Œåå­—éšä¾¿å–ï¼Œç„¶åå°†ä½ çš„æ•´ä¸ªåšå®¢æ–‡ä»¶å¤¹Pushä¸Šå»å³å¯ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200326220659.png" alt=""></p>
<p>çœ‹åˆ°é‚£ä¸ªå¤§ç»¿æŒ‰é’®äº†å§ï¼Ÿï¼è‡ªå·±æ ¹æ®æç¤ºæ–°å»ºä¸€ä¸ªä»“åº“ï¼</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ git init
$ git remote add origin &lt;YOUR_REPO&gt;
$ git add -A
$ git commit -m <span style="color:#e6db74">&#34;init&#34;</span>
$ git push -u origin master
</code></pre></div><p>è¯·åœ¨<code>&lt;YOUR_REPO&gt;</code>ä¸­å¡«å…¥ä½ ä»“åº“çš„<code>.git</code>åœ°å€ï¼</p>
<p>çœ‹ä¸æ‡‚çš„è¯·å‚è€ƒ<a href="https://www.liaoxuefeng.com/wiki/896043488029600">å»–é›ªå³°çš„Gitæ•™ç¨‹</a>ï¼</p>
<hr>
<h3 id="ç½‘ç«™æŒç»­é›†æˆéƒ¨ç½²">ç½‘ç«™æŒç»­é›†æˆéƒ¨ç½²</h3>
<p>è¯·å‚è€ƒ<a href="/p/deploy-your-hugo-and-hexo-blog-to-netlify">Hugo-MemE/Hexo(çœŸ)è‡ªåŠ¨æ¨é€éƒ¨ç½²è‡³Netlify</a></p>
<hr>
<p><strong>æ³¨æ„ï¼šä»¥ä¸‹ä¸¤ä¸ªæ“ä½œä»…é€‚ç”¨äºæœ‰ç‹¬ç«‹åŸŸåçš„åšä¸»ï¼</strong></p>
<h3 id="ç½‘ç«™dnsè§£ææœåŠ¡å…è´¹cdn">ç½‘ç«™DNSè§£ææœåŠ¡/å…è´¹CDN</h3>
<p>è¿™ä¸ªå¾ˆç®€å•ï¼Œåªéœ€è¦ä½ åœ¨<a href="https://cloudflare.com">Cloudflare</a>ä¸­åˆ›å»ºä¸€ä¸ªè´¦å·ï¼Œç„¶åç‚¹å‡»è¿™ä¸ª<strong>å¤§å¤§çš„æŒ‰é’®</strong>å³å¯ï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200327131457.png" alt=""></p>
<p>æŒ‰ç…§æç¤ºå°†ä½ åŸŸåçš„<code>NS</code>è®¾ç½®ä¸ºå®ƒç»™ä½ æä¾›çš„<code>NS</code>åœ°å€ã€‚</p>
<p>å…è´¹CDNåªéœ€è¦ä½ åœ¨æ·»åŠ è§£ææ—¶é€‰ä¸­<code>Proxied</code>é‚£å¨äº‘å½¢å›¾æ¡ˆå°±å¯ä»¥äº†ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200327132301.png" alt=""></p>
<hr>
<h3 id="å¯é€‰å…è´¹cdn">ï¼ˆå¯é€‰ï¼‰å…è´¹CDN</h3>
<p><a href="https://nodecache.com">NodeCache</a>æœ‰ä¸­æ–‡ç•Œé¢ï¼Œè‡ªå·±æğŸ˜</p>
<p><a href="https://ddos-guard.net">DDOS Guard</a>çš„é…ç½®å¯ä»¥å‚è€ƒæˆ‘çš„è¿™ç¯‡æ–‡ç« ï¼š<a href="/p/ddos-guard-free-cdn/">DDOS-Guardå…è´¹CDN</a></p>
<hr>
<h3 id="ç»Ÿè®¡">ç»Ÿè®¡</h3>
<h4 id="ç™¾åº¦ç»Ÿè®¡">ç™¾åº¦ç»Ÿè®¡</h4>
<p>æ‰“å¼€<a href="https://tongji.baidu.com/">ç™¾åº¦ç»Ÿè®¡å®˜ç½‘</a>ï¼Œç™»å½•åæ·»åŠ ä¸€ä¸ªç«™ç‚¹ï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200329114926.png" alt=""></p>
<p>ç„¶åè·å–ä»£ç ï¼ŒæŠŠå®ƒæ’å…¥åˆ°<code>&lt;/head&gt;</code>æ ‡ç­¾å‰å³å¯ã€‚</p>
<p>å®˜æ–¹æâ™‚ç¤ºï¼š</p>
<ol>
<li>è¯·å°†ä»£ç æ·»åŠ åˆ°ç½‘ç«™å…¨éƒ¨é¡µé¢çš„</head>æ ‡ç­¾å‰ã€‚</li>
<li>å»ºè®®åœ¨header.htmç±»ä¼¼çš„é¡µå¤´æ¨¡æ¿é¡µé¢ä¸­å®‰è£…ï¼Œä»¥è¾¾åˆ°ä¸€å¤„å®‰è£…ï¼Œå…¨ç«™çš†æœ‰çš„æ•ˆæœã€‚</li>
<li>å¦‚éœ€åœ¨JSæ–‡ä»¶ä¸­è°ƒç”¨ç»Ÿè®¡åˆ†æä»£ç ï¼Œè¯·ç›´æ¥å»æ‰ä»¥ä¸‹ä»£ç é¦–å°¾çš„ï¼Œ<code>&lt;script type=&quot;text/javascript&quot;&gt;</code>ä¸<code>&lt;/script&gt;</code>åï¼Œæ”¾å…¥JSæ–‡ä»¶ä¸­å³å¯ã€‚</li>
</ol>
<p>å¦‚æœä»£ç å®‰è£…æ­£ç¡®ï¼Œä¸€èˆ¬20åˆ†é’Ÿåï¼Œå¯ä»¥æŸ¥çœ‹ç½‘ç«™åˆ†ææ•°æ®ã€‚</p>
<h4 id="è°·æ­Œç»Ÿè®¡">è°·æ­Œç»Ÿè®¡</h4>
<p>è°·æ­Œç»Ÿè®¡å®˜ç½‘ï¼š<a href="https://analytics.google.com">https://analytics.google.com</a></p>
<p>è¿˜æ˜¯ä¸€æ ·çš„æ–°å¢ç½‘ç«™æ’å…¥ä»£ç ğŸ˜‘å³å¯</p>
]]></description><category domain="https://raycoder.me/categories/%E5%8D%9A%E5%AE%A2/">åšå®¢</category><category domain="https://raycoder.me/categories/%E6%8A%98%E8%85%BE/">æŠ˜è…¾</category><category domain="https://raycoder.me/tags/%E5%8D%9A%E5%AE%A2/">åšå®¢</category><category domain="https://raycoder.me/tags/%E6%8A%98%E8%85%BE/">æŠ˜è…¾</category><category domain="https://raycoder.me/tags/github-pages/">GitHub Pages</category><category domain="https://raycoder.me/tags/hugo/">Hugo</category><category domain="https://raycoder.me/tags/netlify/">Netlify</category><category domain="https://raycoder.me/tags/cloudflare/">Cloudflare</category></item><item><title>Pythonä¸­çš„å­—ç¬¦ä¸²è½¬ä¹‰å­—ç¬¦</title><link>https://raycoder.me/p/python-special-characters/</link><guid isPermaLink="true">https://raycoder.me/p/python-special-characters/</guid><pubDate>Tue, 24 Mar 2020 12:02:40 +0800</pubDate><description><![CDATA[<p>ä»Šå¤©ä¸çŸ¥é“åƒå•¥ï¼Œå°±<del>åƒè€å…«ç§˜åˆ¶å°æ±‰å ¡</del>åº·Rayçš„Pythonå­—ç¬¦ä¸²ç‰¹æ®Šå­—ç¬¦è§£æ~~</p>
<table>
<thead>
<tr>
<th align="center">è½¬ä¹‰å­—ç¬¦</th>
<th align="center">æ„ä¹‰</th>
<th align="center">ASCIIç å€¼ï¼ˆåè¿›åˆ¶ï¼‰</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">\a</td>
<td align="center">å“é“ƒ(BEL)</td>
<td align="center">007</td>
</tr>
<tr>
<td align="center">\b</td>
<td align="center">é€€æ ¼(BS)ï¼Œå°†å½“å‰ä½ç½®ç§»åˆ°å‰ä¸€åˆ—</td>
<td align="center">008</td>
</tr>
<tr>
<td align="center">\f</td>
<td align="center">æ¢é¡µ(FF)ï¼Œå°†å½“å‰ä½ç½®ç§»åˆ°ä¸‹é¡µå¼€å¤´</td>
<td align="center">012</td>
</tr>
<tr>
<td align="center">\n</td>
<td align="center">æ¢è¡Œ(LF)ï¼Œå°†å½“å‰ä½ç½®ç§»åˆ°ä¸‹ä¸€è¡Œå¼€å¤´<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></td>
<td align="center">010</td>
</tr>
<tr>
<td align="center">\r</td>
<td align="center">å›è½¦(CR)ï¼Œå°†å½“å‰ä½ç½®ç§»åˆ°æœ¬è¡Œå¼€å¤´<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></td>
<td align="center">013</td>
</tr>
<tr>
<td align="center">\t</td>
<td align="center">æ°´å¹³åˆ¶è¡¨(HT) (è·³åˆ°ä¸‹ä¸€ä¸ªTABä½ç½®)</td>
<td align="center">009</td>
</tr>
<tr>
<td align="center">\v</td>
<td align="center">å‚ç›´åˆ¶è¡¨(VT)</td>
<td align="center">011</td>
</tr>
<tr>
<td align="center">\\</td>
<td align="center">ä»£è¡¨ä¸€ä¸ªåæ–œçº¿å­—ç¬¦&quot;\&quot;</td>
<td align="center">092</td>
</tr>
<tr>
<td align="center">\'</td>
<td align="center">ä»£è¡¨ä¸€ä¸ªå•å¼•å·(æ’‡å·)å­—ç¬¦</td>
<td align="center">039</td>
</tr>
<tr>
<td align="center">\&quot;</td>
<td align="center">ä»£è¡¨ä¸€ä¸ªåŒå¼•å·å­—ç¬¦</td>
<td align="center">034</td>
</tr>
<tr>
<td align="center">?</td>
<td align="center">ä»£è¡¨ä¸€ä¸ªé—®å·</td>
<td align="center">063</td>
</tr>
<tr>
<td align="center">\0</td>
<td align="center">ç©ºå­—ç¬¦(NUL)</td>
<td align="center">000</td>
</tr>
<tr>
<td align="center">\ddd</td>
<td align="center">1åˆ°3ä½å…«è¿›åˆ¶æ•°æ‰€ä»£è¡¨çš„ä»»æ„å­—ç¬¦</td>
<td align="center">ä¸‰ä½å…«è¿›åˆ¶</td>
</tr>
<tr>
<td align="center">\xhh</td>
<td align="center">åå…­è¿›åˆ¶æ‰€ä»£è¡¨çš„ä»»æ„å­—ç¬¦</td>
<td align="center">åå…­è¿›åˆ¶</td>
</tr>
</tbody>
</table>
<p>æ€»ä¹‹ï¼Œå‡¡æ˜¯å­—ç¬¦å‰å¸¦<code>\</code>çš„ï¼Œä¸€å¾‹è½¬ä¹‰ã€‚</p>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;1</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">2&#39;</span>)
<span style="color:#ae81ff">1</span>
<span style="color:#ae81ff">2</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;1</span><span style="color:#ae81ff">\r</span><span style="color:#e6db74">2&#39;</span>)
<span style="color:#ae81ff">1</span>
<span style="color:#ae81ff">2</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;1</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">2&#39;</span>)
<span style="color:#ae81ff">1</span>

<span style="color:#ae81ff">2</span>
</code></pre></div><p>æ³¨æ„çœ‹æˆªå›¾ï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200324143731.png" alt=""></p>
<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p><code>\n</code>æ˜¯åœ¨ä¸‹ä¸€è¡Œè¾“å…¥è¾“å‡ºï¼Œè¿è¡Œåæ¢åˆ°å½“å‰ä½ç½®çš„ä¸‹ä¸€è¡Œï¼Œè€Œä¸ä¼šå›åˆ°è¡Œé¦–ã€‚<code>\r</code>æ˜¯æ“¦é™¤æœ¬è¡Œå‰é¢çš„æ‰€æœ‰å†…å®¹ï¼Œå…‰æ ‡å›åˆ°æœ¬è¡Œç¬¬ä¸€å­—ç¬¦å¼€å§‹è¾“å‡ºï¼Œè¿è¡Œåå›åˆ°å½“å‰è¡Œçš„è¡Œé¦–ï¼Œè€Œä¸ä¼šæ¢åˆ°ä¸‹ä¸€è¡Œï¼Œå¦‚æœæ¥ç€è¾“å‡ºçš„è¯ï¼Œæœ¬è¡Œä»¥å‰çš„å†…å®¹ä¼šè¢«é€ä¸€è¦†ç›–ã€‚ <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>
]]></description><category domain="https://raycoder.me/categories/python/">Python</category><category domain="https://raycoder.me/tags/python/">Python</category></item><item><title>Hugo-MemE/Hexo(çœŸ)è‡ªåŠ¨æ¨é€éƒ¨ç½²è‡³Netlify</title><link>https://raycoder.me/p/deploy-your-hugo-and-hexo-blog-to-netlify/</link><guid isPermaLink="true">https://raycoder.me/p/deploy-your-hugo-and-hexo-blog-to-netlify/</guid><pubDate>Tue, 24 Mar 2020 08:52:21 +0800</pubDate><description><![CDATA[<h3 id="hugo">Hugo</h3>
<hr>
<p>æˆ‘ä¹‹å‰å†™äº†ä¸€ä¸ªè ¢è ¢çš„è„šæœ¬ï¼Œç”¨äºè‡ªåŠ¨æ¨é€ç”Ÿæˆå®Œçš„é™æ€ç½‘ç«™ï¼š</p>
<p><a href="https://raycoder.me/p/hugo-auto-deploy/">Hugo-Python(ä¼ª)è‡ªåŠ¨éƒ¨ç½²</a></p>
<p>è‡ªä»¥ä¸ºå¾ˆå¥½â€¦â€¦</p>
<p>ä¸è¿‡åœ¨çœ‹äº†<a href="https://io-oi.me/">reuixiyå¤§ä½¬çš„åšå®¢</a>åï¼Œæ‰å‘ç°ä»–æœ‰ä¸€ä¸ª<code>Edit Me</code>ï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200324085718.png" alt=""></p>
<p>ç‚¹å‡»åå‘ç°å¯ä»¥<code>Fork</code>è¿™ä¸ª<code>Markdown</code>æ–‡ä»¶æ¥ä¿®æ”¹ã€‚</p>
<p>ä¸è¿‡ä¿ºä»¬è¿™ä¸ªé™æ€ç½‘é¡µå¥½åƒå°±ä¸å¤ªè¡Œâ€¦â€¦è¿™ä¸ªè„šæœ¬<heimu>æœ‰æ¯›ç”¨ï¼ï¼ï¼ï¼</heimu></p>
<p>æœç„¶æ˜¯æˆ‘å¤ªå«©äº†</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200324085950.gif" alt=""></p>
<p>ç ”ç©¶äº†ä¸‹äººå®¶çš„<a href="https://github.com/reuixiy/io-oi.me">åšå®¢Repo</a></p>
<p>æ²¡é”™ä»–æ˜¯ç›´æ¥æ¨é€ä¸€ä¸ªæºä»£ç çš„ï¼</p>
<p>å’±ä»¬æ‰“å¼€<a href="https://github.com/reuixiy/io-oi.me/blob/master/netlify.toml">netlify.toml</a></p>
<p>è‡ªå·±ä¹Ÿæ–°å»ºä¸€ä¸ª<code>netlify.toml</code>(<code>~blog/netlify.toml</code>)</p>
<p>å¡«å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#a6e22e">build</span>]
  <span style="color:#a6e22e">publish</span> = <span style="color:#e6db74">&#34;public&#34;</span>
  <span style="color:#a6e22e">command</span> = <span style="color:#e6db74">&#34;npm run build&#34;</span>

[<span style="color:#a6e22e">build</span>.<span style="color:#a6e22e">environment</span>]
  <span style="color:#a6e22e">HUGO_VERSION</span> = <span style="color:#e6db74">&#34;YOUR_HUGO_VERSION&#34;</span>
  <span style="color:#a6e22e">HUGO_ENV</span> = <span style="color:#e6db74">&#34;production&#34;</span>
  <span style="color:#a6e22e">HUGO_ENABLEGITINFO</span> = <span style="color:#e6db74">&#34;true&#34;</span>
</code></pre></div><p>å¾ˆæ„‰å¿«çš„<code>push</code>~</p>
<p><code>push</code>æˆåŠŸå•¦ï¼</p>
<p><code>Netlify</code>å¤±è´¥äº†...</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">Executing user command: npm run build
npm
 ERR! code ENOENT
npm
 ERR! syscall open
npm ERR!
 path /opt/build/repo/package.json
npm ERR! errno -2
npm
 ERR! enoent ENOENT: no such file or directory, open &#39;/opt/build/repo/package.json&#39;
npm
ERR! enoent This is related to npm not being able to find a file.
npm ERR! enoent
npm ERR!
 A complete log of this run can be found in:
npm ERR!     /opt/buildhome/.npm/_logs/2020-03-23T23_50_59_667Z-debug.log
</code></pre></div><p>æ˜¯<code>build</code>å‡ºäº†é—®é¢˜ã€‚äºæ˜¯æˆ‘ä»¬ä¼¼ä¹éœ€è¦<code>npm init</code>ï¼Œå†å¯¹<code>package.json</code>è¿›è¡Œä¿®æ”¹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;blog&#34;</span>,
  <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;1.0.0&#34;</span>,
  <span style="color:#f92672">&#34;description&#34;</span>: <span style="color:#e6db74">&#34;Ray&#39;s Blog&#34;</span>,
  <span style="color:#f92672">&#34;main&#34;</span>: <span style="color:#e6db74">&#34;index.js&#34;</span>,
  <span style="color:#f92672">&#34;scripts&#34;</span>: {
    <span style="color:#f92672">&#34;test&#34;</span>: <span style="color:#e6db74">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span>,
    <span style="color:#f92672">&#34;build&#34;</span>: <span style="color:#e6db74">&#34;git config --global core.quotePath false &amp;&amp; hugo --gc --minify --cleanDestinationDir &amp;&amp; ./node_modules/gulp/bin/gulp.js build&#34;</span>,
  },
  <span style="color:#f92672">&#34;repository&#34;</span>: {
    <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;git&#34;</span>,
    <span style="color:#f92672">&#34;url&#34;</span>: <span style="color:#e6db74">&#34;git+https://github.com/FFRaycoder/blog.git&#34;</span>
  },
  <span style="color:#f92672">&#34;keywords&#34;</span>: [
    <span style="color:#e6db74">&#34;blog&#34;</span>,
    <span style="color:#e6db74">&#34;hugo&#34;</span>,
    <span style="color:#e6db74">&#34;hugo-theme-meme&#34;</span>
  ],
  <span style="color:#f92672">&#34;author&#34;</span>: <span style="color:#e6db74">&#34;FFRaycoder&#34;</span>,
  <span style="color:#f92672">&#34;license&#34;</span>: <span style="color:#e6db74">&#34;CC-BY-NC-SA-4.0&#34;</span>,
  <span style="color:#f92672">&#34;bugs&#34;</span>: {
    <span style="color:#f92672">&#34;url&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/FFRaycoder/blog/issues&#34;</span>
  },
  <span style="color:#f92672">&#34;homepage&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/FFRaycoder/blog&#34;</span>,
  <span style="color:#f92672">&#34;devDependencies&#34;</span>: {
    <span style="color:#f92672">&#34;gulp&#34;</span>: <span style="color:#e6db74">&#34;^4.0.2&#34;</span>,
    <span style="color:#f92672">&#34;gulp-uglify&#34;</span>: <span style="color:#e6db74">&#34;^3.0.2&#34;</span>,
    <span style="color:#f92672">&#34;readable-stream&#34;</span>: <span style="color:#e6db74">&#34;^3.6.0&#34;</span>,
    <span style="color:#f92672">&#34;uglify-es&#34;</span>: <span style="color:#e6db74">&#34;^3.3.9&#34;</span>,
    <span style="color:#f92672">&#34;workbox-build&#34;</span>: <span style="color:#e6db74">&#34;^5.0.0&#34;</span>
  }
}
</code></pre></div><p>å½“ç„¶ï¼Œ<code>./node_modules/gulp/bin/gulp.js build</code>æ˜¯å¯é€‰çš„ï¼šå› ä¸ºæˆ‘ä½¿ç”¨äº†<code>gulp</code>æ¥åˆ›å»º<code>sw.js</code>ã€‚</p>
<p>å…¶ä¸­çš„é…ç½®è¯·è‡ªå·±ä¿®æ”¹ã€‚</p>
<p>æ¯æ¬¡æ¨é€æ—¶Netlifyä¼š<em class="emphasis-point">è‡ªåŠ¨è¿è¡Œ</em><code>hugo</code>æŒ‡ä»¤ï¼Œå¹¶ä¸”éƒ¨ç½²è‡³ä»–ä»¬çš„<code>CDN</code>~</p>
<p>å¥½å“’æˆ‘ä»¬è¿™å°±æˆåŠŸäº†~æƒ³ä¿®æ”¹çš„äººå¯ä»¥ç›´æ¥ç‚¹å‡»ä¸‹é¢çš„<code>Edit Me</code>ï¼Œæä¸ªPRç»™æˆ‘ï¼</p>
<h3 id="hexo">Hexo</h3>
<hr>
<p>Hexoå€’è¦æ¯”Hugoç®€å•ï¼šHexoçš„<code>node_moudles</code>ä¼šåœ¨æ‰§è¡ŒHexoå‘½ä»¤æ—¶è‡ªåŠ¨è¿è¡Œã€‚å®ç°Hexoç”šè‡³ä¸éœ€è¦ä¿®æ”¹<code>~blog/packages.json</code>ã€‚</p>
<p>ä¿®æ”¹ä½ çš„<code>Deploy Settings</code>ï¼Œæ›´æ”¹æˆå¦‚å›¾ï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200325075659.png" alt=""></p>
<p>åªéœ€ä½ æ¨é€åšå®¢æºç ï¼ŒNetlifyå°±ä¼š<em class="emphasis-point">è‡ªåŠ¨å¸®ä½ éƒ¨ç½²åšå®¢</em>ï¼ï¼ï¼å¤ªè´´å¿ƒäº†å§~</p>
<p>è¿™æ ·çš„å¥½å¤„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“<code>hexo g</code>ç”Ÿæˆæ–‡ä»¶å¾ˆæ…¢ï¼Œ<code>hexo d</code>æ¯”ä½ è‡ªå·±æ¨é€éƒ½æ…¢ğŸ™ƒè²Œä¼¼æ˜¯å› ä¸ºhexoè¦æ¨é€å…¨éƒ¨çš„é™æ€æ–‡ä»¶ã€‚ä½¿ç”¨Netlifyè‡ªåŠ¨éƒ¨ç½²åï¼Œä½ åªéœ€è¦æ¨é€ä¸€ç¯‡æ–°çš„åšæ–‡ï¼Œä½ çš„ç½‘ç«™å°±è‡ªåŠ¨å¸®ä½ éƒ¨ç½²å¥½å•¦~~~</p>
<style type="text/css">.notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:#444;background:#e7f2fa}.notice p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0 0;font-weight:700;color:#fff;background:#6ab0de}.notice-title:before{margin-right:8px;font-family:"Font Awesome 5 Free",FontAwesome;font-weight:400}.notice.warning .notice-title{background:rgba(217,83,79,.9)}.notice.warning .notice-title:before{content:'\f071'}.notice.warning{background:#fae2e2}.notice.info .notice-title{background:#f0b37e}.notice.info .notice-title:before{content:'\f05a'}.notice.info{background:#fff2db}.notice.note .notice-title{background:#6ab0de}.notice.note .notice-title:before{content:'\f06a'}.notice.note{background:#e7f2fA}.notice.tip .notice-title{background:rgba(92,184,92,.8)}.notice.tip .notice-title:before{content:'\f058'}.notice.tip{background:#e6f9e6}</style><div class="notice success" >
<p class="first notice-title"></p><p>è¿˜æœ‰ä¸€ç‚¹ï¼šå¦‚æœä½ çš„ç½‘ç«™<code>hexo g</code>å‡ºç°äº†é”™è¯¯ï¼ŒNetlifyä¼šè‡ªåŠ¨å›æ»šåˆ°å‰ä¸€ä¸ªç‰ˆæœ¬ï¼Œä¿æŒä½ ç½‘ç«™çš„æ­£å¸¸è®¿é—®ï¼</p></div>

<p>èµ¶å¿«å…¥å‘~</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200325081213.gif" alt=""></p>
<hr>
<p>2020/4/8æ›´æ–°ï¼š</p>
<p>æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥ä½¿ç”¨<a href="https://forestry.io/">Forestry CMS</a>ï¼Œå¯ä»¥ç»™é™æ€åšå®¢åŠ ä¸Šä¸ªåå°ã€‚è‡ªå·±æ£é¼“ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/%E5%8D%9A%E5%AE%A2/">åšå®¢</category><category domain="https://raycoder.me/tags/hugo/">Hugo</category><category domain="https://raycoder.me/tags/git/">Git</category><category domain="https://raycoder.me/tags/netlify/">Netlify</category></item><item><title>æœ¬ç«™UVè¾¾åˆ°1000äººå•¦ï¼</title><link>https://raycoder.me/p/1000-uv/</link><guid isPermaLink="true">https://raycoder.me/p/1000-uv/</guid><pubDate>Sun, 22 Mar 2020 14:26:44 +0800</pubDate><description>&lt;center>&lt;font size=7>å¥½çš„å¼€ç«¯ï¼åº†ç¥ğŸ¤¤ğŸ¤¤ğŸ¤¤~æ’’èŠ±ğŸ‰ğŸ‰ğŸ‰~&lt;/font>&lt;/center></description><category domain="https://raycoder.me/categories/%E5%8D%9A%E5%AE%A2/">åšå®¢</category><category domain="https://raycoder.me/tags/%E5%8D%9A%E5%AE%A2/">åšå®¢</category></item><item><title>Hugo-HTMLç‰ˆGOTOé“¾æ¥ä¸­è½¬é¡µ</title><link>https://raycoder.me/p/goto-transfer-page/</link><guid isPermaLink="true">https://raycoder.me/p/goto-transfer-page/</guid><pubDate>Thu, 19 Mar 2020 15:13:31 +0800</pubDate><description><![CDATA[<p><a href="http://www.aeink.com/791.html">åŸä½œè€…</a>æ˜¯PHPç‰ˆæœ¬ï¼Œæˆ‘æŠŠå®ƒç§»æ¤åˆ°äº†HTMLä¸Šã€‚ä»£ç å¾ˆä¸‘ï¼Œå‹¿å–·ï¼ï¼ˆé€‚ç”¨äºHugoï¼‰</p>
<p>è‡ªå·±åœ¨<code>./blog/static/</code>ä¸‹æ–°å»º<code>goto/index.html</code>ï¼Œä»£ç å¦‚ä¸‹ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">html</span>&gt;
&lt;<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">http-equiv</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Content-Type&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/html; charset=UTF-8&#34;</span>&gt;
&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;viewport&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width=device-width&#34;</span>&gt;
&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;robots&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;noindex, nofollow&#34;</span> /&gt;
&lt;<span style="color:#f92672">noscript</span>&gt;&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">http-equiv</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;refresh&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;1;url=&#39;&#39;;&#34;</span>&gt;&lt;/<span style="color:#f92672">noscript</span>&gt;
&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span>&gt;
<span style="color:#75715e">&lt;!--[if IE 8]&gt;
</span><span style="color:#75715e">&lt;style&gt;
</span><span style="color:#75715e">.ie8 .alert-circle,.ie8 .alert-footer{display:none}.ie8 .alert-box{padding-top:75px}.ie8 .alert-sec-text{top:45px}
</span><span style="color:#75715e">&lt;/style&gt;
</span><span style="color:#75715e">&lt;![endif]--&gt;</span>

&lt;<span style="color:#f92672">script</span>&gt;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getQueryVariable</span>(<span style="color:#a6e22e">variable</span>){
       <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">query</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">location</span>.<span style="color:#a6e22e">search</span>.<span style="color:#a6e22e">substring</span>(<span style="color:#ae81ff">1</span>);
       <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">vars</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">query</span>.<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;&amp;&#34;</span>);
       <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#a6e22e">i</span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">vars</span>.<span style="color:#a6e22e">length</span>;<span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
           <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">pair</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">vars</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">split</span>(<span style="color:#e6db74">&#34;=&#34;</span>);
           <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">pair</span>[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> <span style="color:#a6e22e">variable</span>){<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">pair</span>[<span style="color:#ae81ff">1</span>];}
       }
       <span style="color:#66d9ef">return</span>(<span style="color:#66d9ef">null</span>);
}
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">title</span>&gt;&lt;/<span style="color:#f92672">title</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;
	<span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementsByTagName</span>(<span style="color:#e6db74">&#34;title&#34;</span>)[<span style="color:#ae81ff">0</span>];
	<span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">innerHTML</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;å¤–é“¾è·³è½¬ - &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">getQueryVariable</span>(<span style="color:#e6db74">&#34;url&#34;</span>);
&lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">style</span>&gt;
<span style="color:#f92672">body</span>{<span style="color:#66d9ef">margin</span>:<span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">padding</span>:<span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">background</span>:<span style="color:#ae81ff">#E6EAEB</span>;<span style="color:#66d9ef">font-family</span>:Arial,<span style="color:#e6db74">&#39;å¾®è½¯é›…é»‘&#39;</span>,<span style="color:#e6db74">&#39;å®‹ä½“&#39;</span>,<span style="color:#66d9ef">sans-serif</span>}.<span style="color:#a6e22e">main</span>{<span style="color:#66d9ef">position</span>:<span style="color:#66d9ef">absolute</span>;<span style="color:#66d9ef">left</span>:calc(<span style="color:#ae81ff">50</span><span style="color:#66d9ef">%</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">200</span><span style="color:#66d9ef">px</span>);<span style="color:#66d9ef">top</span>:calc(<span style="color:#ae81ff">50</span><span style="color:#66d9ef">%</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">13</span><span style="color:#66d9ef">em</span>)}.<span style="color:#a6e22e">alert-box</span>{<span style="color:#66d9ef">display</span>:<span style="color:#66d9ef">none</span>;<span style="color:#66d9ef">position</span>:<span style="color:#66d9ef">relative</span>;<span style="color:#66d9ef">margin</span>:<span style="color:#66d9ef">auto</span>;<span style="color:#66d9ef">padding</span>:<span style="color:#ae81ff">180</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">85</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">22</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">border-radius</span>:<span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>;<span style="color:#66d9ef">background</span>:<span style="color:#ae81ff">#FFF</span>;<span style="color:#66d9ef">box-shadow</span>:<span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">9</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">17</span><span style="color:#66d9ef">px</span> rgba(<span style="color:#ae81ff">102</span>,<span style="color:#ae81ff">102</span>,<span style="color:#ae81ff">102</span>,<span style="color:#ae81ff">.75</span>);<span style="color:#66d9ef">width</span>:<span style="color:#ae81ff">286</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">color</span>:<span style="color:#ae81ff">#FFF</span>;<span style="color:#66d9ef">text-align</span>:<span style="color:#66d9ef">center</span>}.<span style="color:#a6e22e">alert-box</span> <span style="color:#f92672">p</span>{<span style="color:#66d9ef">margin</span>:<span style="color:#ae81ff">0</span>}.<span style="color:#a6e22e">alert-circle</span>{<span style="color:#66d9ef">position</span>:<span style="color:#66d9ef">absolute</span>;<span style="color:#66d9ef">top</span>:<span style="color:#ae81ff">-50</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">left</span>:<span style="color:#ae81ff">111</span><span style="color:#66d9ef">px</span>}.<span style="color:#a6e22e">alert-sec-circle</span>{stroke-dashoffset:<span style="color:#ae81ff">0</span>;stroke-dasharray:<span style="color:#ae81ff">735</span>;<span style="color:#66d9ef">transition</span>:stroke-dashoffset <span style="color:#ae81ff">1</span><span style="color:#66d9ef">s</span> <span style="color:#66d9ef">linear</span>}.<span style="color:#a6e22e">alert-sec-text</span>{<span style="color:#66d9ef">position</span>:<span style="color:#66d9ef">absolute</span>;<span style="color:#66d9ef">top</span>:<span style="color:#ae81ff">11</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">left</span>:<span style="color:#ae81ff">190</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">width</span>:<span style="color:#ae81ff">76</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">color</span>:<span style="color:#ae81ff">#000</span>;<span style="color:#66d9ef">font-size</span>:<span style="color:#ae81ff">68</span><span style="color:#66d9ef">px</span>}.<span style="color:#a6e22e">alert-sec-unit</span>{<span style="color:#66d9ef">font-size</span>:<span style="color:#ae81ff">34</span><span style="color:#66d9ef">px</span>}.<span style="color:#a6e22e">alert-body</span>{<span style="color:#66d9ef">margin</span>:<span style="color:#ae81ff">35</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">0</span>}.<span style="color:#a6e22e">alert-head</span>{<span style="color:#66d9ef">color</span>:<span style="color:#ae81ff">#242424</span>;<span style="color:#66d9ef">font-size</span>:<span style="color:#ae81ff">28</span><span style="color:#66d9ef">px</span>}.<span style="color:#a6e22e">alert-concent</span>{<span style="color:#66d9ef">margin</span>:<span style="color:#ae81ff">25</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">14</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">color</span>:<span style="color:#ae81ff">#7B7B7B</span>;<span style="color:#66d9ef">font-size</span>:<span style="color:#ae81ff">18</span><span style="color:#66d9ef">px</span>}.<span style="color:#a6e22e">alert-concent</span> <span style="color:#f92672">p</span>{<span style="color:#66d9ef">line-height</span>:<span style="color:#ae81ff">27</span><span style="color:#66d9ef">px</span>}.<span style="color:#a6e22e">alert-btn</span>{<span style="color:#66d9ef">display</span>:<span style="color:#66d9ef">block</span>;<span style="color:#66d9ef">border-radius</span>:<span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">background-color</span>:<span style="color:#ae81ff">#4AB0F7</span>;<span style="color:#66d9ef">height</span>:<span style="color:#ae81ff">55</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">line-height</span>:<span style="color:#ae81ff">55</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">width</span>:<span style="color:#ae81ff">286</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">color</span>:<span style="color:#ae81ff">#FFF</span>;<span style="color:#66d9ef">font-size</span>:<span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">text-decoration</span>:<span style="color:#66d9ef">none</span>;<span style="color:#66d9ef">letter-spacing</span>:<span style="color:#ae81ff">2</span><span style="color:#66d9ef">px</span>}.<span style="color:#a6e22e">alert-btn</span>:<span style="color:#a6e22e">hover</span>{<span style="color:#66d9ef">background-color</span>:<span style="color:#ae81ff">#6BC2FF</span>}.<span style="color:#a6e22e">alert-footer</span>{<span style="color:#66d9ef">margin</span>:<span style="color:#ae81ff">0</span> <span style="color:#66d9ef">auto</span>;<span style="color:#66d9ef">height</span>:<span style="color:#ae81ff">42</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">width</span>:<span style="color:#ae81ff">120</span><span style="color:#66d9ef">px</span>}.<span style="color:#a6e22e">alert-footer-icon</span>{<span style="color:#66d9ef">float</span>:<span style="color:#66d9ef">left</span>}.<span style="color:#a6e22e">alert-footer-text</span>{<span style="color:#66d9ef">float</span>:<span style="color:#66d9ef">left</span>;<span style="color:#66d9ef">border-left</span>:<span style="color:#ae81ff">2</span><span style="color:#66d9ef">px</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#EEE</span>;<span style="color:#66d9ef">padding</span>:<span style="color:#ae81ff">3</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">5</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">height</span>:<span style="color:#ae81ff">40</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">color</span>:<span style="color:#ae81ff">#0B85CC</span>;<span style="color:#66d9ef">font-size</span>:<span style="color:#ae81ff">12</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">text-align</span>:<span style="color:#66d9ef">left</span>}.<span style="color:#a6e22e">alert-footer-text</span> <span style="color:#f92672">p</span>{<span style="color:#66d9ef">color</span>:<span style="color:#ae81ff">#7A7A7A</span>;<span style="color:#66d9ef">font-size</span>:<span style="color:#ae81ff">22</span><span style="color:#66d9ef">px</span>;<span style="color:#66d9ef">line-height</span>:<span style="color:#ae81ff">18</span><span style="color:#66d9ef">px</span>}
&lt;/<span style="color:#f92672">style</span>&gt;
&lt;/<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">body</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ie8&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>&gt;
&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;main&#34;</span>&gt;
	&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;js-alert-box&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alert-box&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;display:block&#34;</span>&gt;
		&lt;<span style="color:#f92672">svg</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alert-circle&#34;</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;234&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;234&#34;</span>&gt;&lt;<span style="color:#f92672">circle</span> <span style="color:#a6e22e">cx</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;117&#34;</span> <span style="color:#a6e22e">cy</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;117&#34;</span> <span style="color:#a6e22e">r</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;108&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#FFF&#34;</span> <span style="color:#a6e22e">stroke</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#43AEFA&#34;</span> <span style="color:#a6e22e">stroke-width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;17&#34;</span>&gt;&lt;/<span style="color:#f92672">circle</span>&gt;&lt;<span style="color:#f92672">circle</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;js-sec-circle&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alert-sec-circle&#34;</span> <span style="color:#a6e22e">cx</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;117&#34;</span> <span style="color:#a6e22e">cy</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;117&#34;</span> <span style="color:#a6e22e">r</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;108&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;transparent&#34;</span> <span style="color:#a6e22e">stroke</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#F4F1F1&#34;</span> <span style="color:#a6e22e">stroke-width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;18&#34;</span> <span style="color:#a6e22e">transform</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;rotate(-90 117 117)&#34;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stroke-dashoffset:-514px&#34;</span>&gt;&lt;/<span style="color:#f92672">circle</span>&gt;&lt;<span style="color:#f92672">text</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alert-sec-unit&#34;</span> <span style="color:#a6e22e">x</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;100&#34;</span> <span style="color:#a6e22e">y</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;172&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#BDBDBD&#34;</span>&gt;ç§’&lt;/<span style="color:#f92672">text</span>&gt;&lt;/<span style="color:#f92672">svg</span>&gt;
		&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;js-sec-text&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alert-sec-text&#34;</span>&gt;
			3
		&lt;/<span style="color:#f92672">div</span>&gt;
		&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alert-body&#34;</span>&gt;
			&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;js-alert-head&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alert-head&#34;</span>&gt;
				&lt;<span style="color:#f92672">script</span>&gt;<span style="color:#a6e22e">getQueryVariable</span>(<span style="color:#e6db74">&#34;url&#34;</span>);&lt;/<span style="color:#f92672">script</span>&gt;
			&lt;/<span style="color:#f92672">div</span>&gt;
			&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alert-concent&#34;</span>&gt;
				&lt;<span style="color:#f92672">p</span>&gt;
					Loading...
				&lt;/<span style="color:#f92672">p</span>&gt;
			&lt;/<span style="color:#f92672">div</span>&gt;
			&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;js-alert-btn&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alert-btn&#34;</span>&gt;ç«‹å³å‰å¾€&lt;/<span style="color:#f92672">a</span>&gt;
			&lt;<span style="color:#f92672">script</span>&gt;
				<span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;js-alert-btn&#34;</span>);
				<span style="color:#a6e22e">x</span>.<span style="color:#a6e22e">innerHTML</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&lt;a id=\&#34;js-alert-btn\&#34; class=\&#34;alert-btn\&#34; href=\&#34;&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">getQueryVariable</span>(<span style="color:#e6db74">&#34;url&#34;</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;\&#34;&gt;ç«‹å³å‰å¾€&lt;/a&gt;&#34;</span>;
			&lt;/<span style="color:#f92672">script</span>&gt;
		&lt;/<span style="color:#f92672">div</span>&gt;
		&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alert-footer clearfix&#34;</span>&gt;
			&lt;<span style="color:#f92672">svg</span> <span style="color:#a6e22e">width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;46px&#34;</span> <span style="color:#a6e22e">height</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;42px&#34;</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alert-footer-icon&#34;</span>&gt;&lt;<span style="color:#f92672">circle</span> <span style="color:#a6e22e">fill-rule</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;evenodd&#34;</span> <span style="color:#a6e22e">clip-rule</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;evenodd&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#7B7B7B&#34;</span> <span style="color:#a6e22e">stroke</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#DEDFE0&#34;</span> <span style="color:#a6e22e">stroke-width</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;2&#34;</span> <span style="color:#a6e22e">stroke-miterlimit</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10&#34;</span> <span style="color:#a6e22e">cx</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;21.917&#34;</span> <span style="color:#a6e22e">cy</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;21.25&#34;</span> <span style="color:#a6e22e">r</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;17&#34;</span>&gt;&lt;/<span style="color:#f92672">circle</span>&gt;&lt;<span style="color:#f92672">path</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#FFF&#34;</span> <span style="color:#a6e22e">d</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;M22.907,27.83h-1.98l0.3-2.92c-0.37-0.22-0.61-0.63-0.61-1.1c0-0.71,0.58-1.29,1.3-1.29s1.3,0.58,1.3,1.29 c0,0.47-0.24,0.88-0.61,1.1L22.907,27.83z M18.327,17.51c0-1.98,1.61-3.59,3.59-3.59s3.59,1.61,3.59,3.59v2.59h-7.18V17.51z M27.687,20.1v-2.59c0-3.18-2.59-5.76-5.77-5.76s-5.76,2.58-5.76,5.76v2.59h-1.24v10.65h14V20.1H27.687z&#34;</span>&gt;&lt;/<span style="color:#f92672">path</span>&gt;&lt;<span style="color:#f92672">circle</span> <span style="color:#a6e22e">fill-rule</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;evenodd&#34;</span> <span style="color:#a6e22e">clip-rule</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;evenodd&#34;</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#FEFEFE&#34;</span> <span style="color:#a6e22e">cx</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;35.417&#34;</span> <span style="color:#a6e22e">cy</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10.75&#34;</span> <span style="color:#a6e22e">r</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;6.5&#34;</span>&gt;&lt;/<span style="color:#f92672">circle</span>&gt;&lt;<span style="color:#f92672">polygon</span> <span style="color:#a6e22e">fill</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#7B7B7B&#34;</span> <span style="color:#a6e22e">stroke</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#7B7B7B&#34;</span> <span style="color:#a6e22e">stroke-linecap</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;round&#34;</span> <span style="color:#a6e22e">stroke-linejoin</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;round&#34;</span> <span style="color:#a6e22e">stroke-miterlimit</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10&#34;</span> <span style="color:#a6e22e">points</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;35.417,12.16 32.797,9.03 31.917,10.07 35.417,14.25 42.917,5.29 42.037,4.25 &#34;</span>&gt;&lt;/<span style="color:#f92672">polygon</span>&gt;&lt;/<span style="color:#f92672">svg</span>&gt;
			&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;alert-footer-text&#34;</span>&gt;
				&lt;<span style="color:#f92672">p</span>&gt;secure&lt;/<span style="color:#f92672">p</span>&gt;å®‰å…¨åŠ å¯†
			&lt;/<span style="color:#f92672">div</span>&gt;
		&lt;/<span style="color:#f92672">div</span>&gt;
	&lt;/<span style="color:#f92672">div</span>&gt;
&lt;/<span style="color:#f92672">div</span>&gt;
&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text/javascript&#34;</span>&gt;
<span style="color:#66d9ef">function</span> <span style="color:#a6e22e">alertSet</span>(<span style="color:#a6e22e">e</span>) {
	
	document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;js-alert-box&#34;</span>).<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">display</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;block&#34;</span>, document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;js-alert-head&#34;</span>).<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">e</span>;
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">t</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>,
		<span style="color:#a6e22e">n</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;js-sec-circle&#34;</span>);
	document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;js-sec-text&#34;</span>).<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">t</span>, <span style="color:#a6e22e">setInterval</span>(<span style="color:#66d9ef">function</span>() {
		<span style="color:#66d9ef">if</span> (<span style="color:#ae81ff">0</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">t</span>) <span style="color:#a6e22e">location</span>.<span style="color:#a6e22e">href</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">getQueryVariable</span>(<span style="color:#e6db74">&#34;url&#34;</span>);
		<span style="color:#66d9ef">else</span> {
			<span style="color:#a6e22e">t</span> <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>, document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;js-sec-text&#34;</span>).<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">t</span>;
			<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">e</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">round</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">5</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">735</span>);
			<span style="color:#a6e22e">n</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">strokeDashoffset</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">e</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">735</span>
		}
	}, <span style="color:#ae81ff">970</span>)
} &lt;/<span style="color:#f92672">script</span>&gt;
&lt;<span style="color:#f92672">script</span>&gt;<span style="color:#a6e22e">alertSet</span>(<span style="color:#a6e22e">getQueryVariable</span>(<span style="color:#e6db74">&#34;url&#34;</span>));&lt;/<span style="color:#f92672">script</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><p>ä½¿ç”¨çš„æ—¶å€™é“¾æ¥å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">https://raycoder.me/goto/?url=https://raycoder.me
</code></pre></div><p>è¿™é‡Œä»¥<code>MemE</code>ä¸»é¢˜ä¸ºä¾‹ï¼Œæ‰¹é‡æ›¿æ¢ç½‘é¡µä¸­éæœ¬ç«™<code>aæ ‡ç­¾</code>ã€‚æ‰“å¼€<code>./blog/themes/meme/layouts/partials/custom/content.html</code>ï¼Œå†™å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">{{- $host := &#34;&#34; -}}
{{- $redirect := &#34;/goto/&#34; -}}

{{- $Content := .Scratch.Get &#34;Content&#34; -}}
{{- $regex := printf `&lt;<span style="color:#f92672">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;(https?://%s[^&#34;</span><span style="color:#960050;background-color:#1e0010">]+)&#34;`</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">host</span> <span style="color:#a6e22e">-</span><span style="color:#960050;background-color:#1e0010">}}</span>
<span style="color:#960050;background-color:#1e0010">{{</span><span style="color:#a6e22e">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">replacement</span> <span style="color:#a6e22e">:</span><span style="color:#f92672">=</span> <span style="color:#e6db74">printf</span> <span style="color:#960050;background-color:#1e0010">`&lt;</span><span style="color:#a6e22e">a</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;%s?url=$1&#34;</span><span style="color:#960050;background-color:#1e0010">`</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">redirect</span> <span style="color:#a6e22e">-</span><span style="color:#960050;background-color:#1e0010">}}</span>
<span style="color:#960050;background-color:#1e0010">{{</span><span style="color:#a6e22e">-</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">Content</span> <span style="color:#a6e22e">:</span><span style="color:#f92672">=</span> <span style="color:#e6db74">$Content</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#a6e22e">replaceRE</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">regex</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">replacement</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#a6e22e">safeHTML</span> <span style="color:#a6e22e">-</span><span style="color:#960050;background-color:#1e0010">}}</span>
<span style="color:#960050;background-color:#1e0010">{{</span><span style="color:#a6e22e">-</span> <span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">Scratch</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">Set</span> <span style="color:#960050;background-color:#1e0010">&#34;</span><span style="color:#a6e22e">Content</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">Content</span> <span style="color:#a6e22e">-</span><span style="color:#960050;background-color:#1e0010">}}</span>
</code></pre></div><p>è¿™ä¸ªä»£ç æ˜¯è®©æ‰€æœ‰å¤–é“¾åœ¨è·³è½¬é¡µä¸­æ‰“å¼€ï¼Œå‡å¦‚ä½ åªæƒ³è®©ç‰¹å®šç½‘å€åœ¨è·³è½¬é¡µä¸­æ‰“å¼€ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨<code>{{- $host := &quot;&quot; -}}</code>ä¸­å¡«å…¥å†…å®¹ï¼Œå¦‚<code>{{- $host := &quot;example.com&quot; -}}</code>ã€‚</p>
<hr>
<p>å‚è€ƒèµ„æ–™ï¼š</p>
<ul>
<li>
<p><a href="https://github.com/reuixiy/hugo-theme-meme/issues/81">å¦‚ä½•è®©æ‰€æœ‰å¤–é“¾å…¨éƒ¨åœ¨ä¸€ä¸ªä¸­è½¬é¡µæ‰“å¼€ï¼Ÿ | Github Issue</a></p>
</li>
<li>
<p><a href="http://www.aeink.com/791.html">æœ¬ç«™è‡ªç”¨è·³è½¬é¡µé¢go.phpæºç  | AEåšå®¢</a></p>
</li>
</ul>
]]></description><category domain="https://raycoder.me/categories/html/">HTML</category><category domain="https://raycoder.me/tags/html/">HTML</category><category domain="https://raycoder.me/tags/%E4%B8%AD%E8%BD%AC/">ä¸­è½¬</category><category domain="https://raycoder.me/tags/js/">JS</category></item><item><title>DDOS-Guardå…è´¹CDN</title><link>https://raycoder.me/p/ddos-guard-free-cdn/</link><guid isPermaLink="true">https://raycoder.me/p/ddos-guard-free-cdn/</guid><pubDate>Thu, 19 Mar 2020 08:29:36 +0800</pubDate><description><![CDATA[<p>ç™½å«–ä¼ é€é—¨ï¼š<a href="https://ddos-guard.net/en/store/web">https://ddos-guard.net/en/store/web</a></p>
<p>ä¿ºä»¬ä½œä¸ºç™½å«–å…šé€‰ä»€ä¹ˆå²‚ä¸æ˜¯å¾ˆæ¸…æ¥š~</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200319083802.png" alt=""></p>
<p>ç„¶åå¡«å…¥ä½ çš„åŸŸåå’Œå›æºIPåœ°å€ï¼</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200319084702.png" alt=""></p>
<p>ç„¶åæŒ‰ç…§æµç¨‹æ³¨å†Œï¼</p>
<p>è¿‡ä¸€ä¼šå„¿å°±å¯ä»¥åœ¨<a href="https://my.ddos-guard.net/cabinet">æ§åˆ¶é¢æ¿</a>çœ‹åˆ°å•¦ï¼</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200319084942.png" alt=""></p>
<p>ç‚¹å‡»è¿›å»ï¼Œå°±å¯ä»¥çœ‹åˆ°å®ƒç»™æˆ‘ä»¬åˆ†é…çš„IPåœ°å€ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200319085045.png" alt=""></p>
<p>ä¸è¿‡é€Ÿåº¦çœŸçš„ä¸æ•¢æ­ç»´ï¼ï¼ˆå¯èƒ½æ˜¯æˆ‘ä¸ªäººåŸå› ï¼‰</p>
<p>å‚è€ƒèµ„æ–™ï¼š</p>
<ul>
<li><a href="https://cangshui.net/3346.html">ã€å…è´¹CDNã€‘ä¿„ç½—æ–¯DDOS-Guardæ”¯æŒsslé˜²å¾¡1.5T | æ²§æ°´åšå®¢</a></li>
</ul>
]]></description><category domain="https://raycoder.me/categories/cdn/">CDN</category><category domain="https://raycoder.me/categories/%E7%BD%91%E7%AB%99/">ç½‘ç«™</category><category domain="https://raycoder.me/tags/cdn/">CDN</category><category domain="https://raycoder.me/tags/%E7%99%BD%E5%AB%96/">ç™½å«–</category><category domain="https://raycoder.me/tags/%E7%A6%8F%E5%88%A9/">ç¦åˆ©</category></item><item><title>Backblazeå…è´¹å…å¤‡æ¡ˆå¯¹è±¡å­˜å‚¨</title><link>https://raycoder.me/p/backblaze-free-object-storage/</link><guid isPermaLink="true">https://raycoder.me/p/backblaze-free-object-storage/</guid><pubDate>Thu, 19 Mar 2020 08:08:54 +0800</pubDate><description><![CDATA[<h3 id="backblaze-b2å¯¹è±¡å­˜å‚¨ä¼ é€é—¨httpssecurebackblazecomb2_bucketshtm">backblaze B2å¯¹è±¡å­˜å‚¨ä¼ é€é—¨ï¼š<a href="https://secure.backblaze.com/b2_buckets.htm">https://secure.backblaze.com/b2_buckets.htm</a></h3>
<p>æ³¨å†Œä¸ªè´¦å·ï¼Œç™»å½•ï¼</p>
<p>Backblazeå‰10 GBçš„å­˜å‚¨ç©ºé—´æ˜¯å…è´¹çš„ï¼Œæ¯å¤©èƒ½ä¸‹è½½1Gä»¥å†…æ–‡ä»¶å…è´¹ï¼Œä¸Šä¼ å…è´¹ï¼Œå¹¶ä¸cloudflareåˆä½œï¼Œåªè¦å¥—ä¸ªcloudflareCDNå³å¯æ— é™å…è´¹ä¸‹è½½ã€‚</p>
<p>å› æ­¤æˆ‘ä»¬å¾—åˆ°å¦‚ä¸‹äº§å“ï¼š</p>
<blockquote>
<p>10Gå­˜å‚¨ç©ºé—´å…è´¹</p>
<p>ä¸Šè¡Œå…è´¹</p>
<p>ä¸‹è¡Œå…è´¹</p>
<p>å…¨çƒæœ€å¯é çš„äº‘å­˜å‚¨æœåŠ¡ä¹‹ä¸€</p>
<p>å…¨çƒæœ€å¼ºçš„CDNäº‘åˆ†å‘æœåŠ¡ä¹‹ä¸€</p>
</blockquote>
<p>æ–°å»ºä¸€ä¸ªæ¡¶ï¼Œéšä¾¿å–ä¸ªåã€‚æ³¨æ„è¦é€‰<code>Publicï¼ˆå…¬ä¼—ï¼‰</code>ï¼<del>è¿™LAGæœºå™¨ç¿»è¯‘</del></p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200319081732.png" alt=""></p>
<p>åˆ›å»ºå®Œä¹‹åï¼Œéšä¾¿ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200319082134.png" alt=""></p>
<p>ä¿ºä»¬å°±å‘ç°å®ƒç»™æˆ‘ä»¬åˆ†é…äº†ä¸€ä¸ª<code>https://f000.backblazeb2.com</code>çš„åŸŸåã€‚</p>
<p>æˆ‘ä»¬è‡ªå·±åœ¨<code>Cloudflare</code>æŒ‚ä¸€ä¸ªåŸŸåï¼Œä¸€å®šè¦å¼€å¯CDNï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200319082633.png" alt=""></p>
<p>å¦‚æœä½ è§‰å¾—åŸŸåå¤ªé•¿ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸ª<code>Page Rule</code>ï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200319082751.png" alt=""></p>
<p>ä¸è¿‡åªèƒ½<code>http</code>è·³<code>https</code>ï¼Œå¯æƒœäº†ã€‚</p>
<p>æˆ‘ç›®å‰ä»ç„¶ä½¿ç”¨<code>Gayhub</code>å›¾åºŠï¼Œæ”¾å¤§æ–‡ä»¶ä½¿ç”¨<code>B2</code>ã€‚</p>
<hr>
<p>2020/04/04æ›´æ–°ï¼š</p>
<p>å»ºè®®å‚è€ƒ<a href="/p/cf-worker-proxy/">ä¸‡èƒ½çš„CLOUDFLARE WORKERS+JSProxyä»£ç†ï¼Ÿï¼</a></p>
<p>å‚è€ƒèµ„æ–™ï¼š</p>
<ul>
<li><a href="https://cangshui.net/4221.html">å…è´¹å¯¹è±¡äº‘å­˜å‚¨Backblaze | æ²§æ°´åšå®¢</a></li>
</ul>
]]></description><category domain="https://raycoder.me/categories/%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8/">å¯¹è±¡å­˜å‚¨</category><category domain="https://raycoder.me/categories/%E7%BD%91%E7%AB%99/">ç½‘ç«™</category><category domain="https://raycoder.me/tags/backblaze/">Backblaze</category><category domain="https://raycoder.me/tags/%E5%AF%B9%E8%B1%A1%E5%AD%98%E5%82%A8/">å¯¹è±¡å­˜å‚¨</category><category domain="https://raycoder.me/tags/%E7%99%BD%E5%AB%96/">ç™½å«–</category><category domain="https://raycoder.me/tags/%E7%A6%8F%E5%88%A9/">ç¦åˆ©</category></item><item><title>Chromeå´©æºƒçš„ä¸€äº›è§£å†³åŠæ³•</title><link>https://raycoder.me/p/chrome-crashed/</link><guid isPermaLink="true">https://raycoder.me/p/chrome-crashed/</guid><pubDate>Wed, 18 Mar 2020 09:05:37 +0800</pubDate><description><![CDATA[<p>æœ€è¿‘å‡çº§äº†ç”µè„‘ç³»ç»Ÿï¼Œæ‰“å¼€Chromeå´©æºƒäº†ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200318090837.png" alt="å–”å”·ï¼Œå´©æºƒå•¦" title="å–”å”·ï¼Œå´©æºƒå•¦"></p>
<p>ç½‘ç»œä¸Šçš„ä¸€äº›è§£å†³æ–¹æ³•ï¼šåœ¨æ‰“å¼€çš„å¿«æ·æ–¹å¼åæ·»åŠ <code> --test-type --no-sandbox</code>ï¼Œç¦ç”¨æ²™ç›’ã€‚</p>
<p>è¿™æ ·åœ¨ä½ åŒå‡»å¿«æ·æ–¹å¼æ—¶æµè§ˆå™¨å¯ä»¥æ­£å¸¸æ‰“å¼€ï¼Œä½†æ˜¯å¦‚æœä½ åœ¨å¼€å§‹èœå•æ‰“å¼€ï¼Œè¿˜æ˜¯ä¸€æ ·ä¼šå´©æºƒğŸ™ƒã€‚</p>
<p>åœ¨æˆ‘è‡ªå·±çš„ç ”ç©¶ä¸­å‘ç°ï¼Œæ­£è§£å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">æ“ä½œç³»ç»Ÿåç§°	: Microsoft Windows 10 å®¶åº­ Insider Previewä¸­æ–‡ç‰ˆ
ç‰ˆæœ¬			: 10.0.19582 ç‰ˆæœ¬ 19582
Chromeç‰ˆæœ¬	: ç‰ˆæœ¬ 83.0.4087.0ï¼ˆæ­£å¼ç‰ˆæœ¬ï¼‰canary ï¼ˆ64 ä½ï¼‰
</code></pre></div><p>æ²¡é”™ï¼Œæˆ‘ä»¬åº”è¯¥æ›´æ–°åˆ°<code>Canary é‡‘ä¸é›€</code>ç‰ˆChromeğŸ˜ï¼</p>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.google.cn/intl/zh-CN/chrome/canary/">https://www.google.cn/intl/zh-CN/chrome/canary/</a> | <a href="https://www.google.com/intl/zh-CN/chrome/canary/">https://www.google.com/intl/zh-CN/chrome/canary/</a></p>
<p>ä¹Ÿå°±æ˜¯é¢„è§ˆç‰ˆï¼Œç»å¸¸ä¼šæ›´æ–°ï¼Œä¸è¿‡ç»ˆäºä¸ä¼šå´©æºƒäº†ï¼Œä¹Ÿå¯ä»¥æ­£å¸¸è®¿é—®<code>Ray's Blog</code>äº†ğŸ·</p>
]]></description><category domain="https://raycoder.me/categories/chrome/">Chrome</category><category domain="https://raycoder.me/tags/chrome/">Chrome</category></item><item><title>Pythonå­¦ä¹ ç¬”è®°ä¹‹assertå…³é”®å­—ç®€æ</title><link>https://raycoder.me/p/python-assert/</link><guid isPermaLink="true">https://raycoder.me/p/python-assert/</guid><pubDate>Wed, 18 Mar 2020 08:22:33 +0800</pubDate><description><![CDATA[<p>ä»€ä¹ˆæ˜¯<code>assert</code>ï¼Ÿå®ƒçš„ä¸­æ–‡åå«åš<code>æ–­è¨€</code>ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">age <span style="color:#f92672">=</span> int(input())
<span style="color:#66d9ef">if</span> age<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">18</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;You can watch it!&#39;</span>)
<span style="color:#66d9ef">else</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;You are too young!&#39;</span>)
</code></pre></div><p>è¿™ä¸ªä¾‹å­è¿›è¡Œäº†ä¸€ä¸‹<yellow><del>18G</del></yellow>æ“ä½œï¼Œæ²¡æœ‰è¾¾åˆ°18å²çš„äººä¼šè¢«<del>æ‹’ä¹‹é—¨å¤–</del>å‹å–„çš„æç¤ºã€‚</p>
<p>ä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>assert</code>å…³é”®å­—æ¥å®ç°åŒç­‰çš„æ“ä½œã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> age <span style="color:#f92672">=</span> int(input())
<span style="color:#ae81ff">17</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">assert</span> age <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">18</span>
Traceback (most recent call last):
  File <span style="color:#e6db74">&#34;&lt;pyshell#3&gt;&#34;</span>, line <span style="color:#ae81ff">1</span>, <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>module<span style="color:#f92672">&gt;</span>
    <span style="color:#66d9ef">assert</span> age <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">18</span>
<span style="color:#a6e22e">AssertionError</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">age <span style="color:#f92672">=</span> int(input())
<span style="color:#66d9ef">try</span>:
    <span style="color:#66d9ef">assert</span> age <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">18</span>
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;You can watch it!&#39;</span>)
<span style="color:#66d9ef">except</span> <span style="color:#a6e22e">AssertionError</span>:
    <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#39;You are too young!&#39;</span>)
</code></pre></div><p>è¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œ<code>assert</code>è¿˜å¯ä»¥è¿›è¡Œæ›´å¤æ‚çš„æ“ä½œã€‚</p>
<p>å¼•ç”¨ä¸€æ®µ<a href="https://www.runoob.com/python3/python3-assert.html">èœé¸Ÿæ•™ç¨‹</a>ã€‚</p>
<p><code>assert</code>çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">assert</span> expression
</code></pre></div><p>ç­‰ä»·äºï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> expression:
    <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">AssertionError</span>
</code></pre></div><p><code>assert</code>åé¢ä¹Ÿå¯ä»¥ç´§è·Ÿå‚æ•°:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">assert</span> expression [, arguments]
</code></pre></div><p>ç­‰ä»·äºï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> expression:
    <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">AssertionError</span>(arguments)
</code></pre></div><p>å¦‚ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">assert</span> True     <span style="color:#75715e"># æ¡ä»¶ä¸º true æ­£å¸¸æ‰§è¡Œ</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">assert</span> False    <span style="color:#75715e"># æ¡ä»¶ä¸º false è§¦å‘å¼‚å¸¸</span>
Traceback (most recent call last):
  File <span style="color:#e6db74">&#34;&lt;stdin&gt;&#34;</span>, line <span style="color:#ae81ff">1</span>, <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>module<span style="color:#f92672">&gt;</span>
<span style="color:#a6e22e">AssertionError</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">assert</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>    <span style="color:#75715e"># æ¡ä»¶ä¸º true æ­£å¸¸æ‰§è¡Œ</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">assert</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>    <span style="color:#75715e"># æ¡ä»¶ä¸º false è§¦å‘å¼‚å¸¸</span>
Traceback (most recent call last):
  File <span style="color:#e6db74">&#34;&lt;stdin&gt;&#34;</span>, line <span style="color:#ae81ff">1</span>, <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>module<span style="color:#f92672">&gt;</span>
<span style="color:#a6e22e">AssertionError</span>

<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">assert</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;1 ä¸ç­‰äº 2&#39;</span>
Traceback (most recent call last):
  File <span style="color:#e6db74">&#34;&lt;stdin&gt;&#34;</span>, line <span style="color:#ae81ff">1</span>, <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>module<span style="color:#f92672">&gt;</span>
<span style="color:#a6e22e">AssertionError</span>: <span style="color:#ae81ff">1</span> <span style="color:#960050;background-color:#1e0010">ä¸ç­‰äº</span> <span style="color:#ae81ff">2</span>
<span style="color:#f92672">&gt;&gt;&gt;</span>
</code></pre></div><p>ä»¥ä¸‹å®ä¾‹åˆ¤æ–­å½“å‰ç³»ç»Ÿæ˜¯å¦ä¸º Linuxï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶åˆ™ç›´æ¥è§¦å‘å¼‚å¸¸ï¼Œä¸å¿…æ‰§è¡Œæ¥ä¸‹æ¥çš„ä»£ç ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> sys
<span style="color:#66d9ef">assert</span> (<span style="color:#e6db74">&#39;linux&#39;</span> <span style="color:#f92672">in</span> sys<span style="color:#f92672">.</span>platform), <span style="color:#e6db74">&#34;è¯¥ä»£ç åªèƒ½åœ¨ Linux ä¸‹æ‰§è¡Œ&#34;</span>

<span style="color:#75715e"># æ¥ä¸‹æ¥è¦æ‰§è¡Œçš„ä»£ç </span>
</code></pre></div><p>å¯ä»¥å¤§å¤§ä¼˜åŒ–æˆ‘ä»¬çš„ä»£ç ï¼Œä¹Ÿå¯ä»¥å‡å°‘<code>if</code>ã€<code>elif</code>ã€<code>else</code>çš„ä½¿ç”¨ã€‚</p>
<p>è¿™ä¸ªå…³é”®å­—ä¹Ÿå¯ä»¥ä½œæ ¡éªŒç”¨ï¼Œæ¯”å¦‚æˆ‘ä»¬ä»ç½‘é¡µä¸Šä¸‹è½½äº†ä¸€ä¸ªä»£ç ï¼Œå¯ä»¥ç”¨<code>assert</code>æ¥æ–­è¨€æœ¬åœ°ä»£ç ä¸ç½‘é¡µä»£ç ç›¸åŒï¼Œå¦åˆ™æŠ¥é”™ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/python/">Python</category><category domain="https://raycoder.me/categories/python%E5%85%B3%E9%94%AE%E5%AD%97/">Pythonå…³é”®å­—</category><category domain="https://raycoder.me/categories/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Pythonå­¦ä¹ ç¬”è®°</category><category domain="https://raycoder.me/tags/python/">Python</category><category domain="https://raycoder.me/tags/%E5%85%B3%E9%94%AE%E5%AD%97/">å…³é”®å­—</category><category domain="https://raycoder.me/tags/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Pythonå­¦ä¹ ç¬”è®°</category></item><item><title>æˆ‘ä»¬å›½äº§è¯­è¨€æœ¨å…°</title><link>https://raycoder.me/p/ulang/</link><guid isPermaLink="true">https://raycoder.me/p/ulang/</guid><pubDate>Mon, 16 Mar 2020 16:24:19 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>â€¦â€¦å‡ºé—¨çœ‹ç«ä¼´ï¼Œç«ä¼´çš†æƒŠå¿™ï¼šåŒè¡ŒåäºŒå¹´ï¼Œä¸çŸ¥æœ¨å…°æ˜¯ç´ è´ã€‚</strong></p>
</blockquote>
<p>æ²¡é”™ï¼Œæˆ‘ä»¬å›½äº§è¯­è¨€æœ¨å…°<del>ä¸Šçº¿</del>å‘å¸ƒäº†ï¼ŒçœŸå¥½ï¼</p>
<p>ä½ çœ‹è¿™å®Œç¾çš„å›¾æ ‡ï¼</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200316162738.png" alt=""></p>
<p>å†çœ‹è¿™ç¾å¦™çš„æ‰‹æ„Ÿï¼</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200316163330.png" /></p>
<p>æˆ‘å‡†å¤‡ä¸ºä¹‹æƒŠå‘¼ï¼</p>
<p>ç­‰ä¸‹ï¼Œè¿™ä¸ªå›¾æ ‡â€¦â€¦</p>
<p>è¿™ä¸æ˜¯<code>Pyinstaller</code>æ‰“åŒ…å®Œçš„å›¾æ ‡å—ï¼Ÿï¼</p>
<img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200316163651.jpeg" style="width: 35%;height: 35%;"/>
<p>æˆ‘ä»¬æå‡º<code>PyInstaller Extractor</code>ï¼ˆ<a href="https://github.com/NeoTim/PyInstallerExtractor">https://github.com/NeoTim/PyInstallerExtractor</a>ï¼Œ<a href="https://sourceforge.net/projects/pyinstallerextractor/">https://sourceforge.net/projects/pyinstallerextractor/</a>ï¼‰ã€‚</p>
<p>è¿›è¡Œè§£åŒ…â€¦â€¦</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ python pyinstxtractor.py ulang-0.2.2.exe
</code></pre></div><p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200316164435.png" alt=""></p>
<p>ä¸æ„§æ˜¯æ•¢ç”¨<code>Pyinstaller</code>çš„è¯­è¨€</p>
<p>ä½ å¥½æ­¹ä¹ŸåŠ ä¸ªå›¾æ ‡å•Šï¼</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹<code>ulang.runtime.env</code>èŠ‚é€‰</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">return</span> {
    <span style="color:#e6db74">&#34;print&#34;</span>             : local_print,
    <span style="color:#e6db74">&#34;println&#34;</span>           : <span style="color:#66d9ef">lambda</span> <span style="color:#f92672">*</span>objs: local_print(<span style="color:#f92672">*</span>objs, <span style="color:#f92672">**</span>{<span style="color:#e6db74">&#34;end&#34;</span>:<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>}),
    <span style="color:#e6db74">&#34;assert&#34;</span>            : local_assert,
    <span style="color:#e6db74">&#34;len&#34;</span>               : len,
    <span style="color:#e6db74">&#34;enumerate&#34;</span>         : enumerate,
    <span style="color:#e6db74">&#34;all&#34;</span>               : all,
    <span style="color:#e6db74">&#34;any&#34;</span>               : any,
    <span style="color:#e6db74">&#34;range&#34;</span>             : range,
    <span style="color:#e6db74">&#34;round&#34;</span>             : round,
    <span style="color:#e6db74">&#34;input&#34;</span>             : input,
    <span style="color:#e6db74">&#34;reverse&#34;</span>           : reversed,
    <span style="color:#e6db74">&#34;super&#34;</span>             : super,
    <span style="color:#e6db74">&#34;locals&#34;</span>            : <span style="color:#66d9ef">lambda</span>: locals(),
    <span style="color:#e6db74">&#34;bool&#34;</span>              : bool,
    <span style="color:#e6db74">&#34;float&#34;</span>             : float,
    <span style="color:#e6db74">&#34;int&#34;</span>               : int,
    <span style="color:#e6db74">&#34;str&#34;</span>               : str,
    <span style="color:#e6db74">&#34;list&#34;</span>              : list,
    <span style="color:#e6db74">&#34;dict&#34;</span>              : dict,
    <span style="color:#e6db74">&#34;set&#34;</span>               : set,
    <span style="color:#e6db74">&#34;tuple&#34;</span>             : <span style="color:#66d9ef">lambda</span> <span style="color:#f92672">*</span>args: args,
    <span style="color:#e6db74">&#34;char&#34;</span>              : chr,
    <span style="color:#e6db74">&#34;ord&#34;</span>               : ord,
    <span style="color:#e6db74">&#34;bytes&#34;</span>             : <span style="color:#66d9ef">lambda</span> s, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ascii&#34;</span>:bytes(s, encoding),
    <span style="color:#e6db74">&#34;typeof&#34;</span>            : <span style="color:#66d9ef">lambda</span> x: x<span style="color:#f92672">.</span>__class__<span style="color:#f92672">.</span>__name__,
    <span style="color:#e6db74">&#34;isa&#34;</span>               : <span style="color:#66d9ef">lambda</span> x, t: isinstance(x, t),
    <span style="color:#e6db74">&#34;max&#34;</span>               : max,
    <span style="color:#e6db74">&#34;min&#34;</span>               : min,
    <span style="color:#e6db74">&#34;map&#34;</span>               : map,
    <span style="color:#e6db74">&#34;filter&#34;</span>            : filter,
    <span style="color:#e6db74">&#34;zip&#34;</span>               : zip,
    <span style="color:#e6db74">&#34;staticmethod&#34;</span>      : staticmethod,
    <span style="color:#e6db74">&#34;property&#34;</span>          : property,
    <span style="color:#e6db74">&#34;ceil&#34;</span>              : math<span style="color:#f92672">.</span>ceil,
    <span style="color:#e6db74">&#34;floor&#34;</span>             : math<span style="color:#f92672">.</span>floor,
    <span style="color:#e6db74">&#34;fabs&#34;</span>              : math<span style="color:#f92672">.</span>fabs,
    <span style="color:#e6db74">&#34;sqrt&#34;</span>              : math<span style="color:#f92672">.</span>sqrt,
    <span style="color:#e6db74">&#34;log&#34;</span>               : math<span style="color:#f92672">.</span>log,
    <span style="color:#e6db74">&#34;log10&#34;</span>             : math<span style="color:#f92672">.</span>log10,
    <span style="color:#e6db74">&#34;exp&#34;</span>               : math<span style="color:#f92672">.</span>exp,
    <span style="color:#e6db74">&#34;pow&#34;</span>               : math<span style="color:#f92672">.</span>pow,
    <span style="color:#e6db74">&#34;sin&#34;</span>               : math<span style="color:#f92672">.</span>sin,
    <span style="color:#e6db74">&#34;cos&#34;</span>               : math<span style="color:#f92672">.</span>cos,
    <span style="color:#e6db74">&#34;tan&#34;</span>               : math<span style="color:#f92672">.</span>tan,
    <span style="color:#e6db74">&#34;asin&#34;</span>              : math<span style="color:#f92672">.</span>asin,
    <span style="color:#e6db74">&#34;acos&#34;</span>              : math<span style="color:#f92672">.</span>acos,
    <span style="color:#e6db74">&#34;atan&#34;</span>              : math<span style="color:#f92672">.</span>atan,
    <span style="color:#e6db74">&#34;spawn&#34;</span>             : builtin_spawn,
    <span style="color:#e6db74">&#34;kill&#34;</span>              : builtin_kill,
    <span style="color:#e6db74">&#34;self&#34;</span>              : builtin_self,
    <span style="color:#e6db74">&#34;quit&#34;</span>              : sys<span style="color:#f92672">.</span>exit,
    <span style="color:#e6db74">&#34;open&#34;</span>              : open,
    <span style="color:#e6db74">&#34;install&#34;</span>           : pip_install,
    <span style="color:#e6db74">&#34;time&#34;</span>              : time<span style="color:#f92672">.</span>time,
    <span style="color:#e6db74">&#34;year&#34;</span>              : <span style="color:#66d9ef">lambda</span>: datetime<span style="color:#f92672">.</span>now()<span style="color:#f92672">.</span>year,
    <span style="color:#e6db74">&#34;month&#34;</span>             : <span style="color:#66d9ef">lambda</span>: datetime<span style="color:#f92672">.</span>now()<span style="color:#f92672">.</span>month,
    <span style="color:#e6db74">&#34;day&#34;</span>               : <span style="color:#66d9ef">lambda</span>: datetime<span style="color:#f92672">.</span>now()<span style="color:#f92672">.</span>day,
    <span style="color:#e6db74">&#34;hour&#34;</span>              : <span style="color:#66d9ef">lambda</span>: datetime<span style="color:#f92672">.</span>now()<span style="color:#f92672">.</span>hour,
    <span style="color:#e6db74">&#34;minute&#34;</span>            : <span style="color:#66d9ef">lambda</span>: datetime<span style="color:#f92672">.</span>now()<span style="color:#f92672">.</span>minute,
    <span style="color:#e6db74">&#34;second&#34;</span>            : <span style="color:#66d9ef">lambda</span>: datetime<span style="color:#f92672">.</span>now()<span style="color:#f92672">.</span>second,
    <span style="color:#e6db74">&#34;microsecond&#34;</span>       : <span style="color:#66d9ef">lambda</span>: datetime<span style="color:#f92672">.</span>now()<span style="color:#f92672">.</span>microsecond,
    <span style="color:#e6db74">&#34;sleep&#34;</span>             : time<span style="color:#f92672">.</span>sleep,
    <span style="color:#e6db74">&#34;delay&#34;</span>             : <span style="color:#66d9ef">lambda</span> ms: time<span style="color:#f92672">.</span>sleep(ms <span style="color:#f92672">/</span> <span style="color:#ae81ff">1000</span>),
    <span style="color:#e6db74">&#34;delayMicroseconds&#34;</span> : <span style="color:#66d9ef">lambda</span> us: time<span style="color:#f92672">.</span>sleep(us <span style="color:#f92672">/</span> <span style="color:#ae81ff">1000000</span>),
    <span style="color:#e6db74">&#34;PI&#34;</span>                : math<span style="color:#f92672">.</span>pi,
    <span style="color:#e6db74">&#34;ARGV&#34;</span>              : argv,
    <span style="color:#e6db74">&#34;__builtins__&#34;</span>      : fix_builtins(
        {
            <span style="color:#e6db74">&#34;__import__&#34;</span>      : local_import,
            <span style="color:#e6db74">&#34;__build_class__&#34;</span> : __build_class__,
            <span style="color:#e6db74">&#34;__name__&#34;</span>        : <span style="color:#e6db74">&#34;__main__&#34;</span>,
            <span style="color:#e6db74">&#34;__file__&#34;</span>        : fname,
            <span style="color:#e6db74">&#34;__print__&#34;</span>       : eval_print,
            <span style="color:#e6db74">&#34;___&#34;</span>             : None,
            <span style="color:#e6db74">&#34;__div__&#34;</span>         : __builtin_div,
            <span style="color:#e6db74">&#34;__rem__&#34;</span>         : __builtin_rem,
        }
    ),
}
</code></pre></div><p>ä¸æ„§æ˜¯å›½äº§å¤§é¡¹ç›®</p>
<div class="mermaid">
graph TD;
    è·å–æŒ‡ä»¤-->æ›¿æ¢æˆPythonä»£ç ;
    æ›¿æ¢æˆPythonä»£ç -->exec;
</div>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a href="https://www.zhihu.com/question/366509495">https://www.zhihu.com/question/366509495</a></li>
<li><a href="https://www.zhihu.com/question/366698484">https://www.zhihu.com/question/366698484</a></li>
<li><a href="https://github.com/Myts2/ulang">https://github.com/Myts2/ulang</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/104488265">https://zhuanlan.zhihu.com/p/104488265</a></li>
<li><a href="https://github.com/loopyme/ulang-uncompile">https://github.com/loopyme/ulang-uncompile</a></li>
</ul>]]></description><category domain="https://raycoder.me/categories/%E5%90%90%E6%A7%BD/">åæ§½</category><category domain="https://raycoder.me/tags/ulang/">Ulang</category><category domain="https://raycoder.me/tags/%E7%B4%A0%E8%B4%9E/">ç´ è´</category></item><item><title>ç™½å«–Office365</title><link>https://raycoder.me/p/%E7%99%BD%E5%AB%96office365/</link><guid isPermaLink="true">https://raycoder.me/p/%E7%99%BD%E5%AB%96office365/</guid><pubDate>Mon, 16 Mar 2020 12:57:27 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>æœ€è¿‘ç³»ç»Ÿå‡çº§åˆ°1909, é€äº†æˆ‘ä¸€å¥—Office365. æˆ‘ä¹Ÿå¾ˆæ— å¥ˆå•Š, é€äº†è®©æˆ‘æ¿€æ´»ä¹Ÿæ˜¯å¤Ÿäº†...</strong></p>
<!-- more -->
</blockquote>
<p>ç”¨äº†å„ç§æ¿€æ´»è½¯ä»¶éƒ½æ— æ•ˆï¼Œæ¯”å¦‚<a href="https://otp.landian.vip">Office Tool Plus</a>. æ ¹æ®å›½å¤–æŸç½‘ç«™çš„èµ„æ–™ï¼Œç¼–å†™äº†ä¸€ä¸ªæ‰¹å¤„ç†æ–‡ä»¶ï¼Œå‘½åä¸º<code>Office365æ¿€æ´».bat</code>. ( å…¶å®å«ä»€ä¹ˆéƒ½å¯ä»¥ ) ä»£ç å¦‚ä¸‹:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">@echo off
title Activate Office <span style="color:#ae81ff">365</span> ProPlus <span style="color:#66d9ef">for</span> FREE - MSGuides.com&amp;cls&amp;echo <span style="color:#f92672">============================================================================</span>&amp;echo <span style="color:#75715e">#Project: Activating Microsoft software products for FREE without software&amp;echo ============================================================================&amp;echo.&amp;echo #Supported products: Office 365 ProPlus (x86-x64)&amp;echo.&amp;echo.&amp;(if exist &#34;%ProgramFiles%\Microsoft Office\Office16\ospp.vbs&#34; cd /d &#34;%ProgramFiles%\Microsoft Office\Office16&#34;)&amp;(if exist &#34;%ProgramFiles(x86)%\Microsoft Office\Office16\ospp.vbs&#34; cd /d &#34;%ProgramFiles(x86)%\Microsoft Office\Office16&#34;)&amp;(for /f %%x in (&#39;dir /b ..\root\Licenses16\proplusvl_kms*.xrm-ms&#39;) do cscript ospp.vbs /inslic:&#34;..\root\Licenses16\%%x&#34; &gt;nul)&amp;(for /f %%x in (&#39;dir /b ..\root\Licenses16\proplusvl_mak*.xrm-ms&#39;) do cscript ospp.vbs /inslic:&#34;..\root\Licenses16\%%x&#34; &gt;nul)&amp;echo.&amp;echo ============================================================================&amp;echo Activating your Office...&amp;cscript //nologo ospp.vbs /unpkey:WFG99 &gt;nul&amp;cscript //nologo ospp.vbs /unpkey:DRTFM &gt;nul&amp;cscript //nologo ospp.vbs /unpkey:BTDRB &gt;nul&amp;cscript //nologo ospp.vbs /inpkey:XQNVK-8JYDB-WJ9W3-YJ8YR-WFG99 &gt;nul&amp;set i=1</span>
:server
<span style="color:#66d9ef">if</span> %i%<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span> set KMS_Sev<span style="color:#f92672">=</span>kms7.MSGuides.com
<span style="color:#66d9ef">if</span> %i%<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span> set KMS_Sev<span style="color:#f92672">=</span>kms8.MSGuides.com
<span style="color:#66d9ef">if</span> %i%<span style="color:#f92672">==</span><span style="color:#ae81ff">3</span> set KMS_Sev<span style="color:#f92672">=</span>kms9.MSGuides.com
<span style="color:#66d9ef">if</span> %i%<span style="color:#f92672">==</span><span style="color:#ae81ff">4</span> goto notsupported
cscript //nologo ospp.vbs /sethst:%KMS_Sev% &gt;nul&amp;echo <span style="color:#f92672">============================================================================</span>&amp;echo.&amp;echo.
cscript //nologo ospp.vbs /act | find /i <span style="color:#e6db74">&#34;successful&#34;</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">(</span>echo.&amp;echo <span style="color:#f92672">============================================================================</span>&amp;echo.&amp;echo <span style="color:#75715e">#My official blog: MSGuides.com&amp;echo.&amp;echo #How it works: bit.ly/kms-server&amp;echo.&amp;echo #Please feel free to contact me at msguides.com@gmail.com if you have any questions or concerns.&amp;echo.&amp;echo #Please consider supporting this project: donate.msguides.com&amp;echo #Your support is helping me keep my servers running everyday!&amp;echo.&amp;echo ============================================================================&amp;choice /n /c YN /m &#34;Would you like to visit my blog [Y,N]?&#34; &amp; if errorlevel 2 exit) || (echo The connection to my KMS server failed! Trying to connect to another one... &amp; echo Please wait... &amp; echo. &amp; echo. &amp; set /a i+=1 &amp; goto server)</span>
explorer <span style="color:#e6db74">&#34;http://MSGuides.com&#34;</span>&amp;goto halt
:notsupported
echo.&amp;echo <span style="color:#f92672">============================================================================</span>&amp;echo Sorry! Your version is not supported.&amp;echo Please try installing the latest version here: bit.ly/odt2k16
:halt
pause
</code></pre></div><p>å³é”®ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ. å¦‚æœ‰ä»€ä¹ˆé—®é¢˜è¯·åœ¨è¯„è®ºåŒºåé¦ˆã€‚</p>
<p>å‚è€ƒèµ„æ–™ï¼š</p>
<ul>
<li><a href="https://kms.cangshui.net/">æ²§æ°´KMS</a></li>
</ul>
]]></description><category domain="https://raycoder.me/categories/%E6%89%B9%E5%A4%84%E7%90%86/">æ‰¹å¤„ç†</category><category domain="https://raycoder.me/tags/%E5%B7%A5%E5%85%B7/">å·¥å…·</category><category domain="https://raycoder.me/tags/%E7%A6%8F%E5%88%A9/">ç¦åˆ©</category><category domain="https://raycoder.me/tags/office/">Office</category><category domain="https://raycoder.me/tags/%E7%A0%B4%E8%A7%A3/">ç ´è§£</category></item><item><title>Hugo-Python(ä¼ª)è‡ªåŠ¨éƒ¨ç½²</title><link>https://raycoder.me/p/hugo-auto-deploy/</link><guid isPermaLink="true">https://raycoder.me/p/hugo-auto-deploy/</guid><pubDate>Mon, 16 Mar 2020 09:08:23 +0800</pubDate><description><![CDATA[<p>æœ€è¿‘æ— èŠå°±å†™äº†ä¸ª<code>Hugoè‡ªåŠ¨éƒ¨ç½²</code>çš„Pythonè„šæœ¬ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#!/usr/bin/env python</span>
<span style="color:#75715e"># coding:utf-8</span>

<span style="color:#f92672">from</span> os <span style="color:#f92672">import</span> system
<span style="color:#f92672">from</span> time <span style="color:#f92672">import</span> ctime

system(<span style="color:#e6db74">&#39;start cmd /K &#34;cd /d D:/workspace/hugoblog&amp;hugo&amp;cd public&amp;git add -A&amp;git commit -m </span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">Site updated: </span><span style="color:#e6db74">%s</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">&amp;git push -u origin master&#34;&#39;</span> <span style="color:#f92672">%</span> str(ctime()))
</code></pre></div><p>å‡çš„è‡ªåŠ¨ï¼Œå…¶å®å°±æ˜¯ä¸€æ¬¡æ€§æ‰§è¡Œæ‰€æœ‰éƒ¨ç½²å‘½ä»¤ã€‚</p>
<p>è‡ªåŠ¨éƒ¨ç½²è¯·å‚è€ƒ<a href="/p/deploy-your-hugo-and-hexo-blog-to-netlify">Hugo-MemE/Hexo(çœŸ)è‡ªåŠ¨æ¨é€éƒ¨ç½²è‡³Netlify</a></p>]]></description><category domain="https://raycoder.me/categories/python/">Python</category><category domain="https://raycoder.me/categories/hugo/">Hugo</category><category domain="https://raycoder.me/tags/hugo/">Hugo</category><category domain="https://raycoder.me/tags/python/">Python</category><category domain="https://raycoder.me/tags/git/">Git</category></item><item><title>ã€è½¬ã€‘é€‚åˆçˆ¬è™«ä½¿ç”¨çš„API</title><link>https://raycoder.me/p/spider-api/</link><guid isPermaLink="true">https://raycoder.me/p/spider-api/</guid><pubDate>Sun, 08 Mar 2020 17:04:23 +0800</pubDate><description><![CDATA[<h3 id="ä¸€ç½‘æ˜“äº‘éŸ³ä¹">ä¸€ã€ç½‘æ˜“äº‘éŸ³ä¹</h3>
<p>ã€è½¬ã€‘<a href="https://zhuanlan.zhihu.com/p/30246788">https://zhuanlan.zhihu.com/p/30246788</a>
è°ƒç”¨åœ°å€ï¼š<a href="https://api.imjad.cn/cloudmusic/">https://api.imjad.cn/cloudmusic/</a>
åœ¨ä»¥ä¸Šç½‘å€åç´§è·Ÿä¸¤ä¸ªå‚æ•°å®Œæˆå…·ä½“è¯·æ±‚ï¼š</p>
<ol>
<li>type ï¼ˆé»˜è®¤å€¼ä¸ºtype=songï¼‰</li>
<li>idï¼ˆæ­Œæ›²çš„idï¼‰
å…¶ä¸­typeçš„æ‰€æœ‰å¯å–çš„å€¼å¦‚ä¸‹ï¼š</li>
</ol>
<table>
<thead>
<tr>
<th align="center">type</th>
<th align="center">å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">song</td>
<td align="center">å•æ›²</td>
</tr>
<tr>
<td align="center">lyric</td>
<td align="center">æ­Œè¯</td>
</tr>
<tr>
<td align="center">comments</td>
<td align="center">è¯„è®º</td>
</tr>
<tr>
<td align="center">detail</td>
<td align="center">æ­Œæ›²è¯¦æƒ…</td>
</tr>
<tr>
<td align="center">artist</td>
<td align="center">æ­Œæ‰‹</td>
</tr>
<tr>
<td align="center">album</td>
<td align="center">ä¸“è¾‘</td>
</tr>
<tr>
<td align="center">playlist</td>
<td align="center">æ­Œå•</td>
</tr>
<tr>
<td align="center">mv</td>
<td align="center">MV</td>
</tr>
<tr>
<td align="center">djradio</td>
<td align="center">ä¸»æ’­ç”µå°</td>
</tr>
<tr>
<td align="center">dj</td>
<td align="center">ä¸»æ’­ç”µå°å•æ›²ID</td>
</tr>
<tr>
<td align="center">detail_dj</td>
<td align="center">ä¸»æ’­ç”µå°å•æ›²è¯¦æƒ…</td>
</tr>
<tr>
<td align="center">search</td>
<td align="center">æœç´¢</td>
</tr>
</tbody>
</table>
<ol>
<li>type=song
å½“type=songæ—¶ï¼Œè¿”å›æ­Œæ›²çš„ä¸‹è½½åœ°å€ä¿¡æ¯ï¼ˆå’Œå…¶ä»–ä¸æ˜¯ç‰¹åˆ«æœ‰ç”¨çš„ä¿¡æ¯ï¼‰.
æ‰€ä»¥å½“æˆ‘ä»¬çŸ¥é“ä¸€é¦–æ­Œçš„idåï¼Œå°±å¯ä»¥ç”¨type=songæ¥è·å–åˆ°è¿™é¦–æ­Œçš„ä¸‹è½½é“¾æ¥.
å®Œæ•´è¯·æ±‚ç¤ºä¾‹ï¼š
è¯·æ±‚idä¸º28012031çš„æ­Œæ›²ä¸‹è½½åœ°å€
<a href="https://api.imjad.cn/cloudmusic/?type=song&amp;id=28012031">https://api.imjad.cn/cloudmusic/?type=song&amp;id=28012031</a>
åº”å½“æŒ‡å‡ºï¼šæ­¤æ—¶è¿”å›çš„æ­Œæ›²æ¯”ç‰¹ç‡ä¸ºé»˜è®¤å€¼128000ï¼Œå¦‚æœä½ éœ€è¦éŸ³è´¨æ›´é«˜çš„èµ„æºï¼Œå¯ä»¥å†å°¾éƒ¨å†è·Ÿä¸Šå‚æ•°br,brçš„å–å€¼å†³å®šéŸ³è´¨ï¼Œå¤§æ¦‚æ˜¯è¿™æ ·ï¼š</li>
</ol>
<table>
<thead>
<tr>
<th align="center">å‚æ•°å</th>
<th align="center">å«ä¹‰</th>
<th align="center">é»˜è®¤</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">br</td>
<td align="center"><code>int</code>ï¼ŒæŒ‡å®šæ­Œæ›²ç ç‡ï¼Œå¯é€‰ï¼š64000ï¼Œ128000ï¼Œ198000ï¼Œ320000</td>
<td align="center">128000</td>
</tr>
</tbody>
</table>
<p>å®Œæ•´è¯·æ±‚ç¤ºä¾‹ï¼š
è¯·æ±‚idä¸º28012031çš„æ­Œæ›²ä¸‹è½½åœ°å€ï¼Œbrä¸º320000
<a href="https://api.imjad.cn/cloudmusic/?type=song&amp;id=28012031&amp;br=320000">https://api.imjad.cn/cloudmusic/?type=song&amp;id=28012031&amp;br=320000</a>
æˆ‘ä¸ç¡®å®šæ˜¯ä¸æ˜¯æ¯ä¸€é¦–æ­Œéƒ½æœ‰br=320000çš„ç‰ˆæœ¬å“¦...(ï¿£â–½ï¿£&quot;)</p>
<p>2.type=lyric
å½“æˆ‘ä»¬çŸ¥é“ä¸€é¦–æ­Œçš„idåï¼Œå°±å¯ä»¥ç”¨type=lyricæ¥è·å–åˆ°è¿™é¦–æ­Œçš„æ­Œè¯
å®Œæ•´è¯·æ±‚ç¤ºä¾‹ï¼š
è¯·æ±‚idä¸º28012031æ­Œæ›²çš„æ­Œè¯ä¿¡æ¯
<a href="https://api.imjad.cn/cloudmusic/?type=lyric&amp;id=28012031">https://api.imjad.cn/cloudmusic/?type=lyric&amp;id=28012031</a>
è¿”å›çš„æ­Œè¯ä¿¡æ¯ä¸­ä¼šå¸¦æœ‰æ—¶é—´è½´0.0</p>
<p>3.type=comments
å½“æˆ‘ä»¬çŸ¥é“ä¸€é¦–æ­Œçš„idåï¼Œå°±å¯ä»¥ç”¨type=commentsæ¥è·å–åˆ°è¿™é¦–æ­Œçš„è¯„è®ºä¿¡æ¯
å®Œæ•´è¯·æ±‚ç¤ºä¾‹ï¼š
è¯·æ±‚idä¸º28012031æ­Œæ›²çš„è¯„è®ºä¿¡æ¯
<a href="https://api.imjad.cn/cloudmusic/?type=comments&amp;id=28012031">https://api.imjad.cn/cloudmusic/?type=comments&amp;id=28012031</a>
è¿”å›çš„æ•°æ®ä¸­æœ‰ä¸€ä¸ªjsonæ•°ç»„ä¸“é—¨å­˜å‚¨çƒ­è¯„ï¼Œå¦ä¸€ä¸ªjsonæ•°ç»„ä¸“é—¨å­˜å‚¨æœ€æ–°è¯„è®ºã€‚
æ¯ä¸€æ¡è¯„è®ºä¸­åŒ…å«éå¸¸å¤šçš„é‡è¦ä¿¡æ¯ï¼Œä½ éœ€è¦ç”¨åˆ°çš„é‡Œé¢åŸºæœ¬ä¸Šéƒ½æœ‰ ãƒ»ã‰¨ãƒ»</p>
<p>4.type=detail
è¿”å›ä¸€äº›æ¯”è¾ƒåŸºæœ¬çš„ä¿¡æ¯ï¼Œæ­Œæ›²åæ­Œæ›²idï¼Œæ­Œæ‰‹åæ­Œæ‰‹idï¼Œä¸“è¾‘å°é¢å›¾ä¹‹ç±»çš„
å®Œæ•´è¯·æ±‚ç¤ºä¾‹ï¼š
è¯·æ±‚idä¸º28012031æ­Œæ›²çš„detailä¿¡æ¯
<a href="https://api.imjad.cn/cloudmusic/?type=detail&amp;id=28012031">https://api.imjad.cn/cloudmusic/?type=detail&amp;id=28012031</a>
ä½ è¯•è¯•æŠŠdetailåŠ ä¸ªs...å±…ç„¶ä¹Ÿæœ‰æ•°æ®è¿”å›...(Â´ãƒ»Ï‰ãƒ»`)</p>
<p>5.type=playlist
ï¼ˆplaylistå‰é¢çš„å‡ ä¸ªå€¼æˆ‘å°±ä¸å…·ä½“è¯´äº†ï¼Œæœ‰éœ€è¦çš„äººè‡ªå·±è¯•è¯•å°±è¡Œï¼‰
å½“æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªæ­Œå•çš„idåï¼Œå°±å¯ä»¥ç”¨type=playlistæ¥è·å–åˆ°è¿™ä¸ªæ­Œå•çš„ç›¸å…³ä¿¡æ¯ï¼Œä¾‹å¦‚åˆ›å»ºè€…çš„ä¿¡æ¯å•Šï¼Œå°é¢å›¾å•Šï¼Œæ­Œå•è¢«æ’­æ”¾çš„æ¬¡æ•°å•Š....å½“ç„¶è¿˜æœ‰æœ€é‡è¦çš„æ­Œå•å†…æ‰€æœ‰æ­Œæ›²çš„ç®€ç•¥ä¿¡æ¯ï¼ˆåŒ…å«æ­Œæ›²idç­‰ç­‰ï¼‰
å®Œæ•´è¯·æ±‚ç¤ºä¾‹ï¼š
è¯·æ±‚æ­Œå•idä¸º309390784çš„æ­Œå•ä¿¡æ¯
<a href="https://api.imjad.cn/cloudmusic/?type=playlist&amp;id=309390784">https://api.imjad.cn/cloudmusic/?type=playlist&amp;id=309390784</a>
å½“ç„¶ä½ ä¹Ÿå¯ä»¥æŠŠidæ”¹æˆä½ è‡ªå·±å–œæ¬¢çš„ä¸€ä¸ªæ­Œå•ï¼Œè‡³äºæ­Œå•idæ€ä¹ˆè·å–å˜›ï¼Œä½ åœ¨ç½‘æ˜“äº‘éŸ³ä¹çš„æ­Œå•ä¸ŠæŒ‰å³é”®ï¼Œå¤åˆ¶é“¾æ¥ï¼Œæ‹¿å»æµè§ˆå™¨é‡Œæ‰“å¼€ï¼Œåœ°å€æ é‡Œé¢å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ­Œå•çš„idâ”Œ( à² _à² )â”˜</p>
<p>6.type=search
è¿™ä¸ªæˆ‘æ„Ÿè§‰æŒºé‡è¦çš„ï¼Œä»”ç»†çœ‹å¥½äº†
å½“ä½ æŒ‡å®štype=searchæ—¶ï¼Œåé¢éœ€è¦ç´§è·Ÿå‚æ•°search_typeï¼Œç”¨æ¥ç¡®å®šä½ åˆ°åº•éœ€è¦æœä¸ªä»€ä¹ˆ
search_typeå¯ä»¥å–çš„å€¼å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="center">search_type</th>
<th align="center">å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">1</td>
<td align="center">å•æ›²</td>
</tr>
<tr>
<td align="center">10</td>
<td align="center">ä¸“è¾‘</td>
</tr>
<tr>
<td align="center">100</td>
<td align="center">æ­Œæ‰‹</td>
</tr>
<tr>
<td align="center">1000</td>
<td align="center">æ­Œå•</td>
</tr>
<tr>
<td align="center">1002</td>
<td align="center">ç”¨æˆ·</td>
</tr>
<tr>
<td align="center">1004</td>
<td align="center">mv</td>
</tr>
<tr>
<td align="center">1006</td>
<td align="center">æ­Œè¯</td>
</tr>
<tr>
<td align="center">1009</td>
<td align="center">ä¸»æ’­ç”µå°</td>
</tr>
</tbody>
</table>
<p>1.search_type=1
é»˜è®¤æƒ…å†µä¸‹search_typeçš„å€¼ä¸º1ï¼Œæœç´¢å•æ›²ã€‚åé¢ç´§è·Ÿs=xxxxxæ¥æŒ‡å®šæœç´¢çš„å…³é”®å­—
å®Œæ•´è¯·æ±‚ç¤ºä¾‹ï¼š
æœç´¢å•æ›²ï¼Œå…³é”®å­—ä¸ºcocoonï¼ˆæ­Œåï¼‰
<a href="https://api.imjad.cn/cloudmusic/?type=search&amp;search_type=1&amp;s=cocoon">https://api.imjad.cn/cloudmusic/?type=search&amp;search_type=1&amp;s=cocoon</a>
è¿”å›å¾ˆå¤šæ­Œåä¸ºcocoonçš„æ­Œæ›²ä¿¡æ¯ï¼Œå¤§æ¦‚è¿”å›å¤šå°‘é¦–æˆ‘ä¸çŸ¥é“ï¼Œä½ éœ€è¦çš„é‡Œé¢åº”è¯¥æœ‰..</p>
<p>2.search_type=1000
æœç´¢æ­Œå•ã€‚ç”¨æ­Œå•åç”¨ä½œå…³é”®å­—ï¼Œæ¥æœç´¢æ­Œå•è¿™æ ·çš„ç®€å•ä¸œè¥¿å°±ä¸è¯´äº†ï¼Œè¿™é‡Œæä¸€ä¸‹å¦å¤–ä¸€ç‚¹ï¼Œå‡ºäº†æ­Œå•åä¹‹å¤–ï¼Œä½ å¯ä»¥ç”¨ç”¨æˆ·åæ¥ä½œä¸ºå…³é”®å­—ï¼Œè¿™æ ·è¿”å›çš„æ˜¯è¯¥ç”¨æˆ·åˆ›å»ºçš„æ‰€æœ‰æ­Œå•
å®Œæ•´è¯·æ±‚ç¤ºä¾‹ï¼š
æœç´¢æ­Œå•ï¼Œç”¨æˆ·CeuiLiSAæ‰€åˆ›å»ºçš„æ‰€æœ‰æ­Œå•ï¼ˆæˆ‘è‡ªå·±çš„ç”¨æˆ·åï¼‰
<a href="https://api.imjad.cn/cloudmusic/?type=search&amp;search_type=1000&amp;s=CeuiLiSA">https://api.imjad.cn/cloudmusic/?type=search&amp;search_type=1000&amp;s=CeuiLiSA</a>
è¿”å›çš„æ˜¯æ­Œå•çš„ç®€ç•¥ä¿¡æ¯ï¼Œæ²¡æœ‰æ­Œå•å†…çš„å…·ä½“çš„æ­Œã€‚åªæœ‰idå•Šå°é¢å•Šä¹‹ç±»çš„å†…å®¹ï¼Œä½†æ˜¯ä½ åªè¦æœ‰äº†æ­Œå•idï¼Œé‚£å°±å¯ä»¥å–å¾—æ‰€æœ‰ä½ éœ€è¦çš„ä¿¡æ¯å•¦ã€‚ã€‚</p>
<p>3.search_type=1002
è¿™æ ·å°±å¯ä»¥æœç´¢åˆ°ç½‘æ˜“äº‘éŸ³ä¹çš„æŸä¸ªç”¨æˆ·ä¿¡æ¯äº†ã€‚è¿”å›çš„ç”¨æˆ·ä¿¡æ¯ä¸å¤šä¸å°‘ï¼Œåˆšå¥½å¯ä»¥ç”¨æ¥åšç”¨æˆ·ä¿¡æ¯å±•ç¤ºçš„é¡µé¢ã€‚
å®Œæ•´è¯·æ±‚ç¤ºä¾‹ï¼š
æœç´¢ç”¨æˆ·ï¼Œå…³é”®å­—ä¸ºCeuiLiSAã€‚
<a href="https://api.imjad.cn/cloudmusic/?type=search&amp;search_type=1002&amp;s=CeuiLiSA">https://api.imjad.cn/cloudmusic/?type=search&amp;search_type=1002&amp;s=CeuiLiSA</a></p>
]]></description><category domain="https://raycoder.me/tags/%E7%88%AC%E8%99%AB/">çˆ¬è™«</category><category domain="https://raycoder.me/tags/api/">Api</category></item><item><title>Pythonå­¦ä¹ ç¬”è®°ä¹‹exec()å‡½æ•°ç®€æ</title><link>https://raycoder.me/p/python-exec/</link><guid isPermaLink="true">https://raycoder.me/p/python-exec/</guid><pubDate>Fri, 06 Mar 2020 00:44:34 +0800</pubDate><description><![CDATA[<p><code>exec()</code>å‡½æ•°çš„ä½œç”¨ï¼šåŠ¨æ€æ‰§è¡Œpythonä»£ç ã€‚ä¹Ÿå°±æ˜¯è¯´<code>exec()</code>å¯ä»¥æ‰§è¡Œå¤æ‚çš„pythonä»£ç ï¼Œè€Œä¸åƒ<code>eval()</code>å‡½æ•°é‚£æ ·åªèƒ½è®¡ç®—ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ã€‚
ã€è½¬ã€‘<a href="https://www.jianshu.com/p/3cf0a649e7bc">https://www.jianshu.com/p/3cf0a649e7bc</a>
ä¸¾ä¸€ä¸ªç®€å•çš„å°ä¾‹å­ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">13</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">exec</span>(<span style="color:#e6db74">&#34;answer=i*j&#34;</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;Answer is </span><span style="color:#e6db74">%s</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">%</span>answer)
Answer <span style="color:#f92672">is</span> <span style="color:#ae81ff">156</span>
</code></pre></div><p>è¿™è¡¨æ˜ç¬¬ä¸‰å¥çš„exec()å‡½æ•°èƒ½å¤Ÿæ­£ç¡®åœ°æ‰§è¡ŒPythonä»£ç ï¼Œå¹¶ä¸”èƒ½å°†è®¡ç®—ç»“æœèµ‹äºˆanswerå˜é‡ï¼Œå°±åƒçœŸæ­£çš„Pythonä»£ç ä¸€æ ·ã€‚
é‚£ä¹ˆï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½è®©exec()å‡½æ•°æ‰§è¡Œä¸€ä¸ªå¤æ‚çš„Pythonä»£ç å‘¢ï¼ŸWhy not?è¯·çœ‹ä¸€ä¸‹ä¾‹å­ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> func <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;def fact(n):</span><span style="color:#ae81ff">\n\t</span><span style="color:#e6db74">return 1 if n==1 else n*fact(n-1)&#34;</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">exec</span>(func)
<span style="color:#f92672">&gt;&gt;&gt;</span> a <span style="color:#f92672">=</span> fact(<span style="color:#ae81ff">5</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(a)
<span style="color:#ae81ff">120</span>
</code></pre></div><p>å¯èƒ½æœ‰äº›è¯»è€…çº³äº†é—·äº†ï¼Œè¿™äº›ä»£ç ä¸æ˜¯ç›´æ¥èƒ½å¤Ÿåœ¨Pythonä¸­æ‰§è¡Œå—ï¼Œä¸ºä½•è¿˜è¦å¤šæ­¤ä¸€ä¸¾åœ°æŠŠå®ƒå†™æˆå­—ç¬¦ä¸²ï¼Œå¹¶ç”¨exec()æ‰§è¡Œå‘¢ï¼Ÿç¬”è€…çš„ç­”æ¡ˆæ˜¯ï¼Œåˆšæ‰çš„ä¾‹å­åªæ˜¯ä¸ºäº†æ¼”ç¤ºexec()å‡½æ•°çš„åŸºæœ¬ç”¨æ³•ï¼Œå®ƒçš„å¼ºå¤§ä¹‹å¤„è¿œä¸æ­¢äºæ­¤ã€‚
åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æœ‰äº›æ—¶å€™ä¼šå°†Pythonä»£ç å†™å…¥ä¸€äº›æ–‡ä»¶ä¸­ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä»¥ä¸‹çš„eg.txt,å®ƒå‚¨å­˜äº†æˆ‘ä»¬æƒ³è¦çš„Pythonä»£ç ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fact</span>(n):
        <span style="color:#66d9ef">if</span> n<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>:
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>
        <span style="color:#66d9ef">else</span>:
            <span style="color:#66d9ef">return</span> n<span style="color:#f92672">*</span>fact(n<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
    <span style="color:#f92672">...</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> t <span style="color:#f92672">=</span> fact(<span style="color:#ae81ff">6</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(t)
</code></pre></div><p>è¯·å†æ¬¡æ³¨æ„ï¼Œè¿™æ˜¯ä¸€ä¸ªtxtæ ¼å¼çš„Pythonä»£ç ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•è°ƒç”¨å®ƒå‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯exec()å‡½æ•°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;E://eg.txt&#39;</span>, <span style="color:#e6db74">&#39;r&#39;</span>) <span style="color:#66d9ef">as</span> f:
        s <span style="color:#f92672">=</span> f<span style="color:#f92672">.</span>read()
    <span style="color:#f92672">...</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">exec</span>(s)
<span style="color:#ae81ff">720</span>
</code></pre></div><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬å…ˆè¯»å–eg.txtæ–‡ä»¶çš„å†…å®¹ï¼Œå†è½¬äº¤exec()å‡½æ•°æ‰§è¡Œã€‚</p>
<p>æ˜¯ä¸æ˜¯æœ‰ç‚¹æ£’å‘¢ï¼Ÿé™¤äº†èƒ½æ‰§è¡Œstringå’Œcode objectå¤–ï¼Œè¿˜å¯ä»¥åœ¨exec()å‡½æ•°ä¸­åŠ å…¥å‚æ•°,å‚æ•°çš„ä¼ é€’å¯ä»¥å†™æˆå­—å…¸(dict)å½¢å¼ã€‚å…·ä½“çš„ä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒä¸‹é¢çš„ä¾‹å­ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> x <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> expr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">        z = 30
</span><span style="color:#e6db74">        sum = x + y + z
</span><span style="color:#e6db74">        print(sum)
</span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
    <span style="color:#f92672">...</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">func</span>():
        y <span style="color:#f92672">=</span> <span style="color:#ae81ff">20</span>
        <span style="color:#66d9ef">exec</span>(expr)
        <span style="color:#66d9ef">exec</span>(expr, {<span style="color:#e6db74">&#39;x&#39;</span>: <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;y&#39;</span>: <span style="color:#ae81ff">2</span>})
        <span style="color:#66d9ef">exec</span>(expr, {<span style="color:#e6db74">&#39;x&#39;</span>: <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;y&#39;</span>: <span style="color:#ae81ff">2</span>}, {<span style="color:#e6db74">&#39;y&#39;</span>: <span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;z&#39;</span>: <span style="color:#ae81ff">4</span>})
    <span style="color:#f92672">...</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> func()
<span style="color:#ae81ff">60</span>
<span style="color:#ae81ff">33</span>
<span style="color:#ae81ff">34</span>
</code></pre></div><p>åœ¨exprè¯­å¥ä¸­ï¼Œæœ‰ä¸‰ä¸ªå˜é‡x,y,z,å…¶ä¸­zå€¼å·²ç»™å®šï¼Œæˆ‘ä»¬å¯ä»¥åœ¨exec()å‡½æ•°å¤–æŒ‡å®šx,yçš„å€¼ï¼Œä¹Ÿå¯ä»¥åœ¨exec()å‡½æ•°ä¸­ä»¥å­—å…¸çš„å½¢å¼æŒ‡å®šx,yçš„å€¼ã€‚åœ¨æœ€åçš„è¯­å¥ä¸­ï¼Œæˆ‘ä»¬ç»™å‡ºäº†x,y,zçš„å€¼ï¼Œå¹¶ä¸”yå€¼é‡å¤ï¼Œexec()å‡½æ•°æ¥æ”¶åé¢ä¸€ä¸ªyå€¼ï¼Œä¸”zå€¼ä¼ é€’ä¸èµ·ä½œç”¨ï¼Œå› æ­¤è¾“å‡ºç»“æœä¸º34ã€‚</p>
<p><code>exec()</code>å‡½æ•°çš„æ ‡å‡†æ ¼å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">exec</span>(object[, globals[, locals]])
</code></pre></div><blockquote>
<p>è¿™ä¸ªå‡½æ•°æ”¯æŒåŠ¨æ€æ‰§è¡Œ Python ä»£ç ã€‚object å¿…é¡»æ˜¯å­—ç¬¦ä¸²æˆ–è€…ä»£ç å¯¹è±¡ã€‚å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆè¯¥å­—ç¬¦ä¸²å°†è¢«è§£æä¸ºä¸€ç³»åˆ— Python è¯­å¥å¹¶æ‰§è¡Œï¼ˆé™¤éå‘ç”Ÿè¯­æ³•é”™è¯¯ï¼‰ã€‚1 å¦‚æœæ˜¯ä»£ç å¯¹è±¡ï¼Œå®ƒå°†è¢«ç›´æ¥æ‰§è¡Œã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œè¢«æ‰§è¡Œçš„ä»£ç éƒ½éœ€è¦å’Œæ–‡ä»¶è¾“å…¥ä¸€æ ·æ˜¯æœ‰æ•ˆçš„ï¼ˆè§å‚è€ƒæ‰‹å†Œä¸­å…³äºæ–‡ä»¶è¾“å…¥çš„ç« èŠ‚ï¼‰ã€‚è¯·æ³¨æ„å³ä½¿åœ¨ä¼ é€’ç»™ exec() å‡½æ•°çš„ä»£ç çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œreturn å’Œ yield è¯­å¥ä¹Ÿä¸èƒ½åœ¨å‡½æ•°å®šä¹‰ä¹‹å¤–ä½¿ç”¨ã€‚è¯¥å‡½æ•°è¿”å›å€¼æ˜¯ None ã€‚</p>
</blockquote>
<p>execå’Œevaléƒ½å¯ä»¥æ‰§è¡Œsingle modeçš„ä»£ç ï¼›execåªæ˜¯è®¡ç®—è¡¨è¾¾å¼ï¼Œæœ¬èº«è¿”å›ä¸ºNoneï¼Œå› æ­¤ä½¿ç”¨execè®¡ç®—è¡¨è¾¾å¼è™½ç„¶å¯ä»¥è®¡ç®—å‡ºç»“æœï¼Œä½†æ˜¯è¿”å›å€¼ä¸ºNoneã€‚è€Œevalåªèƒ½æ‰§è¡Œå•ä¸ªçš„è¡¨è¾¾å¼ï¼Œè¿”å›è¡¨è¾¾å¼çš„ç»“æœã€‚</p>
]]></description><category domain="https://raycoder.me/categories/python/">Python</category><category domain="https://raycoder.me/categories/python%E5%85%B3%E9%94%AE%E5%AD%97/">Pythonå…³é”®å­—</category><category domain="https://raycoder.me/categories/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Pythonå­¦ä¹ ç¬”è®°</category><category domain="https://raycoder.me/tags/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/">å†…ç½®å‡½æ•°</category><category domain="https://raycoder.me/tags/python/">Python</category><category domain="https://raycoder.me/tags/python%E8%BF%9B%E9%98%B6/">Pythonè¿›é˜¶</category><category domain="https://raycoder.me/tags/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Pythonå­¦ä¹ ç¬”è®°</category></item><item><title>Pythonå­¦ä¹ ç¬”è®°ä¹‹eval()å‡½æ•°ç®€æ</title><link>https://raycoder.me/p/python-eval/</link><guid isPermaLink="true">https://raycoder.me/p/python-eval/</guid><pubDate>Thu, 05 Mar 2020 20:20:53 +0800</pubDate><description><![CDATA[<p>ä¸€ä¸ªæœ€åŸºæœ¬çš„<code>eval()</code>å‡½æ•°çš„æ ¼å¼åº”è¯¥å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> command <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;print(</span><span style="color:#ae81ff">\&#39;</span><span style="color:#e6db74">Hello world!</span><span style="color:#ae81ff">\&#39;</span><span style="color:#e6db74">)&#39;</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> eval(command)
Hello world<span style="color:#960050;background-color:#1e0010">!</span>
</code></pre></div><p>æ²¡é”™ï¼Œevalå‡½æ•°æ˜¯ä¸€ä¸ªå¯ä»¥è®©å­—ç¬¦ä¸²è½¬æ¢ä¸ºè¡¨è¾¾å¼çš„å†…ç½®å‡½æ•°ï¼ˆæ³¨æ„<code>eval()</code>ä¸æ”¯æŒä»»ä½•å½¢å¼çš„èµ‹å€¼æ“ä½œï¼Œè€Œä¸èƒ½æ˜¯å¤æ‚çš„ä»£ç é€»è¾‘ï¼‰ã€‚
<code>eval()</code>å‡½æ•°ä¸ä»…å¯ä»¥æ‰§è¡Œä»£ç ï¼Œè¿˜å¯ä»¥ä½œå¦‚ä¸‹æ“ä½œï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> eval(<span style="color:#e6db74">&#39;[1, 2, 3]&#39;</span>) <span style="color:#75715e">#å­—ç¬¦ä¸²è½¬åˆ—è¡¨</span>
[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
<span style="color:#f92672">&gt;&gt;&gt;</span> eval(<span style="color:#e6db74">&#39;(1, 2, 3)&#39;</span>) <span style="color:#75715e">#å­—ç¬¦ä¸²è½¬å…ƒç»„</span>
(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>)
<span style="color:#f92672">&gt;&gt;&gt;</span> eval(<span style="color:#e6db74">&#39;{&#34;one&#34;: 1, &#34;two&#34;: 2, &#34;three&#34;: 3}&#39;</span>) <span style="color:#75715e">#å­—ç¬¦ä¸²è½¬å­—å…¸</span>
{<span style="color:#e6db74">&#39;one&#39;</span>: <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;two&#39;</span>: <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;three&#39;</span>: <span style="color:#ae81ff">3</span>}
<span style="color:#f92672">&gt;&gt;&gt;</span> eval(<span style="color:#e6db74">&#39;0o187&#39;</span>)
<span style="color:#ae81ff">0</span>o187
</code></pre></div><p><code>eval()</code>å‡½æ•°çš„å®Œæ•´æ ¼å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">eval(expression[, globals[, locals]])
</code></pre></div><p><code>expression</code>: è¡¨è¾¾å¼ã€‚
<code>globals</code>:  å˜é‡ä½œç”¨åŸŸï¼Œå…¨å±€å‘½åç©ºé—´ï¼Œå¦‚æœè¢«æä¾›ï¼Œåˆ™å¿…é¡»æ˜¯ä¸€ä¸ªå­—å…¸å¯¹è±¡ã€‚
<code>locals</code>:  å˜é‡ä½œç”¨åŸŸï¼Œå±€éƒ¨å‘½åç©ºé—´ï¼Œå¦‚æœè¢«æä¾›ï¼Œå¯ä»¥æ˜¯ä»»ä½•æ˜ å°„å¯¹è±¡ã€‚</p>
<p>å½“åä¸¤ä¸ªå‚æ•°éƒ½ä¸ºç©ºæ—¶ï¼Œå¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯ä¸€ä¸ªstringç±»å‹çš„ç®—æœ¯è¡¨è¾¾å¼ï¼Œè®¡ç®—å‡ºç»“æœå³å¯ã€‚ç­‰ä»·äºeval(expression)ã€‚
å½“localså‚æ•°ä¸ºç©ºï¼Œglobalså‚æ•°ä¸ä¸ºç©ºæ—¶ï¼Œå…ˆæŸ¥æ‰¾globalså‚æ•°ä¸­æ˜¯å¦å­˜åœ¨å˜é‡ï¼Œå¹¶è®¡ç®—ã€‚
å½“ä¸¤ä¸ªå‚æ•°éƒ½ä¸ä¸ºç©ºæ—¶ï¼Œå…ˆæŸ¥æ‰¾localså‚æ•°ï¼Œå†æŸ¥æ‰¾globalså‚æ•°ã€‚
<del>æ— è‰¯</del>å¼•ç”¨ä¸€æ®µPythonå®˜æ–¹çš„æ–‡æ¡£ï¼š</p>
<blockquote>
<p>eval(expression[, globals[, locals]])
å®å‚æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»¥åŠå¯é€‰çš„ globals å’Œ localsã€‚globals å®å‚å¿…é¡»æ˜¯ä¸€ä¸ªå­—å…¸ã€‚locals å¯ä»¥æ˜¯ä»»ä½•æ˜ å°„å¯¹è±¡ã€‚
expression å‚æ•°ä¼šä½œä¸ºä¸€ä¸ª Python è¡¨è¾¾å¼ï¼ˆä»æŠ€æœ¯ä¸Šè¯´æ˜¯ä¸€ä¸ªæ¡ä»¶åˆ—è¡¨ï¼‰è¢«è§£æå¹¶æ±‚å€¼ï¼Œå¹¶ä½¿ç”¨globals å’Œ locals å­—å…¸ä½œä¸ºå…¨å±€å’Œå±€éƒ¨å‘½åç©ºé—´ã€‚ å¦‚æœ globals å­—å…¸å­˜åœ¨ä¸”ä¸åŒ…å«ä»¥ <code>__builtins__ </code>ä¸ºé”®çš„å€¼ï¼Œåˆ™ä¼šåœ¨è§£æ expression ä¹‹å‰æ’å…¥ä»¥æ­¤ä¸ºé”®çš„å¯¹å†…ç½®æ¨¡å— <a href="https://docs.python.org/zh-cn/3/library/builtins.html#module-builtins">builtins</a> çš„å¼•ç”¨ã€‚ è¿™æ„å‘³ç€ expression é€šå¸¸å…·æœ‰å¯¹æ ‡å‡† <a href="https://docs.python.org/zh-cn/3/library/builtins.html#module-builtins">builtins</a> æ¨¡å—çš„å®Œå…¨è®¿é—®æƒé™ä¸”å—é™çš„ç¯å¢ƒä¼šè¢«ä¼ æ’­ã€‚ å¦‚æœçœç•¥ locals å­—å…¸åˆ™å…¶é»˜è®¤å€¼ä¸º globals å­—å…¸ã€‚ å¦‚æœä¸¤ä¸ªå­—å…¸åŒæ—¶çœç•¥ï¼Œåˆ™è¡¨è¾¾å¼æ‰§è¡Œæ—¶ä¼šä½¿ç”¨ eval() è¢«è°ƒç”¨çš„ç¯å¢ƒä¸­çš„ globals å’Œ localsã€‚ è¯·æ³¨æ„ï¼Œeval() å¹¶æ²¡æœ‰å¯¹å¤–å›´ç¯å¢ƒä¸‹çš„ (éå±€éƒ¨)<a href="https://docs.python.org/zh-cn/3/glossary.html#term-nested-scope">åµŒå¥—ä½œç”¨åŸŸ</a> çš„è®¿é—®æƒé™ã€‚
è¿”å›å€¼å°±æ˜¯è¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœã€‚ è¯­æ³•é”™è¯¯å°†ä½œä¸ºå¼‚å¸¸è¢«æŠ¥å‘Šã€‚ ä¾‹å¦‚ï¼š
&gt;&gt;&gt; x = 1
&gt;&gt;&gt; eval('x+1')
2
è¿™ä¸ªå‡½æ•°ä¹Ÿå¯ä»¥ç”¨æ¥æ‰§è¡Œä»»ä½•ä»£ç å¯¹è±¡ï¼ˆå¦‚<a href="https://docs.python.org/zh-cn/3/library/functions.html#compile">compile()</a>åˆ›å»ºçš„ï¼‰ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå‚æ•°æ˜¯ä»£ç å¯¹è±¡ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ã€‚å¦‚æœç¼–è¯‘è¯¥å¯¹è±¡æ—¶çš„ mode å®å‚æ˜¯<code>'exec'</code> é‚£ä¹ˆ eval() è¿”å›å€¼ä¸º <code>None </code>
æç¤ºï¼š exec() å‡½æ•°æ”¯æŒåŠ¨æ€æ‰§è¡Œè¯­å¥ã€‚ <a href="https://docs.python.org/zh-cn/3/library/functions.html#globals">globals()</a> å’Œ <a href="https://docs.python.org/zh-cn/3/library/functions.html#locals">locals()</a> å‡½æ•°å„è‡ªè¿”å›å½“å‰çš„å…¨å±€å’Œæœ¬åœ°å­—å…¸ï¼Œå› æ­¤æ‚¨å¯ä»¥å°†å®ƒä»¬ä¼ é€’ç»™ eval() æˆ– <a href="https://docs.python.org/zh-cn/3/library/functions.html#exec">exec()</a> æ¥ä½¿ç”¨ã€‚</p>
</blockquote>
<hr>
<p>å®æˆ˜ï¼š</p>
<h3 id="ä¼ é€’å…¨å±€å˜é‡">ä¼ é€’å…¨å±€å˜é‡</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(eval(<span style="color:#e6db74">&#34;{&#39;name&#39;:&#39;linux&#39;,&#39;age&#39;:age}&#34;</span>,{<span style="color:#e6db74">&#34;age&#34;</span>:<span style="color:#ae81ff">1822</span>}))
{<span style="color:#e6db74">&#39;name&#39;</span>: <span style="color:#e6db74">&#39;linux&#39;</span>, <span style="color:#e6db74">&#39;age&#39;</span>: <span style="color:#ae81ff">1822</span>}
</code></pre></div><h3 id="ä¼ é€’æœ¬åœ°å˜é‡">ä¼ é€’æœ¬åœ°å˜é‡</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> age<span style="color:#f92672">=</span><span style="color:#ae81ff">18</span>
<span style="color:#f92672">&gt;&gt;&gt;</span> <span style="color:#66d9ef">print</span>(eval(<span style="color:#e6db74">&#34;{&#39;name&#39;:&#39;linux&#39;,&#39;age&#39;:age}&#34;</span>,{<span style="color:#e6db74">&#34;age&#34;</span>:<span style="color:#ae81ff">1822</span>},locals()))
{<span style="color:#e6db74">&#39;name&#39;</span>: <span style="color:#e6db74">&#39;linux&#39;</span>, <span style="color:#e6db74">&#39;age&#39;</span>: <span style="color:#ae81ff">18</span>}
</code></pre></div><h3 id="ä¼ é€’å‚æ•°å…¶å®å¯ä»¥å¦‚ä¸‹å®ç°ä¼ª">ä¼ é€’å‚æ•°å…¶å®å¯ä»¥å¦‚ä¸‹å®ç°ï¼ˆä¼ªï¼‰</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> eval(<span style="color:#e6db74">&#39;print&#39;</span>)(<span style="color:#e6db74">&#39;123&#39;</span>)
<span style="color:#ae81ff">123</span>
</code></pre></div><h3 id="ä¸å¯è¿›è¡Œä»»ä½•å½¢å¼çš„èµ‹å€¼">ä¸å¯è¿›è¡Œä»»ä½•å½¢å¼çš„èµ‹å€¼</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&gt;&gt;&gt;</span> eval(<span style="color:#e6db74">&#39;a=1&#39;</span>)
Traceback (most recent call last):
  File <span style="color:#e6db74">&#34;&lt;pyshell#0&gt;&#34;</span>, line <span style="color:#ae81ff">1</span>, <span style="color:#f92672">in</span> <span style="color:#f92672">&lt;</span>module<span style="color:#f92672">&gt;</span>
    eval(<span style="color:#e6db74">&#39;a=1&#39;</span>)
  File <span style="color:#e6db74">&#34;&lt;string&gt;&#34;</span>, line <span style="color:#ae81ff">1</span>
    a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
     <span style="color:#f92672">^</span>
<span style="color:#a6e22e">SyntaxError</span>: invalid syntax
</code></pre></div>]]></description><category domain="https://raycoder.me/categories/python/">Python</category><category domain="https://raycoder.me/categories/python%E5%85%B3%E9%94%AE%E5%AD%97/">Pythonå…³é”®å­—</category><category domain="https://raycoder.me/categories/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Pythonå­¦ä¹ ç¬”è®°</category><category domain="https://raycoder.me/tags/python/">Python</category><category domain="https://raycoder.me/tags/python%E8%BF%9B%E9%98%B6/">Pythonè¿›é˜¶</category><category domain="https://raycoder.me/tags/%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/">å†…ç½®å‡½æ•°</category><category domain="https://raycoder.me/tags/python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">Pythonå­¦ä¹ ç¬”è®°</category></item><item><title>ä»é›¶å¼€å§‹å†™ä¸€ä¸ªéŸ³ä¹çˆ¬è™«-4ï¼šQQéŸ³ä¹</title><link>https://raycoder.me/p/qqmusic-spider-artlist/</link><guid isPermaLink="true">https://raycoder.me/p/qqmusic-spider-artlist/</guid><pubDate>Thu, 05 Mar 2020 10:43:15 +0800</pubDate><description><![CDATA[<p>åˆ’äº†è¿™ä¹ˆå¤šå¤©æ°´ï¼Œæˆ‘ç»ˆäºå›æ¥äº†â€¦â€¦
<img src="https://raycoder.me/post-images/1583376357108.jpg" alt="">
æ¯•ç«Ÿåšä¸»ä¹Ÿæ˜¯è¦ä¸Šè¯¾çš„,QwQã€‚
æœ€è¿‘ç»ˆäºæŠ½å‡ºä¸€äº›æ—¶é—´äº†ï¼Œç ”ç©¶ç ”ç©¶QQéŸ³ä¹çš„çˆ¬è™«ã€‚
æˆ‘ä»¬éšä¾¿æ‰“å¼€ä¸€ä¸ªæ­Œå•(<a href="https://y.qq.com/n/yqq/playlist/6809716883.html">https://y.qq.com/n/yqq/playlist/6809716883.html</a>)ï¼Œç™»å½•è‡ªå·±çš„QQï¼š
<img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200316130255.png" alt="https://y.qq.com/n/yqq/playlist/6809716883.html" title="https://y.qq.com/n/yqq/playlist/6809716883.html">
ï¼ŸQQéŸ³ä¹ç«Ÿç„¶è¿˜å¯¹ç½‘é¡µç«¯åšé™åˆ¶ï¼<img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200316130506.png" alt="">
æ ¹æ®æˆ‘å¤šå¹´çš„å‰(æ‘¸)ç«¯(çˆ¬)å¼€(æ»š)å‘(æ‰“)ç»éªŒï¼Œè¿™ç§ç½‘ç«™ä¸€å®šæ˜¯é€šè¿‡<code>JS</code>åšé™åˆ¶ï¼Œå¹¶ä¸”åœ¨æµè§ˆå™¨çš„<code>Network</code>ä¸­ä¸€å®šä¼šæœ‰ç›¸å…³çš„æ•°æ®ã€‚
æˆ‘ä»¬å…ˆæ‰“å¼€ä¸€ä¸ªéŸ³ä¹é“¾æ¥(<a href="https://y.qq.com/n/yqq/song/004WKx9W0E7skj.html">https://y.qq.com/n/yqq/song/004WKx9W0E7skj.html</a> ==&gt; æ’­æ”¾)ï¼š
<img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200316130739.png" alt="">
å‘ç°æ‰€æœ‰çš„éŸ³ä¹æœ€åéƒ½æŒ‡å‘<a href="https://y.qq.com/portal/player.html">https://y.qq.com/portal/player.html</a>è¿™ä¸ªç½‘å€ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åšå¦‚ä¸‹åˆ¤æ–­ï¼šè¿™ä¸ªä¸œè¥¿æ˜¯é€šè¿‡ä¼ <code>Cookie</code>æ¥æ’­æ”¾éŸ³ä¹çš„ï¼Œæ‰€ä»¥å®ƒçš„<code>Network</code>ä¸­ç»å¯¹ä¼šæœ‰ç›¸åº”çš„<code>éŸ³ä¹æ–‡ä»¶</code>    ã€‚
æœä¸å…¶ç„¶ï¼Œé‡Œè¾¹æœ‰ä¸€ä¸ªå¦‚ä¸‹çš„é“¾æ¥ï¼š
<code>https://isure.stream.qqmusic.qq.com/C400003jblv923cckE.m4a?guid=2092345306&amp;vkey=0C2C0214E13FDAA60DF4560C8CAFB591C5C8D31854F25B79A59E07FE292AFF133E2B053C4A96C190ACA1582BD0476710ECCF87F6826D15A2&amp;uin=4354&amp;fromtag=66</code>
ç»è¿‡è§‚å¯Ÿï¼Œå‘ç°å®ƒçš„æ ¼å¼å¦‚ä¸‹ï¼š
<code>https://isure.stream.qqmusic.qq.com/C400&lt;MID&gt;.m4a?guid=&lt;GUID&gt;&amp;vkey=&lt;VKEY&gt;&amp;uin=4354&amp;fromtag=66</code>ï¼Œ<code>uin</code>å’Œ<code>fromtag</code>æ˜¯ä¸å˜çš„ã€‚
æ‰€ä»¥æˆ‘ä»¬å†è¿”å›æ­Œå•é¡µï¼Œæ‰“å¼€æ§åˆ¶å°ï¼Œæ‰¾åˆ°äº†å¦‚ä¸‹æ–‡ä»¶ï¼š
<img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200316130803.png" alt="">
å¥½çš„ï¼Œæˆ‘ä»¬é€šè¿‡è§‚å¯Ÿï¼Œå‘ç°è¿™æ˜¯ä¸€ä¸ªæ ¼å¼ç±»ä¼¼äºå¦‚ä¸‹çš„æ–‡ä»¶ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{<span style="color:#960050;background-color:#1e0010">&#39;accessed_favbase&#39;:</span> <span style="color:#960050;background-color:#1e0010">1,</span>
 <span style="color:#960050;background-color:#1e0010">&#39;accessed_plaza_cache&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
 <span style="color:#960050;background-color:#1e0010">&#39;cdlist&#39;:</span> <span style="color:#960050;background-color:#1e0010">[{&#39;album_pic_mid&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;buynum&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;cmtnum&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;coveradurl&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;ctime&#39;:</span> <span style="color:#960050;background-color:#1e0010">1552789122,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;cur_song_num&#39;:</span> <span style="color:#960050;background-color:#1e0010">70,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;desc&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;YouTuberé˜¿ç¥èƒŒæ™¯éŸ³ä¹ï¼ŒBobä»¬å¿«æ¥å¬å¬å§ï¼é˜¿ç¥åŠ æ²¹ï¼Œæˆ‘ä»¬ä¼šæ°¸è¿œæ”¯æŒä½ çš„ï¼&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;dir_pic_url2&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;dir_show&#39;:</span> <span style="color:#960050;background-color:#1e0010">1,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;dirid&#39;:</span> <span style="color:#960050;background-color:#1e0010">2,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;dissid&#39;:</span> <span style="color:#960050;background-color:#1e0010">6809716,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;dissname&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;é˜¿ç¥å¸¸ç”¨BGM&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;disstid&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;6809716883&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;disstype&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;encrypt_uin&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;oK6kowEAoK4z7eSiNevzoivlov**&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;headurl&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;http://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTK1iaxx2AdrAQDGlibrNZicyaYspzibEWTeCIHOGHPpMOau3MFofE1e5oJwEGHTrBUzrLegbPYiaNOicPaQ/132&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;ifpicurl&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;isAd&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;isdj&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;isvip&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;login&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;oK-57KEA7w4ion**&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;logo&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;http://qpic.y.qq.com/music_cover/huYTu7R6ZfqKlvicEsOAPc5D6PTtzz0caVENpSkmJnF4IbCCI7iaWqnz7SQXcf474k/300?n=1&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;mtime&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;nick&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;Max&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;nickname&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;Max&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;owndir&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;pic_dpi&#39;:</span> <span style="color:#960050;background-color:#1e0010">300,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;pic_mid&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;scoreavage&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;0.0&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;scoreusercount&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;singerid&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;singermid&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;song_begin&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;song_update_num&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;song_update_time&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;songids&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;108412441,108412318,236593788,212656442,204897711,203546728,101688454,201272163,215240933,201272176,105055346,125803989,201287859,4998977,220183309,1875424,200448238,107600922,202985843,201272151,102994348,4941179,200980117,102179620,108412364,1144219,108920995,4799526,200316483,125586926,108547678,214531352,214483351,108412363,225361408,201272168,201272164,213407792,215240934,108031940,109296153,102215437,203021286,104769082,201272157,200980118,213407791,201272160,200980114,201272153,200980111,201438505,201272165,109996034,202916713,202617948,109296152,201422059,200604508,203836723,9072513,201255271,201287877,102222132,105389125,108412359,215360418,109225063,102206145,219032454&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;songlist&#39;:</span> <span style="color:#960050;background-color:#1e0010">[{&#39;action&#39;:</span> <span style="color:#960050;background-color:#1e0010">{&#39;alert&#39;:</span> <span style="color:#960050;background-color:#1e0010">2,</span>
                                      <span style="color:#960050;background-color:#1e0010">&#39;icons&#39;:</span> <span style="color:#960050;background-color:#1e0010">8535932,</span>
                                      <span style="color:#960050;background-color:#1e0010">&#39;msgid&#39;:</span> <span style="color:#960050;background-color:#1e0010">14,</span>
                                      <span style="color:#960050;background-color:#1e0010">&#39;msgpay&#39;:</span> <span style="color:#960050;background-color:#1e0010">6,</span>
                                      <span style="color:#960050;background-color:#1e0010">&#39;switch&#39;:</span> <span style="color:#960050;background-color:#1e0010">17409795</span>}<span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;album&#39;:</span> {<span style="color:#960050;background-color:#1e0010">&#39;id&#39;:</span> <span style="color:#960050;background-color:#1e0010">1594129,</span>
                                     <span style="color:#960050;background-color:#1e0010">&#39;mid&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;001j2IHy2CkIaz&#39;,</span>
                                     <span style="color:#960050;background-color:#1e0010">&#39;name&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;UNDERTALE</span> <span style="color:#960050;background-color:#1e0010">Soundtrack&#39;,</span>
                                     <span style="color:#960050;background-color:#1e0010">&#39;pmid&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;001j2IHy2CkIaz_2&#39;,</span>
                                     <span style="color:#960050;background-color:#1e0010">&#39;subtitle&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;&#39;,</span>
                                     <span style="color:#960050;background-color:#1e0010">&#39;title&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;UNDERTALE</span> <span style="color:#960050;background-color:#1e0010">Soundtrack&#39;</span>}<span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;file&#39;:</span> {<span style="color:#960050;background-color:#1e0010">&#39;b_30s&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;e_30s&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;media_mid&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;003jblv923cckE&#39;,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_128&#39;:</span> <span style="color:#960050;background-color:#1e0010">724989,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_128mp3&#39;:</span> <span style="color:#960050;background-color:#1e0010">724989,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_192aac&#39;:</span> <span style="color:#960050;background-color:#1e0010">1046138,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_192ogg&#39;:</span> <span style="color:#960050;background-color:#1e0010">807221,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_24aac&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_320&#39;:</span> <span style="color:#960050;background-color:#1e0010">1812101,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_320mp3&#39;:</span> <span style="color:#960050;background-color:#1e0010">1812101,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_48aac&#39;:</span> <span style="color:#960050;background-color:#1e0010">264852,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_96aac&#39;:</span> <span style="color:#960050;background-color:#1e0010">523498,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_aac&#39;:</span> <span style="color:#960050;background-color:#1e0010">264852,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_ape&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_dts&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_flac&#39;:</span> <span style="color:#960050;background-color:#1e0010">2120013,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_ogg&#39;:</span> <span style="color:#960050;background-color:#1e0010">807221,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;size_try&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;try_begin&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
                                    <span style="color:#960050;background-color:#1e0010">&#39;try_end&#39;:</span> <span style="color:#960050;background-color:#1e0010">0</span>}<span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;fnote&#39;:</span> <span style="color:#ae81ff">4009</span><span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;genre&#39;:</span> <span style="color:#ae81ff">37</span><span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;id&#39;:</span> <span style="color:#ae81ff">108412441</span><span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;index_album&#39;:</span> <span style="color:#ae81ff">44</span><span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;index_cd&#39;:</span> <span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;interval&#39;:</span> <span style="color:#ae81ff">45</span><span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;isonly&#39;:</span> <span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;ksong&#39;:</span> {<span style="color:#960050;background-color:#1e0010">&#39;id&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span> <span style="color:#960050;background-color:#1e0010">&#39;mid&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>}<span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;language&#39;:</span> <span style="color:#ae81ff">9</span><span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;mid&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#ae81ff">004</span><span style="color:#960050;background-color:#1e0010">WKx</span><span style="color:#ae81ff">9</span><span style="color:#960050;background-color:#1e0010">W</span><span style="color:#ae81ff">0E7</span><span style="color:#960050;background-color:#1e0010">skj&#39;,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;mv&#39;:</span> {<span style="color:#960050;background-color:#1e0010">&#39;id&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span> <span style="color:#960050;background-color:#1e0010">&#39;vid&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;&#39;</span>}<span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;name&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;Tem</span> <span style="color:#960050;background-color:#1e0010">Shop&#39;,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;ov&#39;:</span> <span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;pay&#39;:</span> {<span style="color:#960050;background-color:#1e0010">&#39;pay_down&#39;:</span> <span style="color:#960050;background-color:#1e0010">1,</span>
                                   <span style="color:#960050;background-color:#1e0010">&#39;pay_month&#39;:</span> <span style="color:#960050;background-color:#1e0010">1,</span>
                                   <span style="color:#960050;background-color:#1e0010">&#39;pay_play&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
                                   <span style="color:#960050;background-color:#1e0010">&#39;pay_status&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
                                   <span style="color:#960050;background-color:#1e0010">&#39;price_album&#39;:</span> <span style="color:#960050;background-color:#1e0010">0,</span>
                                   <span style="color:#960050;background-color:#1e0010">&#39;price_track&#39;:</span> <span style="color:#960050;background-color:#1e0010">200,</span>
                                   <span style="color:#960050;background-color:#1e0010">&#39;time_free&#39;:</span> <span style="color:#960050;background-color:#1e0010">0</span>}<span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;sa&#39;:</span> <span style="color:#ae81ff">16</span><span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;singer&#39;:</span> [{<span style="color:#960050;background-color:#1e0010">&#39;id&#39;:</span> <span style="color:#960050;background-color:#1e0010">1204192,</span>
                                       <span style="color:#960050;background-color:#1e0010">&#39;mid&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;0045aGTp3XRXLD&#39;,</span>
                                       <span style="color:#960050;background-color:#1e0010">&#39;name&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;Toby</span> <span style="color:#960050;background-color:#1e0010">Fox&#39;,</span>
                                       <span style="color:#960050;background-color:#1e0010">&#39;title&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;Toby</span> <span style="color:#960050;background-color:#1e0010">Fox&#39;</span>}]<span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;songtype&#39;:</span> <span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;status&#39;:</span> <span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;subtitle&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;&#39;,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;tid&#39;:</span> <span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;time_public&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#ae81ff">2015-09-15</span><span style="color:#960050;background-color:#1e0010">&#39;,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;title&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;Tem</span> <span style="color:#960050;background-color:#1e0010">Shop&#39;,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;type&#39;:</span> <span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;url&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;&#39;,</span>
                           <span style="color:#960050;background-color:#1e0010">&#39;volume&#39;:</span> {<span style="color:#960050;background-color:#1e0010">&#39;gain&#39;:</span> <span style="color:#960050;background-color:#1e0010">0.0,</span> <span style="color:#960050;background-color:#1e0010">&#39;lra&#39;:</span> <span style="color:#960050;background-color:#1e0010">0.0,</span> <span style="color:#960050;background-color:#1e0010">&#39;peak&#39;:</span> <span style="color:#960050;background-color:#1e0010">0.0</span>}<span style="color:#960050;background-color:#1e0010">},</span>
             <span style="color:#960050;background-color:#1e0010">&#39;songnum&#39;:</span> <span style="color:#ae81ff">70</span><span style="color:#960050;background-color:#1e0010">,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;songtypes&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">,</span><span style="color:#ae81ff">13</span><span style="color:#960050;background-color:#1e0010">&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;tags&#39;:</span> [{<span style="color:#960050;background-color:#1e0010">&#39;id&#39;:</span> <span style="color:#960050;background-color:#1e0010">199,</span> <span style="color:#960050;background-color:#1e0010">&#39;name&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;èƒŒæ™¯éŸ³ä¹&#39;,</span> <span style="color:#960050;background-color:#1e0010">&#39;pid&#39;:</span> <span style="color:#960050;background-color:#1e0010">199</span>},
                      {<span style="color:#960050;background-color:#1e0010">&#39;id&#39;:</span> <span style="color:#960050;background-color:#1e0010">117,</span> <span style="color:#960050;background-color:#1e0010">&#39;name&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;å¿«ä¹&#39;,</span> <span style="color:#960050;background-color:#1e0010">&#39;pid&#39;:</span> <span style="color:#960050;background-color:#1e0010">117</span>},
                      {<span style="color:#960050;background-color:#1e0010">&#39;id&#39;:</span> <span style="color:#960050;background-color:#1e0010">116,</span> <span style="color:#960050;background-color:#1e0010">&#39;name&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;æ²»æ„ˆ&#39;,</span> <span style="color:#960050;background-color:#1e0010">&#39;pid&#39;:</span> <span style="color:#960050;background-color:#1e0010">116</span>}]<span style="color:#960050;background-color:#1e0010">,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;total_song_num&#39;:</span> <span style="color:#ae81ff">70</span><span style="color:#960050;background-color:#1e0010">,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;type&#39;:</span> <span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;uin&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;oK</span><span style="color:#ae81ff">6</span><span style="color:#960050;background-color:#1e0010">kowEAoK</span><span style="color:#ae81ff">4</span><span style="color:#960050;background-color:#1e0010">z</span><span style="color:#ae81ff">7</span><span style="color:#960050;background-color:#1e0010">eSiNevzoivlov**&#39;,</span>
             <span style="color:#960050;background-color:#1e0010">&#39;visitnum&#39;:</span> <span style="color:#ae81ff">170366</span><span style="color:#960050;background-color:#1e0010">}],</span>
 <span style="color:#960050;background-color:#1e0010">&#39;cdnum&#39;:</span> <span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">,</span>
 <span style="color:#960050;background-color:#1e0010">&#39;code&#39;:</span> <span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">,</span>
 <span style="color:#960050;background-color:#1e0010">&#39;login&#39;:</span> <span style="color:#960050;background-color:#1e0010">&#39;oK</span><span style="color:#ae81ff">-57</span><span style="color:#960050;background-color:#1e0010">KEA</span><span style="color:#ae81ff">7</span><span style="color:#960050;background-color:#1e0010">w</span><span style="color:#ae81ff">4</span><span style="color:#960050;background-color:#1e0010">ion**&#39;,</span>
 <span style="color:#960050;background-color:#1e0010">&#39;realcdnum&#39;:</span> <span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">,</span>
 <span style="color:#960050;background-color:#1e0010">&#39;subcode&#39;:</span> <span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">}</span>
</code></pre></div><p>å¾ˆå®¹æ˜“çœ‹å‡ºï¼Œé‡Œé¢æœ‰æˆ‘ä»¬æ‰€éœ€çš„<code>&lt;MID&gt;</code>ã€‚ä½†æ˜¯<code>&lt;VKEY&gt;</code>å¹¶æ²¡æœ‰å‡ºç°ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¿…é¡»æ¢ä¸€ç§æ€è·¯äº†ã€‚
æŸ¥æ‰¾äº†ç½‘ç»œä¸Šçš„èµ„æ–™ï¼Œå‘ç°æœ‰ä¸€ä¸ªéŸ³ä¹ä¿¡æ¯å¤–é“¾ï¼š
<code>https://u.y.qq.com/cgi-bin/musicu.fcg?format=json&amp;data=%7B%22req_0%22%3A%7B%22module%22%3A%22vkey.GetVkeyServer%22%2C%22method%22%3A%22CgiGetVkey%22%2C%22param%22%3A%7B%22guid%22%3A%22358840384%22%2C%22songmid%22%3A%5B%22&lt;MID&gt;%22%5D%2C%22songtype%22%3A%5B0%5D%2C%22uin%22%3A%221443481947%22%2C%22loginflag%22%3A1%2C%22platform%22%3A%2220%22%7D%7D%2C%22comm%22%3A%7B%22uin%22%3A%2218585073516%22%2C%22format%22%3A%22json%22%2C%22ct%22%3A24%2C%22cv%22%3A0%7D%7D</code>
è¿™ä¸ªæ˜¯ç»è¿‡<code>URLç¼–ç </code>çš„ï¼Œè§£å¯†åç»“æœå¦‚ä¸‹ï¼š
<code>https://u.y.qq.com/cgi-bin/musicu.fcg?format=json&amp;data={&quot;req_0&quot;:{&quot;module&quot;:&quot;vkey.GetVkeyServer&quot;,&quot;method&quot;:&quot;CgiGetVkey&quot;,&quot;param&quot;:{&quot;guid&quot;:&quot;358840384&quot;,&quot;songmid&quot;:[&quot;&lt;MID&gt;&quot;],&quot;songtype&quot;:[0],&quot;uin&quot;:&quot;1443481947&quot;,&quot;loginflag&quot;:1,&quot;platform&quot;:&quot;20&quot;}},&quot;comm&quot;:{&quot;uin&quot;:&quot;18585073516&quot;,&quot;format&quot;:&quot;json&quot;,&quot;ct&quot;:24,&quot;cv&quot;:0}}</code>
å¥½çš„ï¼Œçœ‹æ¥æˆ‘ä»¬åªéœ€è¦è¿™ä¸ª<code>&lt;MID&gt;</code>å³å¯ã€‚
æˆ‘ä»¬åœ¨ä¸Šé¢çš„æ­¥éª¤å·²ç»è·å¾—äº†<code>&lt;MID&gt;</code>ï¼ŒæŠŠå®ƒæ”¾è¿›é‚£ä¸ªURLï¼Œä¼šæ‰¾åˆ°ä¸€ä¸ªæ•°æ®æ–‡ä»¶ã€‚å¦‚ä¸‹(é“¾æ¥ï¼š<a href="https://u.y.qq.com/cgi-bin/musicu.fcg?format=json&amp;data=%7B%22req_0%22%3A%7B%22module%22%3A%22vkey.GetVkeyServer%22%2C%22method%22%3A%22CgiGetVkey%22%2C%22param%22%3A%7B%22guid%22%3A%22358840384%22%2C%22songmid%22%3A%5B%22004WKx9W0E7skj%22%5D%2C%22songtype%22%3A%5B0%5D%2C%22uin%22%3A%221443481947%22%2C%22loginflag%22%3A1%2C%22platform%22%3A%2220%22%7D%7D%2C%22comm%22%3A%7B%22uin%22%3A%2218585073516%22%2C%22format%22%3A%22json%22%2C%22ct%22%3A24%2C%22cv%22%3A0%7D%7D">https://u.y.qq.com/cgi-bin/musicu.fcg?format=json&amp;data=%7B%22req_0%22%3A%7B%22module%22%3A%22vkey.GetVkeyServer%22%2C%22method%22%3A%22CgiGetVkey%22%2C%22param%22%3A%7B%22guid%22%3A%22358840384%22%2C%22songmid%22%3A%5B%22004WKx9W0E7skj%22%5D%2C%22songtype%22%3A%5B0%5D%2C%22uin%22%3A%221443481947%22%2C%22loginflag%22%3A1%2C%22platform%22%3A%2220%22%7D%7D%2C%22comm%22%3A%7B%22uin%22%3A%2218585073516%22%2C%22format%22%3A%22json%22%2C%22ct%22%3A24%2C%22cv%22%3A0%7D%7D</a>)ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{<span style="color:#f92672">&#34;code&#34;</span>:<span style="color:#ae81ff">0</span>,<span style="color:#f92672">&#34;ts&#34;</span>:<span style="color:#ae81ff">1583379252481</span>,<span style="color:#f92672">&#34;req_0&#34;</span>:{<span style="color:#f92672">&#34;code&#34;</span>:<span style="color:#ae81ff">0</span>,<span style="color:#f92672">&#34;data&#34;</span>:{ <span style="color:#f92672">&#34;expiration&#34;</span>: <span style="color:#ae81ff">80400</span>, <span style="color:#f92672">&#34;login_key&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#f92672">&#34;midurlinfo&#34;</span>: [ { <span style="color:#f92672">&#34;common_downfromtag&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;errtype&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#f92672">&#34;filename&#34;</span>: <span style="color:#e6db74">&#34;C400003jblv923cckE.m4a&#34;</span>, <span style="color:#f92672">&#34;flowfromtag&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#f92672">&#34;flowurl&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#f92672">&#34;hisbuy&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;hisdown&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;isbuy&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;isonly&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;onecan&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;opi128kurl&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#f92672">&#34;opi192koggurl&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#f92672">&#34;opi192kurl&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#f92672">&#34;opi30surl&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#f92672">&#34;opi48kurl&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#f92672">&#34;opi96kurl&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#f92672">&#34;opiflackurl&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#f92672">&#34;p2pfromtag&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;pdl&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;pneed&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;pneedbuy&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;premain&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;purl&#34;</span>: <span style="color:#e6db74">&#34;C400003jblv923cckE.m4a?guid=358840384&amp;vkey=9B9B50B3B25F0A5B339075E830EDE2E10FDC429A412FD272C65C2C0BA96846C98CF95F046C4B6E76BB16191F791104AB1B949E0C5168C3D0&amp;uin=0&amp;fromtag=66&#34;</span>, <span style="color:#f92672">&#34;qmdlfromtag&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;result&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;songmid&#34;</span>: <span style="color:#e6db74">&#34;004WKx9W0E7skj&#34;</span>, <span style="color:#f92672">&#34;tips&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#f92672">&#34;uiAlert&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;vip_downfromtag&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;vkey&#34;</span>: <span style="color:#e6db74">&#34;9B9B50B3B25F0A5B339075E830EDE2E10FDC429A412FD272C65C2C0BA96846C98CF95F046C4B6E76BB16191F791104AB1B949E0C5168C3D0&#34;</span>, <span style="color:#f92672">&#34;wififromtag&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#f92672">&#34;wifiurl&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span> } ], <span style="color:#f92672">&#34;msg&#34;</span>: <span style="color:#e6db74">&#34;&lt;IP&gt;&#34;</span>, <span style="color:#f92672">&#34;retcode&#34;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#f92672">&#34;servercheck&#34;</span>: <span style="color:#e6db74">&#34;0502f67d8cf451662c4b46417d571295&#34;</span>, <span style="color:#f92672">&#34;sip&#34;</span>: [ <span style="color:#e6db74">&#34;http:\/\/ws.stream.qqmusic.qq.com\/&#34;</span>, <span style="color:#e6db74">&#34;http:\/\/isure.stream.qqmusic.qq.com\/&#34;</span> ], <span style="color:#f92672">&#34;testfile2g&#34;</span>: <span style="color:#e6db74">&#34;C400003mAan70zUy5O.m4a?guid=358840384&amp;vkey=62F3CE198C73F66E7207E03BFB4F4C29BC086BF77E55DDC7C81ECEB156B8736E26F5B8360E5C63E0B6ADAB89779732648AF943136A70DC05&amp;uin=&amp;fromtag=3&#34;</span>, <span style="color:#f92672">&#34;testfilewifi&#34;</span>: <span style="color:#e6db74">&#34;C400003mAan70zUy5O.m4a?guid=358840384&amp;vkey=62F3CE198C73F66E7207E03BFB4F4C29BC086BF77E55DDC7C81ECEB156B8736E26F5B8360E5C63E0B6ADAB89779732648AF943136A70DC05&amp;uin=&amp;fromtag=3&#34;</span>, <span style="color:#f92672">&#34;thirdip&#34;</span>: [ <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span> ], <span style="color:#f92672">&#34;uin&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#f92672">&#34;verify_type&#34;</span>: <span style="color:#ae81ff">0</span> }}}
</code></pre></div><p>å†æŠŠ<code>purl</code>ä»£å…¥å¤–é“¾<code>https://isure.stream.qqmusic.qq.com</code>(<code>http://ws.stream.qqmusic.qq.com</code>ä¹Ÿå¯ä»¥)ï¼Œå¾—åˆ°å¦‚ä¸‹é“¾æ¥ï¼š
<code>https://isure.stream.qqmusic.qq.com/C400003jblv923cckE.m4a?guid=358840384&amp;vkey=9B9B50B3B25F0A5B339075E830EDE2E10FDC429A412FD272C65C2C0BA96846C98CF95F046C4B6E76BB16191F791104AB1B949E0C5168C3D0&amp;uin=0&amp;fromtag=66</code>
æ‰“å¼€ï¼Œä¾¿æ˜¯æˆ‘ä»¬æƒ³è¦çš„éŸ³ä¹æ–‡ä»¶äº†ã€‚ä¸‹è½½éŸ³ä¹ï¼Œè¯·å‚è€ƒæˆ‘çš„å‰ä¸¤ç¯‡æ–‡ç« ï¼š
<a href="/post/CUlLXMwcx/" class="LinkCard">ä»é›¶å¼€å§‹å†™ä¸€ä¸ªéŸ³ä¹çˆ¬è™«-2-ç½‘æ˜“äº‘éŸ³ä¹ï¼šä¸‹è½½éŸ³ä¹æ–‡ä»¶</a>
<a href="/post/lOWHTeAPC/" class="LinkCard">ä»é›¶å¼€å§‹å†™ä¸€ä¸ªéŸ³ä¹çˆ¬è™«-3-é…·ç‹—éŸ³ä¹</a>
ä»£ç ä¹‹åæ”¾ä¸Šæ¥ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/python/">Python</category><category domain="https://raycoder.me/categories/%E7%88%AC%E8%99%AB/">çˆ¬è™«</category><category domain="https://raycoder.me/tags/python/">Python</category><category domain="https://raycoder.me/tags/%E7%88%AC%E8%99%AB/">çˆ¬è™«</category><category domain="https://raycoder.me/tags/qq%E9%9F%B3%E4%B9%90/">QQéŸ³ä¹</category><category domain="https://raycoder.me/tags/%E7%A6%8F%E5%88%A9/">ç¦åˆ©</category><category domain="https://raycoder.me/tags/%E7%A0%B4%E8%A7%A3/">ç ´è§£</category><category domain="https://raycoder.me/tags/%E9%9F%B3%E4%B9%90/">éŸ³ä¹</category><category domain="https://raycoder.me/tags/%E4%BC%9A%E5%91%98/">ä¼šå‘˜</category><category domain="https://raycoder.me/tags/python%E8%BF%9B%E9%98%B6/">Pythonè¿›é˜¶</category></item><item><title>ä»é›¶å¼€å§‹å†™ä¸€ä¸ªéŸ³ä¹çˆ¬è™«-2ï¼šä¸‹è½½éŸ³ä¹æ–‡ä»¶</title><link>https://raycoder.me/p/music-spider-downloader/</link><guid isPermaLink="true">https://raycoder.me/p/music-spider-downloader/</guid><pubDate>Tue, 25 Feb 2020 08:27:44 +0800</pubDate><description><![CDATA[<p><strong>ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘å†™äº†çˆ¬å–ç½‘æ˜“äº‘éŸ³ä¹æ­Œå•ä¸­éŸ³ä¹IDåŠä¸‹è½½é“¾æ¥çš„æ•™ç¨‹ï¼Œè¿™ä¸€æœŸæˆ‘ä»¬å°±åº”è¯¥æŠŠæ–‡ä»¶ä¸‹è½½ä¸‹æ¥äº†ã€‚</strong></p>
<p>ä¸‹è½½æ–‡ä»¶ï¼Œæˆ‘ä»¬é€šè¿‡Python3çš„<code>urllib</code>æ¨¡å—å¯ä»¥å¾ˆè½»æ¾åœ°å®ç°ã€‚
æ–°å»ºä¸€ä¸ª<code>download.py</code>æ–‡ä»¶ã€‚</p>
<p>ä¸‹è½½éŸ³ä¹ä¸»è¦çš„ä»£ç ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"> <span style="color:#75715e">#!/usr/bin/env python</span>
<span style="color:#75715e">#-*- coding:utf8 -*-</span>
<span style="color:#e6db74">&#39;&#39;&#39;
</span><span style="color:#e6db74">@Author  :   Ray
</span><span style="color:#e6db74">@Contact :   ray@raycoder.me
</span><span style="color:#e6db74">@Software:   PyCharm
</span><span style="color:#e6db74">@File    :   download.py
</span><span style="color:#e6db74">@Time    :   2019/11/4 21:19
</span><span style="color:#e6db74">&#39;&#39;&#39;</span>
<span style="color:#f92672">import</span> urllib<span style="color:#f92672">,</span> time<span style="color:#f92672">,</span> os

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">downloadMusic</span>(music_dictionary, path): <span style="color:#75715e">#ä¸‹è½½éŸ³ä¹</span>
    exist <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>exists(path)
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> exist:
        os<span style="color:#f92672">.</span>makedirs(path)
    complete <span style="color:#f92672">=</span> []
    failed <span style="color:#f92672">=</span> []
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> music_dictionary:
        <span style="color:#66d9ef">try</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">u</span><span style="color:#e6db74">&#39;æ­£åœ¨ä¸‹è½½ï¼š&#39;</span> <span style="color:#f92672">+</span> i)
            trans <span style="color:#f92672">=</span> str<span style="color:#f92672">.</span>maketrans(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">/*?:&#34;|&lt;&gt;&#39;</span>, <span style="color:#e6db74">&#39;         &#39;</span>)
            urllib<span style="color:#f92672">.</span>request<span style="color:#f92672">.</span>urlretrieve(music_dictionary[i], path <span style="color:#f92672">+</span> i<span style="color:#f92672">.</span>translate(trans) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;.mp3&#39;</span>)
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">u</span><span style="color:#e6db74">&#39;ä¸‹è½½å®Œæˆï¼&#39;</span>)
            complete<span style="color:#f92672">.</span>append(i)
            time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">1</span>)
        <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">OSError</span> <span style="color:#66d9ef">as</span> e:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">u</span><span style="color:#e6db74">&#39;ä¸‹è½½å¤±è´¥ï¼š&#39;</span> <span style="color:#f92672">+</span> i <span style="color:#f92672">+</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">u</span><span style="color:#e6db74">&#39;å¤±è´¥åŸå› ï¼š&#39;</span> <span style="color:#f92672">+</span> str(e))
            failed<span style="color:#f92672">.</span>append(i)
    <span style="color:#66d9ef">if</span> complete:
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;ä¸‹è½½æˆåŠŸï¼š&#34;</span>)
        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> complete:
            <span style="color:#66d9ef">print</span>(str(complete<span style="color:#f92672">.</span>index(i) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;.</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">+</span> i)
        <span style="color:#66d9ef">print</span>()
    <span style="color:#66d9ef">else</span>:
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;æ— ä¸‹è½½æˆåŠŸ&#34;</span>)

    <span style="color:#66d9ef">if</span> failed:
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;ä¸‹è½½å¤±è´¥ï¼š&#34;</span>)
        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> failed:
            <span style="color:#66d9ef">print</span>(str(failed<span style="color:#f92672">.</span>index(i) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;.</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">+</span> i)
        <span style="color:#66d9ef">print</span>()
    <span style="color:#66d9ef">else</span>:
        <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;æ— ä¸‹è½½å¤±è´¥&#34;</span>)

</code></pre></div><p>æµ‹è¯•ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> CloudMusicSpider
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">_test</span>():
    spider <span style="color:#f92672">=</span> CloudMusicSpider()
    downloadMusic(spider<span style="color:#f92672">.</span>getArtUrl(<span style="color:#e6db74">&#39;https://music.163.com/#/playlist?id=4874770876&#39;</span>))

<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    _test()
</code></pre></div><p>ç»“æœï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">æ­£åœ¨ä¸‹è½½ï¼šPrelude
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šMarble Soda [Explicit]
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šSnowdin Town
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šMonkeys Spinning Monkeys
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šOverworld Theme (GFM Trap Remix)
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šPizza
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šKing Dedede
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šUndertale
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šsans.
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šTem Shop
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šUndertale - Snowdin Town (****** Bootleg)
ä¸‹è½½å¤±è´¥ï¼šUndertale - Snowdin Town (****** Bootleg)	å¤±è´¥åŸå› ï¼š[Errno 22] Invalid argument: &#39;Undertale - Snowdin Town (****** Bootleg).mp3&#39;
æ­£åœ¨ä¸‹è½½ï¼šIt&#39;s Not Like I Like You!!(Instrumental)
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šä¼¼é¡”çµµåºƒå ´ (ä¼¼é¡”çµµãƒãƒ£ãƒ³ãƒãƒ«)
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šã‚¹ãƒ†ãƒ¼ã‚¸ï¼šã‚³ãƒŸã‚«ãƒ« (ã‚µãƒ³ãƒ‰ã‚­ãƒ£ãƒ‹ã‚ªãƒ³)
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šI Love You
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šIce Cream
ä¸‹è½½å®Œæˆï¼
æ­£åœ¨ä¸‹è½½ï¼šDying
ä¸‹è½½å®Œæˆï¼
ä¸‹è½½æˆåŠŸï¼š
1.	Prelude
2.	Marble Soda [Explicit]
3.	Snowdin Town
4.	Monkeys Spinning Monkeys
5.	Overworld Theme (GFM Trap Remix)
6.	Pizza
7.	King Dedede
8.	Undertale
9.	sans.
10.	Tem Shop
11.	It&#39;s Not Like I Like You!!(Instrumental)
12.	ä¼¼é¡”çµµåºƒå ´ (ä¼¼é¡”çµµãƒãƒ£ãƒ³ãƒãƒ«)
13.	ã‚¹ãƒ†ãƒ¼ã‚¸ï¼šã‚³ãƒŸã‚«ãƒ« (ã‚µãƒ³ãƒ‰ã‚­ãƒ£ãƒ‹ã‚ªãƒ³)
14.	I Love You
15.	Ice Cream
16.	Dying

ä¸‹è½½å¤±è´¥ï¼š
1.	Undertale - Snowdin Town (****** Bootleg)
</code></pre></div><p>ä¹‹åå°±å¯ä»¥åœ¨ä¿å­˜æºæ–‡ä»¶çš„ç›®å½•ä¸‹<code>downloads</code>æ–‡ä»¶å¤¹çœ‹åˆ°éŸ³ä¹æ–‡ä»¶äº†ã€‚</p>
<p>æƒ³è¦ä¸‹è½½æ­Œè¯çš„åªéœ€ä¿®æ”¹<code>getArtUrl()</code>å‡½æ•°å³å¯ï¼Œå¤–é“¾ä¸º<code>http://music.163.com/api/song/lyric?id=éŸ³ä¹ID&amp;lv=1&amp;kv=1&amp;tv=-1</code>ã€‚</p>
<p>P.Sï¼šä¸Šé¢é‚£ä¸ªä¸‹è½½å¤±è´¥çš„æ˜¯å› ä¸ºæ–‡ä»¶åä¸­æœ‰<code>*</code>å·ï¼Œè€ŒWindowsæ˜¯ä¸è®©ä¿å­˜çš„ã€‚æ‰€ä»¥æˆ‘è¦ç”¨<code>str.translate()</code>æ–¹æ³•å°†è¿™äº›å­—ç¬¦æ‰¹é‡æ›¿æ¢ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#!/usr/bin/env python</span>
<span style="color:#75715e">#-*- coding:utf8 -*-</span>
<span style="color:#e6db74">&#39;&#39;&#39;
</span><span style="color:#e6db74">@Author  :   Ray
</span><span style="color:#e6db74">@Contact :   nn_201412@qq.com
</span><span style="color:#e6db74">@Software:   PyCharm
</span><span style="color:#e6db74">@File    :   init.py
</span><span style="color:#e6db74">@Time    :   2019/11/4 21:19
</span><span style="color:#e6db74">&#39;&#39;&#39;</span>
<span style="color:#f92672">import</span> requests<span style="color:#f92672">,</span> re<span style="color:#f92672">,</span> urllib<span style="color:#f92672">,</span> os
<span style="color:#f92672">from</span> fake_useragent <span style="color:#f92672">import</span> UserAgent
<span style="color:#f92672">from</span> time <span style="color:#f92672">import</span> sleep

exist <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>exists(<span style="color:#e6db74">&#39;downloads/&#39;</span>)
<span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> exist:
    os<span style="color:#f92672">.</span>makedirs(<span style="color:#e6db74">&#39;downloads/&#39;</span>)

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CloudmusicSpider</span>():
    HEADER <span style="color:#f92672">=</span> {  <span style="color:#75715e"># ä¼ªé€ è¯·æ±‚å¤´ï¼Œé˜²æ­¢è¢«å°</span>
        <span style="color:#e6db74">&#39;Accept&#39;</span>: <span style="color:#e6db74">&#39;*/*&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Encoding&#39;</span>: <span style="color:#e6db74">&#39;gzip,deflate,sdch&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Language&#39;</span>: <span style="color:#e6db74">&#39;zh-CN,zh;q=0.8,gl;q=0.6,zh-TW;q=0.4&#39;</span>,
        <span style="color:#e6db74">&#39;Connection&#39;</span>: <span style="color:#e6db74">&#39;keep-alive&#39;</span>,
        <span style="color:#e6db74">&#39;Content-Type&#39;</span>: <span style="color:#e6db74">&#39;application/x-www-form-urlencoded&#39;</span>,
        <span style="color:#e6db74">&#39;Host&#39;</span>: <span style="color:#e6db74">&#39;music.163.com&#39;</span>,
        <span style="color:#e6db74">&#39;Referer&#39;</span>: <span style="color:#e6db74">&#39;https://music.163.com/&#39;</span>,
        <span style="color:#e6db74">&#39;User-Agent&#39;</span>: UserAgent()<span style="color:#f92672">.</span>random
    }
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getUrl</span>(self, artlist_url): <span style="color:#75715e">#è·å–éŸ³ä¹çœŸå®IDçš„å‡½æ•°</span>
        outerUrl <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;http://music.163.com/song/media/outer/url?id={0:s}.mp3&#34;</span> <span style="color:#75715e">#å¤–é“¾åœ°å€</span>
        response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url<span style="color:#f92672">=</span>artlist_url<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#39;#/&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>), headers<span style="color:#f92672">=</span>self<span style="color:#f92672">.</span>HEADER) <span style="color:#75715e">#ç½‘æ˜“äº‘éŸ³ä¹ä½¿ç”¨å¼‚æ­¥åŠ è½½ï¼Œéœ€è¦å»æ‰&#34;#/&#34;</span>
        songs <span style="color:#f92672">=</span> {}
        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;&lt;a href=&#34;/song\?id=(\d+)&#34;&gt;(.*?)&lt;/a&gt;&#39;</span>, response<span style="color:#f92672">.</span>text):
            songs[i[<span style="color:#ae81ff">1</span>]] <span style="color:#f92672">=</span> outerUrl<span style="color:#f92672">.</span>format(i[<span style="color:#ae81ff">0</span>])
        <span style="color:#66d9ef">return</span> songs
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">downloadMusic</span>(self, music_dictionary): <span style="color:#75715e">#ä¸‹è½½éŸ³ä¹</span>
        complete <span style="color:#f92672">=</span> []
        failed <span style="color:#f92672">=</span> []
        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> music_dictionary<span style="color:#f92672">.</span>keys():
            <span style="color:#66d9ef">try</span>:
                <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">u</span><span style="color:#e6db74">&#39;æ­£åœ¨ä¸‹è½½ï¼š&#39;</span> <span style="color:#f92672">+</span> i)
                trans <span style="color:#f92672">=</span> str<span style="color:#f92672">.</span>maketrans(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">/*?:&#34;|&lt;&gt;&#39;</span>, <span style="color:#e6db74">&#39;         &#39;</span>) <span style="color:#75715e">#ä¸€ä¸€å¯¹åº”</span>
                urllib<span style="color:#f92672">.</span>request<span style="color:#f92672">.</span>urlretrieve(music_dictionary[i], <span style="color:#e6db74">&#39;downloads/&#39;</span> <span style="color:#f92672">+</span> i<span style="color:#f92672">.</span>translate(trans) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;.mp3&#39;</span>) <span style="color:#75715e">#å­—ç¬¦æ›¿æ¢</span>
                <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">u</span><span style="color:#e6db74">&#39;ä¸‹è½½å®Œæˆï¼&#39;</span>)
                complete<span style="color:#f92672">.</span>append(i)
                sleep(<span style="color:#ae81ff">1</span>)
            <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">OSError</span> <span style="color:#66d9ef">as</span> e:
                <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">u</span><span style="color:#e6db74">&#39;ä¸‹è½½å¤±è´¥ï¼š&#39;</span> <span style="color:#f92672">+</span> i <span style="color:#f92672">+</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">u</span><span style="color:#e6db74">&#39;å¤±è´¥åŸå› ï¼š&#39;</span> <span style="color:#f92672">+</span> str(e))
                failed<span style="color:#f92672">.</span>append(i)
        <span style="color:#66d9ef">if</span> complete <span style="color:#f92672">!=</span> []:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;ä¸‹è½½æˆåŠŸï¼š&#34;</span>)
            <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> complete:
                <span style="color:#66d9ef">print</span>(str(complete<span style="color:#f92672">.</span>index(i) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;.</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">+</span> i)
            <span style="color:#66d9ef">print</span>()
        <span style="color:#66d9ef">else</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;æ— ä¸‹è½½æˆåŠŸ&#34;</span>)

        <span style="color:#66d9ef">if</span> failed <span style="color:#f92672">!=</span> []:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;ä¸‹è½½å¤±è´¥ï¼š&#34;</span>)
            <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> failed:
                <span style="color:#66d9ef">print</span>(str(failed<span style="color:#f92672">.</span>index(i) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;.</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">+</span> i)
            <span style="color:#66d9ef">print</span>()
        <span style="color:#66d9ef">else</span>:
            <span style="color:#66d9ef">print</span>(<span style="color:#e6db74">&#34;æ— ä¸‹è½½å¤±è´¥&#34;</span>)
</code></pre></div><p>è¿™ä¸ªä»£ç ä¹Ÿéœ€è¦ä¿å­˜ä¸ºæ¨¡å—ï¼Œå‘½åä¸º<code>download.py</code>ï¼Œä»¥åä½œä¸ºæ¨¡å—å¤‡ç”¨ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/python/">Python</category><category domain="https://raycoder.me/categories/%E7%88%AC%E8%99%AB/">çˆ¬è™«</category><category domain="https://raycoder.me/tags/python/">Python</category><category domain="https://raycoder.me/tags/%E7%88%AC%E8%99%AB/">çˆ¬è™«</category><category domain="https://raycoder.me/tags/%E7%A6%8F%E5%88%A9/">ç¦åˆ©</category><category domain="https://raycoder.me/tags/%E7%BD%91%E6%98%93/">ç½‘æ˜“</category><category domain="https://raycoder.me/tags/%E7%A0%B4%E8%A7%A3/">ç ´è§£</category><category domain="https://raycoder.me/tags/%E9%9F%B3%E4%B9%90/">éŸ³ä¹</category><category domain="https://raycoder.me/tags/%E4%BC%9A%E5%91%98/">ä¼šå‘˜</category><category domain="https://raycoder.me/tags/python%E8%BF%9B%E9%98%B6/">Pythonè¿›é˜¶</category></item><item><title>ä»é›¶å¼€å§‹å†™ä¸€ä¸ªéŸ³ä¹çˆ¬è™«-1-ç½‘æ˜“äº‘éŸ³ä¹ï¼šæ‰¹é‡è·å–æ­Œå•éŸ³ä¹ä¸‹è½½é“¾æ¥</title><link>https://raycoder.me/p/cloudmusic-spider-artlist/</link><guid isPermaLink="true">https://raycoder.me/p/cloudmusic-spider-artlist/</guid><pubDate>Sat, 22 Feb 2020 15:59:37 +0800</pubDate><description><![CDATA[<p><strong>æœ¬æ–‡å°†ä¼šè¯¦ç»†çš„å†™ä»é›¶å¼€å§‹åˆ¶ä½œç½‘æ˜“äº‘éŸ³ä¹çˆ¬è™«çš„è¿‡ç¨‹ï¼Œå¯ä»¥ä¸‹è½½ç½‘æ˜“äº‘éŸ³ä¹éŸ³ä¹ä»˜è´¹æ­Œæ›²ï¼Œä½¿ç”¨Python3å¼€å‘ã€‚</strong></p>
<blockquote>
<p><strong>å£°æ˜ï¼šæœ¬æ–‡ä»å‰ç«¯å…¥æ‰‹ï¼Œå†è·å¾—æ­Œæ›²æ•°æ®ã€‚å¦‚æœæ‚¨ä¸æƒ³èµ°é‚£ä¹ˆå¤šå¼¯è·¯ï¼Œè¯·å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a href="https://zhuanlan.zhihu.com/p/30246788">https://zhuanlan.zhihu.com/p/30246788</a>å’Œè¿™ç¯‡æ–‡ç« ï¼š<a href="https://www.shangyexinzhi.com/article/details/id-297404">https://www.shangyexinzhi.com/article/details/id-297404</a></strong></p>
<!-- more -->
</blockquote>
<p>æœ¬æ–‡é‡‡ç”¨ç¯å¢ƒï¼š</p>
<ul>
<li>Pycharm + Python 3.7.5</li>
</ul>
<p>æ‰€éœ€æ¨¡å—ï¼š</p>
<ol>
<li>fake-useragent</li>
<li>requests</li>
<li>re</li>
</ol>
<p>å®‰è£…æ–¹æ³•ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">pip install beautifulsoup4 fake<span style="color:#f92672">-</span>useragent requests
</code></pre></div><p>çˆ¬è™«æ€è·¯ï¼š</p>
<div class="mermaid">
graph TD;
    åˆå§‹åŒ–ç¨‹åº-->è·å–é“¾æ¥;
    è·å–é“¾æ¥-->éå†é“¾æ¥;
    éå†é“¾æ¥-->è·å–çœŸå®ä¸‹è½½é“¾æ¥;
    è·å–çœŸå®ä¸‹è½½é“¾æ¥-->ä¸‹è½½éŸ³ä¹;
</div>
<p>çœ‹èµ·æ¥å¹¶ä¸æ˜¯éå¸¸å›°éš¾ï¼Œæ˜¯å§ï¼Ÿ(^o^)/~</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200316121330.gif" alt="">
ç»è¿‡åˆ†æï¼Œå‘ç°ç½‘æ˜“äº‘æ­Œå•ä¸­çš„éŸ³ä¹æ ¼å¼å¦‚ä¸‹ï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200316121355.png" alt=""></p>
<p>å¥½ã€‚æˆ‘ä»¬æ–°å»ºä¸€ä¸ª<code>CloudMusicSpider.py</code>ï¼Œå¼€å§‹ç ä»£ç ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#!/usr/bin/env python</span>
<span style="color:#75715e">#-*- coding:utf8 -*-</span>
<span style="color:#f92672">import</span> requests <span style="color:#75715e">#å¯¼å…¥æ¨¡å—</span>
<span style="color:#f92672">from</span> fake_useragent <span style="color:#f92672">import</span> UserAgent <span style="color:#75715e">#å¯¼å…¥æ¨¡å—</span>

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getArtUrl</span>(artlist_url): <span style="color:#75715e">#è·å–éŸ³ä¹çœŸå®IDçš„å‡½æ•°</span>
    outerUrl <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;http://music.163.com/song/media/outer/url?id={0:s}.mp3&#34;</span> <span style="color:#75715e">#å¤–é“¾åœ°å€</span>
    HEADER <span style="color:#f92672">=</span> { <span style="color:#75715e">#ä¼ªé€ è¯·æ±‚å¤´ï¼Œé˜²æ­¢è¢«å°</span>
        <span style="color:#e6db74">&#39;Accept&#39;</span>: <span style="color:#e6db74">&#39;*/*&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Encoding&#39;</span>: <span style="color:#e6db74">&#39;gzip,deflate,sdch&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Language&#39;</span>: <span style="color:#e6db74">&#39;zh-CN,zh;q=0.8,gl;q=0.6,zh-TW;q=0.4&#39;</span>,
        <span style="color:#e6db74">&#39;Connection&#39;</span>: <span style="color:#e6db74">&#39;keep-alive&#39;</span>,
        <span style="color:#e6db74">&#39;Content-Type&#39;</span>: <span style="color:#e6db74">&#39;application/x-www-form-urlencoded&#39;</span>,
        <span style="color:#e6db74">&#39;Host&#39;</span>: <span style="color:#e6db74">&#39;music.163.com&#39;</span>,
        <span style="color:#e6db74">&#39;Referer&#39;</span>: <span style="color:#e6db74">&#39;https://music.163.com/search/&#39;</span>,
        <span style="color:#e6db74">&#39;User-Agent&#39;</span>: UserAgent()<span style="color:#f92672">.</span>random
    }
    response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url<span style="color:#f92672">=</span>url<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#39;#/&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>), headers<span style="color:#f92672">=</span>HEADER) <span style="color:#75715e">#ç½‘æ˜“äº‘éŸ³ä¹ä½¿ç”¨å¼‚æ­¥åŠ è½½ï¼Œéœ€è¦å»æ‰&#34;#/&#34;</span>
    soup <span style="color:#f92672">=</span> BeautifulSoup(response<span style="color:#f92672">.</span>text, <span style="color:#e6db74">&#34;html.parser&#34;</span>) <span style="color:#75715e">#bs4è¯»å–</span>
    aList <span style="color:#f92672">=</span> soup<span style="color:#f92672">.</span>select(<span style="color:#e6db74">&#34;a&#34;</span>) <span style="color:#75715e">#è·å–å…¨éƒ¨aæ ‡ç­¾</span>
    Songs <span style="color:#f92672">=</span> {} <span style="color:#75715e">#æ ¼å¼ä¸º{éŸ³ä¹å: &#34;å¤–é“¾åœ°å€&#34;}çš„å­—å…¸</span>
    <span style="color:#66d9ef">for</span> music <span style="color:#f92672">in</span> aList:
        <span style="color:#66d9ef">if</span> music<span style="color:#f92672">.</span>has_attr(<span style="color:#e6db74">&#34;href&#34;</span>): <span style="color:#75715e">#åˆ¤æ–­æ˜¯å¦æœ‰hrefå±æ€§</span>
            <span style="color:#66d9ef">if</span> str(music<span style="color:#f92672">.</span>attrs[<span style="color:#e6db74">&#34;href&#34;</span>])<span style="color:#f92672">.</span>startswith(<span style="color:#e6db74">&#34;/song?id=&#34;</span>): <span style="color:#75715e">#æ˜¯ä¸æ˜¯éŸ³ä¹ID</span>
                id <span style="color:#f92672">=</span> str(music<span style="color:#f92672">.</span>attrs[<span style="color:#e6db74">&#34;href&#34;</span>])<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;/song?id=&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>) <span style="color:#75715e">#è·å–çœŸå®ID</span>
                <span style="color:#66d9ef">try</span>:
                    Songs[music<span style="color:#f92672">.</span>text] <span style="color:#f92672">=</span> outerUrl<span style="color:#f92672">.</span>format(id) <span style="color:#75715e">#æ”¾å…¥å­—å…¸</span>
                <span style="color:#66d9ef">except</span>:
                    <span style="color:#66d9ef">pass</span>
    <span style="color:#66d9ef">return</span> Songs <span style="color:#75715e">#è¿”å›è¿™ä¸ªå­—å…¸</span>
</code></pre></div><p>æµ‹è¯•ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(getUrl(<span style="color:#e6db74">&#39;https://music.163.com/#/playlist?id=4874770876&#39;</span>))
</code></pre></div><p>ç»“æœåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">{<span style="color:#e6db74">&#39;Undertale&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=39227624.mp3&#39;</span>, <span style="color:#e6db74">&#39;sans.&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=39224615.mp3&#39;</span>, <span style="color:#e6db74">&#39;Tem Shop&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=39224629.mp3&#39;</span>, <span style="color:#e6db74">&#39;Undertale - Snowdin Town (****** Bootleg)&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=463498197.mp3&#39;</span>, <span style="color:#e6db74">&#34;It&#39;s Not Like I Like You!!(Instrumental)&#34;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=1385676402.mp3&#39;</span>, <span style="color:#e6db74">&#39;ä¼¼é¡”çµµåºƒå ´ (ä¼¼é¡”çµµãƒãƒ£ãƒ³ãƒãƒ«)&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=1378269172.mp3&#39;</span>, <span style="color:#e6db74">&#39;ã‚¹ãƒ†ãƒ¼ã‚¸ï¼šã‚³ãƒŸã‚«ãƒ« (ã‚µãƒ³ãƒ‰ã‚­ãƒ£ãƒ‹ã‚ªãƒ³)&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=28546263.mp3&#39;</span>, <span style="color:#e6db74">&#39;I Love You&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=31460297.mp3&#39;</span>, <span style="color:#e6db74">&#39;Ice Cream&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=35407675.mp3&#39;</span>, <span style="color:#e6db74">&#39;Dying&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=506092100.mp3&#39;</span>, <span style="color:#e6db74">&#39;${song.name|mark}-${listArtists(song.artists)}&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=${song.id}.mp3&#39;</span>, <span style="color:#e6db74">&#39;${soil(x.name)}&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=${x.id}.mp3&#39;</span>, <span style="color:#e6db74">&#39;{if x.album}{/if}&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=${x.id}.mp3&#39;</span>, <span style="color:#e6db74">&#39;${x.name}&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=${x.id}.mp3&#39;</span>}
</code></pre></div><p>ä¸ºå•¥ä¼šæœ‰<code>'${x.id}'</code>å’Œ<code>'${song.id}'</code>ï¼Ÿï¼Ÿæˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œä½†æ˜¯åªè¦æŠŠå®ƒè¿‡æ»¤å°±è¡Œäº†ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getArtUrl</span>(artlist_url): <span style="color:#75715e">#è·å–éŸ³ä¹çœŸå®IDçš„å‡½æ•°</span>
	outerUrl <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;http://music.163.com/song/media/outer/url?id={0:s}.mp3&#34;</span> <span style="color:#75715e">#å¤–é“¾åœ°å€</span>
    HEADER <span style="color:#f92672">=</span> { <span style="color:#75715e">#ä¼ªé€ è¯·æ±‚å¤´ï¼Œé˜²æ­¢è¢«å°</span>
        <span style="color:#e6db74">&#39;Accept&#39;</span>: <span style="color:#e6db74">&#39;*/*&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Encoding&#39;</span>: <span style="color:#e6db74">&#39;gzip,deflate,sdch&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Language&#39;</span>: <span style="color:#e6db74">&#39;zh-CN,zh;q=0.8,gl;q=0.6,zh-TW;q=0.4&#39;</span>,
        <span style="color:#e6db74">&#39;Connection&#39;</span>: <span style="color:#e6db74">&#39;keep-alive&#39;</span>,
        <span style="color:#e6db74">&#39;Content-Type&#39;</span>: <span style="color:#e6db74">&#39;application/x-www-form-urlencoded&#39;</span>,
        <span style="color:#e6db74">&#39;Host&#39;</span>: <span style="color:#e6db74">&#39;music.163.com&#39;</span>,
        <span style="color:#e6db74">&#39;Referer&#39;</span>: <span style="color:#e6db74">&#39;https://music.163.com/search/&#39;</span>,
        <span style="color:#e6db74">&#39;User-Agent&#39;</span>: UserAgent()<span style="color:#f92672">.</span>random
    }
    response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url<span style="color:#f92672">=</span>url<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#39;#/&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>), headers<span style="color:#f92672">=</span>HEADER) <span style="color:#75715e">#ç½‘æ˜“äº‘éŸ³ä¹ä½¿ç”¨å¼‚æ­¥iframeåŠ è½½ï¼Œéœ€è¦å»æ‰&#34;#/&#34;</span>
    soup <span style="color:#f92672">=</span> BeautifulSoup(response<span style="color:#f92672">.</span>text, <span style="color:#e6db74">&#34;html.parser&#34;</span>) <span style="color:#75715e">#bs4è¯»å–</span>
    aList <span style="color:#f92672">=</span> soup<span style="color:#f92672">.</span>select(<span style="color:#e6db74">&#34;a&#34;</span>) <span style="color:#75715e">#è·å–å…¨éƒ¨aæ ‡ç­¾</span>
    Songs <span style="color:#f92672">=</span> {} <span style="color:#75715e">#æ ¼å¼ä¸º{éŸ³ä¹å: &#34;å¤–é“¾åœ°å€&#34;}çš„å­—å…¸</span>
    <span style="color:#66d9ef">for</span> music <span style="color:#f92672">in</span> aList:
        <span style="color:#66d9ef">if</span> music<span style="color:#f92672">.</span>has_attr(<span style="color:#e6db74">&#34;href&#34;</span>): <span style="color:#75715e">#åˆ¤æ–­æ˜¯å¦æœ‰hrefå±æ€§</span>
            <span style="color:#66d9ef">if</span> str(music<span style="color:#f92672">.</span>attrs[<span style="color:#e6db74">&#34;href&#34;</span>])<span style="color:#f92672">.</span>startswith(<span style="color:#e6db74">&#34;/song?id=&#34;</span>): <span style="color:#75715e">#æ˜¯ä¸æ˜¯éŸ³ä¹ID</span>
                id <span style="color:#f92672">=</span> str(music<span style="color:#f92672">.</span>attrs[<span style="color:#e6db74">&#34;href&#34;</span>])<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#34;/song?id=&#34;</span>, <span style="color:#e6db74">&#34;&#34;</span>) <span style="color:#75715e">#è·å–çœŸå®ID</span>
                <span style="color:#66d9ef">try</span>:
                    <span style="color:#66d9ef">if</span> <span style="color:#f92672">not</span> <span style="color:#e6db74">&#39;${x.id}&#39;</span> <span style="color:#f92672">in</span> id <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> <span style="color:#e6db74">&#39;${song.id}&#39;</span> <span style="color:#f92672">in</span> id: <span style="color:#75715e">#è¿‡æ»¤</span>
                        Songs[music<span style="color:#f92672">.</span>text] <span style="color:#f92672">=</span> outerUrl<span style="color:#f92672">.</span>format(id) <span style="color:#75715e">#æ”¾å…¥å­—å…¸</span>
                <span style="color:#66d9ef">except</span>:
                    <span style="color:#66d9ef">pass</span>
    <span style="color:#66d9ef">return</span> Songs <span style="color:#75715e">#è¿”å›è¿™ä¸ªå­—å…¸</span>
</code></pre></div><p>ç»“æœï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">{<span style="color:#e6db74">&#39;Undertale&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=39227624.mp3&#39;</span>, <span style="color:#e6db74">&#39;sans.&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=39224615.mp3&#39;</span>, <span style="color:#e6db74">&#39;Tem Shop&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=39224629.mp3&#39;</span>, <span style="color:#e6db74">&#39;Undertale - Snowdin Town (****** Bootleg)&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=463498197.mp3&#39;</span>, <span style="color:#e6db74">&#34;It&#39;s Not Like I Like You!!(Instrumental)&#34;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=1385676402.mp3&#39;</span>, <span style="color:#e6db74">&#39;ä¼¼é¡”çµµåºƒå ´ (ä¼¼é¡”çµµãƒãƒ£ãƒ³ãƒãƒ«)&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=1378269172.mp3&#39;</span>, <span style="color:#e6db74">&#39;ã‚¹ãƒ†ãƒ¼ã‚¸ï¼šã‚³ãƒŸã‚«ãƒ« (ã‚µãƒ³ãƒ‰ã‚­ãƒ£ãƒ‹ã‚ªãƒ³)&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=28546263.mp3&#39;</span>, <span style="color:#e6db74">&#39;I Love You&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=31460297.mp3&#39;</span>, <span style="color:#e6db74">&#39;Ice Cream&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=35407675.mp3&#39;</span>, <span style="color:#e6db74">&#39;Dying&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=506092100.mp3&#39;</span>}
</code></pre></div><p>è¿™å°±å¾ˆå¥½äº†ã€‚ä¸è¿‡è¿™ç§æ–¹å¼æ€»è§‰å¾—ä¸æ˜¯å¾ˆå¦¥ã€‚æ¯•ç«Ÿè¿™ä¸ªé—®é¢˜æˆ‘ä»¬ä¸çŸ¥é“è¿˜ä¼šæœ‰å¤šå°‘ä¸ªç±»ä¼¼é”™è¯¯ã€‚äºæ˜¯æˆ‘è¦ç¥­å‡ºæˆ‘çš„æ­£åˆ™è¡¨è¾¾å¼å¤§æ³•äº†ï¼ï¼ˆçœ‹æ¥BeautifulSoupä¹Ÿä¸éœ€è¦äº†ï¼‰</p>
<p>å¯¼å…¥æ¨¡å—ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> requests<span style="color:#f92672">,</span> re <span style="color:#75715e">#å¯¼å…¥æ¨¡å—</span>
<span style="color:#f92672">from</span> fake_useragent <span style="color:#f92672">import</span> UserAgent <span style="color:#75715e">#å¯¼å…¥æ¨¡å—</span>
</code></pre></div><p>æ­£åˆ™è¡¨è¾¾å¼ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">&lt;</span>a href<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/song\?id=(\d+)&#34;</span><span style="color:#f92672">&gt;</span>(<span style="color:#f92672">.*</span><span style="color:#960050;background-color:#1e0010">?</span>)<span style="color:#f92672">&lt;/</span>a<span style="color:#f92672">&gt;</span>
</code></pre></div><p><code>\?</code>ï¼šé—®å·è¦è½¬ä¹‰ï¼Œä¸ç„¶ä¼šè¢«è®¤ä¸ºæ˜¯åŒ¹é…æ“ä½œç¬¦ã€‚</p>
<p><code>(\d+)</code>ï¼šå¤šä¸ªæ•°å­—å½¢æˆçš„å­ç»„ã€‚</p>
<p><code>(.*?)</code>ï¼šåŒ¹é…ä»»ä½•æ–‡å­—ï¼ˆæ­Œæ›²åç§°ï¼‰ã€‚</p>
<p>è¿™æ ·ï¼ŒåŒ¹é…ä¸€ä¸ªï¼Œå®ƒå°±ä¼šè¿”å›ä¸€ä¸ªæ ¼å¼ä¸º<code>(æ­Œæ›²ID, æ­Œæ›²åç§°)</code>çš„å…ƒç»„ã€‚</p>
<p>äºæ˜¯æˆ‘ä»¬æœ€ç»ˆçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#!/usr/bin/env python</span>
<span style="color:#75715e">#-*- coding:utf8 -*-</span>
<span style="color:#e6db74">&#39;&#39;&#39;
</span><span style="color:#e6db74">@Author  :   Ray
</span><span style="color:#e6db74">@Contact :   ray@raycoder.me
</span><span style="color:#e6db74">@Software:   PyCharm
</span><span style="color:#e6db74">@File    :   init.py
</span><span style="color:#e6db74">@Time    :   2020/2/23 21:19
</span><span style="color:#e6db74">&#39;&#39;&#39;</span>
<span style="color:#f92672">import</span> requests<span style="color:#f92672">,</span> re
<span style="color:#f92672">from</span> fake_useragent <span style="color:#f92672">import</span> UserAgent

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getArtUrl</span>(artlist_url): <span style="color:#75715e">#è·å–éŸ³ä¹çœŸå®IDçš„å‡½æ•°</span>
    outerUrl <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;http://music.163.com/song/media/outer/url?id={0:s}.mp3&#34;</span> <span style="color:#75715e">#å¤–é“¾åœ°å€</span>
    HEADER <span style="color:#f92672">=</span> { <span style="color:#75715e">#ä¼ªé€ è¯·æ±‚å¤´ï¼Œé˜²æ­¢è¢«å°</span>
        <span style="color:#e6db74">&#39;Accept&#39;</span>: <span style="color:#e6db74">&#39;*/*&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Encoding&#39;</span>: <span style="color:#e6db74">&#39;gzip,deflate,sdch&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Language&#39;</span>: <span style="color:#e6db74">&#39;zh-CN,zh;q=0.8,gl;q=0.6,zh-TW;q=0.4&#39;</span>,
        <span style="color:#e6db74">&#39;Connection&#39;</span>: <span style="color:#e6db74">&#39;keep-alive&#39;</span>,
        <span style="color:#e6db74">&#39;Content-Type&#39;</span>: <span style="color:#e6db74">&#39;application/x-www-form-urlencoded&#39;</span>,
        <span style="color:#e6db74">&#39;Host&#39;</span>: <span style="color:#e6db74">&#39;music.163.com&#39;</span>,
        <span style="color:#e6db74">&#39;Referer&#39;</span>: <span style="color:#e6db74">&#39;https://music.163.com/search/&#39;</span>,
        <span style="color:#e6db74">&#39;User-Agent&#39;</span>: UserAgent()<span style="color:#f92672">.</span>random
    }
    response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url<span style="color:#f92672">=</span>url<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#39;#/&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>), headers<span style="color:#f92672">=</span>HEADER) <span style="color:#75715e">#ç½‘æ˜“äº‘éŸ³ä¹ä½¿ç”¨å¼‚æ­¥iframeåŠ è½½ï¼Œéœ€è¦å»æ‰&#34;#/&#34;</span>
    songs <span style="color:#f92672">=</span> {} <span style="color:#75715e">#å«æœ‰éŸ³ä¹IDåŠåç§°çš„å­—å…¸</span>
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;&lt;a href=&#34;/song\?id=(\d+)&#34;&gt;(.*?)&lt;/a&gt;&#39;</span>, response<span style="color:#f92672">.</span>text):<span style="color:#75715e">#éå†åŒ¹é…çš„å¯¹è±¡</span>
        songs[i[<span style="color:#ae81ff">1</span>]] <span style="color:#f92672">=</span> outerUrl<span style="color:#f92672">.</span>format(i[<span style="color:#ae81ff">0</span>]) <span style="color:#75715e">#å­˜å…¥å­—å…¸</span>
    <span style="color:#66d9ef">return</span> songs
</code></pre></div><p>æµ‹è¯•ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">print</span>(getUrl(<span style="color:#e6db74">&#39;https://music.163.com/#/playlist?id=4874770876&#39;</span>))
</code></pre></div><p>è¿”å›å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">{<span style="color:#e6db74">&#39;Prelude&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=441612739.mp3&#39;</span>, <span style="color:#e6db74">&#39;Marble Soda [Explicit]&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=400876011.mp3&#39;</span>, <span style="color:#e6db74">&#39;Snowdin Town&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=39227596.mp3&#39;</span>, <span style="color:#e6db74">&#39;Monkeys Spinning Monkeys&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=403711640.mp3&#39;</span>, <span style="color:#e6db74">&#39;Overworld Theme (GFM Trap Remix)&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=467590509.mp3&#39;</span>, <span style="color:#e6db74">&#39;Pizza&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=1302090422.mp3&#39;</span>, <span style="color:#e6db74">&#39;King Dedede&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=27518579.mp3&#39;</span>, <span style="color:#e6db74">&#39;Undertale&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=39227624.mp3&#39;</span>, <span style="color:#e6db74">&#39;sans.&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=39224615.mp3&#39;</span>, <span style="color:#e6db74">&#39;Tem Shop&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=39224629.mp3&#39;</span>, <span style="color:#e6db74">&#39;Undertale - Snowdin Town (****** Bootleg)&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=463498197.mp3&#39;</span>, <span style="color:#e6db74">&#34;It&#39;s Not Like I Like You!!(Instrumental)&#34;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=1385676402.mp3&#39;</span>, <span style="color:#e6db74">&#39;ä¼¼é¡”çµµåºƒå ´ (ä¼¼é¡”çµµãƒãƒ£ãƒ³ãƒãƒ«)&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=1378269172.mp3&#39;</span>, <span style="color:#e6db74">&#39;ã‚¹ãƒ†ãƒ¼ã‚¸ï¼šã‚³ãƒŸã‚«ãƒ« (ã‚µãƒ³ãƒ‰ã‚­ãƒ£ãƒ‹ã‚ªãƒ³)&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=28546263.mp3&#39;</span>, <span style="color:#e6db74">&#39;I Love You&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=31460297.mp3&#39;</span>, <span style="color:#e6db74">&#39;Ice Cream&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=35407675.mp3&#39;</span>, <span style="color:#e6db74">&#39;Dying&#39;</span>: <span style="color:#e6db74">&#39;http://music.163.com/song/media/outer/url?id=506092100.mp3&#39;</span>}
</code></pre></div><p>æœ€å¥½å°†å…¶åšæˆä¸€ä¸ª<code>class</code>ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#!/usr/bin/env python</span>
<span style="color:#75715e">#-*- coding:utf8 -*-</span>
<span style="color:#e6db74">&#39;&#39;&#39;
</span><span style="color:#e6db74">@Author  :   Ray
</span><span style="color:#e6db74">@Contact :   ray@raycoder.me
</span><span style="color:#e6db74">@Software:   PyCharm
</span><span style="color:#e6db74">@File    :   init.py
</span><span style="color:#e6db74">@Time    :   2020/2/23 21:19
</span><span style="color:#e6db74">&#39;&#39;&#39;</span>
<span style="color:#f92672">import</span> requests<span style="color:#f92672">,</span> re
<span style="color:#f92672">from</span> fake_useragent <span style="color:#f92672">import</span> UserAgent

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CloudMusicSpider</span>():
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getArtUrl</span>(self, artlist_url): <span style="color:#75715e">#è·å–éŸ³ä¹çœŸå®IDçš„å‡½æ•°</span>
        outerUrl <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;http://music.163.com/song/media/outer/url?id={0:s}.mp3&#34;</span> <span style="color:#75715e">#å¤–é“¾åœ°å€</span>
        HEADER <span style="color:#f92672">=</span> { <span style="color:#75715e">#ä¼ªé€ è¯·æ±‚å¤´ï¼Œé˜²æ­¢è¢«å°</span>
            <span style="color:#e6db74">&#39;Accept&#39;</span>: <span style="color:#e6db74">&#39;*/*&#39;</span>,
            <span style="color:#e6db74">&#39;Accept-Encoding&#39;</span>: <span style="color:#e6db74">&#39;gzip,deflate,sdch&#39;</span>,
            <span style="color:#e6db74">&#39;Accept-Language&#39;</span>: <span style="color:#e6db74">&#39;zh-CN,zh;q=0.8,gl;q=0.6,zh-TW;q=0.4&#39;</span>,
            <span style="color:#e6db74">&#39;Connection&#39;</span>: <span style="color:#e6db74">&#39;keep-alive&#39;</span>,
            <span style="color:#e6db74">&#39;Content-Type&#39;</span>: <span style="color:#e6db74">&#39;application/x-www-form-urlencoded&#39;</span>,
            <span style="color:#e6db74">&#39;Host&#39;</span>: <span style="color:#e6db74">&#39;music.163.com&#39;</span>,
            <span style="color:#e6db74">&#39;Referer&#39;</span>: <span style="color:#e6db74">&#39;https://music.163.com/&#39;</span>,
            <span style="color:#e6db74">&#39;User-Agent&#39;</span>: UserAgent()<span style="color:#f92672">.</span>random
        }
        response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url<span style="color:#f92672">=</span>url<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#39;#/&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>), headers<span style="color:#f92672">=</span>HEADER) <span style="color:#75715e">#ç½‘æ˜“äº‘éŸ³ä¹ä½¿ç”¨å¼‚æ­¥iframeåŠ è½½ï¼Œéœ€è¦å»æ‰&#34;#/&#34;</span>
        songs <span style="color:#f92672">=</span> {}
        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;&lt;a href=&#34;/song\?id=(\d+)&#34;&gt;(.*?)&lt;/a&gt;&#39;</span>, response<span style="color:#f92672">.</span>text):
            songs[i[<span style="color:#ae81ff">1</span>]] <span style="color:#f92672">=</span> outerUrl<span style="color:#f92672">.</span>format(i[<span style="color:#ae81ff">0</span>])
        <span style="color:#66d9ef">return</span> songs
</code></pre></div><p>æµ‹è¯•ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> CloudMusicSpider <span style="color:#f92672">import</span> CloudMusicSpider
spider<span style="color:#f92672">=</span>CloudMusicSpider()
<span style="color:#66d9ef">print</span>(spider<span style="color:#f92672">.</span>getArtUrl(<span style="color:#e6db74">&#39;https://music.163.com/#/playlist?id=4874770876&#39;</span>))
</code></pre></div><p>å¥½çš„ï¼Œæˆ‘ä»¬è¿™æ ·å­æŠŠå®ƒåšæˆä¸€ä¸ªæ¨¡å—å¤‡ç”¨ã€‚</p>
<p>ä¸‹ä¸€ç¯‡æ–‡ç« æˆ‘ä¼šå’Œå¤§å®¶è®²çˆ¬è™«<code>ä¸‹è½½æ–‡ä»¶</code>çš„æ–¹æ³•ã€‚æˆ‘ä¹‹åä¼šå†™ä¸€ç¯‡æœ‰å…³<code>æ­£åˆ™è¡¨è¾¾å¼</code>çš„æ–‡ç« ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/python/">Python</category><category domain="https://raycoder.me/categories/%E7%88%AC%E8%99%AB/">çˆ¬è™«</category><category domain="https://raycoder.me/tags/python/">Python</category><category domain="https://raycoder.me/tags/%E7%88%AC%E8%99%AB/">çˆ¬è™«</category><category domain="https://raycoder.me/tags/%E7%A6%8F%E5%88%A9/">ç¦åˆ©</category><category domain="https://raycoder.me/tags/%E7%BD%91%E6%98%93/">ç½‘æ˜“</category><category domain="https://raycoder.me/tags/%E7%A0%B4%E8%A7%A3/">ç ´è§£</category><category domain="https://raycoder.me/tags/%E9%9F%B3%E4%B9%90/">éŸ³ä¹</category><category domain="https://raycoder.me/tags/%E4%BC%9A%E5%91%98/">ä¼šå‘˜</category><category domain="https://raycoder.me/tags/python%E8%BF%9B%E9%98%B6/">Pythonè¿›é˜¶</category></item><item><title>ä»é›¶å¼€å§‹å†™ä¸€ä¸ªéŸ³ä¹çˆ¬è™«-3ï¼šé…·ç‹—éŸ³ä¹</title><link>https://raycoder.me/p/kugoumusic-spider-artlist/</link><guid isPermaLink="true">https://raycoder.me/p/kugoumusic-spider-artlist/</guid><pubDate>Tue, 18 Feb 2020 21:48:00 +0800</pubDate><description><![CDATA[<p><strong>æœ¬æ–‡å°†ä¼šè¯¦ç»†çš„å†™ä»é›¶å¼€å§‹åˆ¶ä½œé…·ç‹—éŸ³ä¹çˆ¬è™«çš„è¿‡ç¨‹ï¼Œå¯ä»¥ä¸‹è½½é…·ç‹—éŸ³ä¹éŸ³ä¹ä»˜è´¹æ­Œæ›²ï¼Œä½¿ç”¨Python3å¼€å‘ã€‚</strong></p>
<!-- more -->
<p>éšä¾¿æ‰“å¼€ä¸€ä¸ªæ­Œå•ï¼Œå³é”®æ£€æŸ¥å±æ€§å‘ç°è¿™ä¸ª<code>&lt;a&gt;</code>æ ‡ç­¾ä¸­å«æœ‰<code>data</code>ã€‚</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200316114956.png" alt=""></p>
<p>ç‚¹è¿›å»æ’­æ”¾ï¼Œä¼šå‘ç°ï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200316115025.png" alt=""></p>
<p>çœ‹æ¥ï¼ŒéŸ³ä¹å¤–é“¾å’Œè¿™ä¸ª<code>hash</code>å“ˆå¸Œå€¼æ˜¯è„±ä¸äº†å…³ç³»çš„äº†ã€‚</p>
<p>äº‹å®ä¸Šï¼Œé…·ç‹—éŸ³ä¹æ­Œæ›²æ•°æ®å¤–é“¾å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">http://www.kugou.com/yy/index.php?r=play/getdata&amp;hash=&lt;åˆšæ‰çœ‹åˆ°çš„å“ˆå¸Œå€¼&gt;
</code></pre></div><p>å¡«å…¥åˆšåˆšçœ‹åˆ°çš„å€¼ï¼ˆURLï¼š<code>https://www.kugou.com/yy/index.php?r=play/getdata&amp;hash=FE2A4AC53981BB3FAF077CCA2461401A</code>ï¼‰ï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹ç»“æœï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
	<span style="color:#f92672">&#34;status&#34;</span>:<span style="color:#ae81ff">1</span>,
	<span style="color:#f92672">&#34;err_code&#34;</span>:<span style="color:#ae81ff">0</span>,
	<span style="color:#f92672">&#34;data&#34;</span>:{
		<span style="color:#f92672">&#34;hash&#34;</span>:<span style="color:#e6db74">&#34;FE2A4AC53981BB3FAF077CCA2461401A&#34;</span>,
		<span style="color:#f92672">&#34;timelength&#34;</span>:<span style="color:#ae81ff">76000</span>,
		<span style="color:#f92672">&#34;filesize&#34;</span>:<span style="color:#ae81ff">1220066</span>,
		<span style="color:#f92672">&#34;audio_name&#34;</span>:<span style="color:#e6db74">&#34;Toby Fox - Snowdin Town&#34;</span>,
		<span style="color:#f92672">&#34;have_album&#34;</span>:<span style="color:#ae81ff">1</span>,
		<span style="color:#f92672">&#34;album_name&#34;</span>:<span style="color:#e6db74">&#34;UNDERTALE Soundtrack&#34;</span>,
		<span style="color:#f92672">&#34;album_id&#34;</span>:<span style="color:#e6db74">&#34;1983482&#34;</span>,
		<span style="color:#f92672">&#34;img&#34;</span>:<span style="color:#e6db74">&#34;http:\/\/imge.kugou.com\/stdmusic\/20170320\/20170320173006740587.jpg&#34;</span>,
		<span style="color:#f92672">&#34;have_mv&#34;</span>:<span style="color:#ae81ff">0</span>,
		<span style="color:#f92672">&#34;video_id&#34;</span>:<span style="color:#ae81ff">0</span>,
		<span style="color:#f92672">&#34;author_name&#34;</span>:<span style="color:#e6db74">&#34;Toby Fox&#34;</span>,
		<span style="color:#f92672">&#34;song_name&#34;</span>:<span style="color:#e6db74">&#34;Snowdin Town&#34;</span>,
		<span style="color:#f92672">&#34;lyrics&#34;</span>:<span style="color:#e6db74">&#34;\ufeff[id:$00000000]\r\n[ar:arkady sevidov]\r\n[ti:June]\r\n[by:]\r\n[hash:4399c9872c7235b60b58ce88dc487897]\r\n[al:]\r\n[sign:]\r\n[qq:]\r\n[total:320317]\r\n[offset:0]\r\n[00:01.58]\u7eaf\u97f3\u4e50\uff0c\u8bf7\u6b23\u8d4f\r\n&#34;</span>,
		<span style="color:#f92672">&#34;author_id&#34;</span>:<span style="color:#e6db74">&#34;579236&#34;</span>,
		<span style="color:#f92672">&#34;privilege&#34;</span>:<span style="color:#ae81ff">8</span>,
		<span style="color:#f92672">&#34;privilege2&#34;</span>:<span style="color:#e6db74">&#34;1000&#34;</span>,
		<span style="color:#f92672">&#34;play_url&#34;</span>:<span style="color:#e6db74">&#34;https:\/\/webfs.yun.kugou.com\/202002251957\/d2bff4d2209ca251954d38990445b8d2\/G057\/M08\/1A\/17\/GZQEAFaVAR6AYuQ_ABKd4lSFeUo118.mp3&#34;</span>,
		<span style="color:#f92672">&#34;authors&#34;</span>:[
			{
			<span style="color:#f92672">&#34;author_id&#34;</span>:<span style="color:#e6db74">&#34;579236&#34;</span>,
			<span style="color:#f92672">&#34;sizable_avatar&#34;</span>:<span style="color:#e6db74">&#34;http:\/\/singerimg.kugou.com\/uploadpic\/softhead\/{size}\/20171223\/20171223024709440.jpg&#34;</span>,
			<span style="color:#f92672">&#34;is_publish&#34;</span>:<span style="color:#e6db74">&#34;1&#34;</span>,
			<span style="color:#f92672">&#34;author_name&#34;</span>:<span style="color:#e6db74">&#34;Toby Fox&#34;</span>,
			<span style="color:#f92672">&#34;avatar&#34;</span>:<span style="color:#e6db74">&#34;http:\/\/singerimg.kugou.com\/uploadpic\/softhead\/400\/20171223\/20171223024709440.jpg&#34;</span>
			}
		],
		<span style="color:#f92672">&#34;is_free_part&#34;</span>:<span style="color:#ae81ff">0</span>,
		<span style="color:#f92672">&#34;bitrate&#34;</span>:<span style="color:#ae81ff">128</span>,
		<span style="color:#f92672">&#34;audio_id&#34;</span>:<span style="color:#e6db74">&#34;20519359&#34;</span>,
		<span style="color:#f92672">&#34;play_backup_url&#34;</span>:<span style="color:#e6db74">&#34;https:\/\/webfs.cloud.kugou.com\/202002251957\/5d639c7a92c6750b759cab7e718ede04\/G057\/M08\/1A\/17\/GZQEAFaVAR6AYuQ_ABKd4lSFeUo118.mp3&#34;</span>
	}
}
</code></pre></div><p>æˆ‘ä»¬æ‰“å¼€è¿™ä¸ª<code>play_url</code>ï¼ˆ<code>https:\/\/webfs.yun.kugou.com\/202002251957\/d2bff4d2209ca251954d38990445b8d2\/G057\/M08\/1A\/17\/GZQEAFaVAR6AYuQ_ABKd4lSFeUo118.mp3</code>ï¼‰ï¼Œå°±ä¼šæ‰“å¼€çœŸå®çš„éŸ³ä¹åœ°å€ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬é…·ç‹—éŸ³ä¹è·å–çœŸå®ä¸‹è½½é“¾æ¥çš„æµç¨‹å¦‚ä¸‹ï¼š</p>
<div class="mermaid">
graph TD;
    åˆå§‹åŒ–ç¨‹åºï¼Œå¼•å…¥æ¨¡å—-->æ‰¹é‡è·å–å“ˆå¸Œå€¼;
    æ‰¹é‡è·å–å“ˆå¸Œå€¼-->æ‰“å¼€jsonæ–‡ä»¶;
    æ‰“å¼€jsonæ–‡ä»¶-->å¾—åˆ°play_url;
    å¾—åˆ°play_url--ä¸‹è½½éŸ³ä¹;
</div>
<p>å…ˆå°è¯•æ€§è·å–hashï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#!/usr/bin/env python</span>
<span style="color:#75715e">#-*- coding:utf8 -*-</span>
<span style="color:#e6db74">&#39;&#39;&#39;
</span><span style="color:#e6db74">@Author  :   Ray
</span><span style="color:#e6db74">@Contact :   ray@raycoder.me
</span><span style="color:#e6db74">@Software:   PyCharm
</span><span style="color:#e6db74">@File    :   KugouSpider.py
</span><span style="color:#e6db74">@Time    :   2019/11/4 21:19
</span><span style="color:#e6db74">&#39;&#39;&#39;</span>

<span style="color:#f92672">import</span> requests<span style="color:#f92672">,</span> re
<span style="color:#f92672">from</span> fake_useragent <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
<span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> randint

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">KugouSpider</span>():
    HEADER <span style="color:#f92672">=</span> {  <span style="color:#75715e"># ä¼ªé€ è¯·æ±‚å¤´ï¼Œé˜²æ­¢è¢«å°IP</span>
        <span style="color:#e6db74">&#39;Accept&#39;</span>: <span style="color:#e6db74">&#39;*/*&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Encoding&#39;</span>: <span style="color:#e6db74">&#39;gzip,deflate,sdch&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Language&#39;</span>: <span style="color:#e6db74">&#39;zh-CN,zh;q=0.8,gl;q=0.6,zh-TW;q=0.4&#39;</span>,
        <span style="color:#e6db74">&#39;Connection&#39;</span>: <span style="color:#e6db74">&#39;keep-alive&#39;</span>,
        <span style="color:#e6db74">&#39;Content-Type&#39;</span>: <span style="color:#e6db74">&#39;application/x-www-form-urlencoded&#39;</span>,
        <span style="color:#e6db74">&#39;Referer&#39;</span>: <span style="color:#e6db74">&#39;https://kugou.com/&#39;</span>,
        <span style="color:#e6db74">&#39;User-Agent&#39;</span>: UserAgent()<span style="color:#f92672">.</span>random
    }

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getArtUrl</span>(self, artlist_url):
        jsonUrl <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;http://www.kugou.com/yy/index.php?r=play/getdata&amp;hash={0:s}&#39;</span>
        response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url <span style="color:#f92672">=</span> artlist_url, headers <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>HEADER)
        songs <span style="color:#f92672">=</span> {}
        <span style="color:#75715e">#print(response.text)</span>
        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;&lt;a title=&#34;.+&#34; hidefocus=&#34;true&#34; href=&#34;javascript:;&#34; data=&#34;(\w+)\|\d+&#34;&gt;&#39;</span>, response<span style="color:#f92672">.</span>text):
            <span style="color:#75715e">#print(jsonUrl.format(i))</span>
            jsonfile <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url <span style="color:#f92672">=</span> jsonUrl<span style="color:#f92672">.</span>format(i), headers <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>HEADER, cookies <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>cookies)
            jsondata <span style="color:#f92672">=</span> jsonfile<span style="color:#f92672">.</span>json()
            <span style="color:#75715e">#print(jsondata)</span>
            <span style="color:#66d9ef">try</span>:
                songs[jsondata[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;audio_name&#39;</span>]] <span style="color:#f92672">=</span> jsondata[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;play_url&#39;</span>]
            <span style="color:#66d9ef">except</span>:
                <span style="color:#66d9ef">pass</span>
        <span style="color:#66d9ef">return</span> songs
</code></pre></div><p>å“å‘€ï¼æœ€åè¿”å›äº†ä¸€ä¸ªç©ºå­—å…¸ï¼<code>{}</code>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘è§‚å¯Ÿåå‘ç°ï¼Œé…·ç‹—éœ€è¦æ·»åŠ ä¸€ä¸ª<code>cookie</code>æ‰å¯ä»¥è®¿é—®åˆ°æ•°æ®ã€‚</p>
<p>æˆ‘ä»¬åŠ ä¸€ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getUrl</span>(self, artlist_url):
        jsonUrl <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;http://www.kugou.com/yy/index.php?r=play/getdata&amp;hash={0:s}&#39;</span>
        response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url <span style="color:#f92672">=</span> artlist_url, headers <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>HEADER)
        songs <span style="color:#f92672">=</span> {}
        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;&lt;a title=&#34;.+&#34; hidefocus=&#34;true&#34; href=&#34;javascript:;&#34; data=&#34;(\w+)\|\d+&#34;&gt;&#39;</span>, response<span style="color:#f92672">.</span>text):
            jsonfile <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url <span style="color:#f92672">=</span> jsonUrl<span style="color:#f92672">.</span>format(i), headers <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>HEADER, cookies <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;kg_mid&#39;</span>: <span style="color:#e6db74">&#39;1&#39;</span>})
            jsondata <span style="color:#f92672">=</span> jsonfile<span style="color:#f92672">.</span>json()
            <span style="color:#66d9ef">try</span>:
                songs[jsondata[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;audio_name&#39;</span>]] <span style="color:#f92672">=</span> jsondata[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;play_url&#39;</span>]
            <span style="color:#66d9ef">except</span>:
                <span style="color:#66d9ef">pass</span>
        <span style="color:#66d9ef">return</span> songs
</code></pre></div><p>å—¯ï¼Ÿè¿˜æ˜¯æ²¡æœ‰æ•°æ®ï¼æˆ‘è§‰å¾—å¯èƒ½æ˜¯<code>HEADER</code>ä¸­çš„<code>host</code>çš„é—®é¢˜ã€‚</p>
<p>æŠŠå®ƒå»æ‰ï¼</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">KugouSpider</span>():
    HEADER <span style="color:#f92672">=</span> {
        <span style="color:#e6db74">&#39;Accept&#39;</span>: <span style="color:#e6db74">&#39;*/*&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Encoding&#39;</span>: <span style="color:#e6db74">&#39;gzip,deflate,sdch&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Language&#39;</span>: <span style="color:#e6db74">&#39;zh-CN,zh;q=0.8,gl;q=0.6,zh-TW;q=0.4&#39;</span>,
        <span style="color:#e6db74">&#39;Connection&#39;</span>: <span style="color:#e6db74">&#39;keep-alive&#39;</span>,
        <span style="color:#e6db74">&#39;Content-Type&#39;</span>: <span style="color:#e6db74">&#39;application/x-www-form-urlencoded&#39;</span>,
        <span style="color:#e6db74">&#39;Referer&#39;</span>: <span style="color:#e6db74">&#39;https://kugou.com/&#39;</span>,
        <span style="color:#e6db74">&#39;User-Agent&#39;</span>: UserAgent()<span style="color:#f92672">.</span>random
    }
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getUrl</span>(self, artlist_url):
        jsonUrl <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;http://www.kugou.com/yy/index.php?r=play/getdata&amp;hash={0:s}&#39;</span>
        response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url <span style="color:#f92672">=</span> artlist_url, headers <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>HEADER)
        songs <span style="color:#f92672">=</span> {}
        <span style="color:#75715e">#print(response.text)</span>
        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;&lt;a title=&#34;.+&#34; hidefocus=&#34;true&#34; href=&#34;javascript:;&#34; data=&#34;(\w+)\|\d+&#34;&gt;&#39;</span>, response<span style="color:#f92672">.</span>text):
            <span style="color:#75715e">#print(jsonUrl.format(i))</span>
            jsonfile <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url <span style="color:#f92672">=</span> jsonUrl<span style="color:#f92672">.</span>format(i), headers <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>HEADER, cookies <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;kg_mid&#39;</span>: <span style="color:#e6db74">&#39;1&#39;</span>})
            jsondata <span style="color:#f92672">=</span> jsonfile<span style="color:#f92672">.</span>json()
            <span style="color:#66d9ef">try</span>:
                songs[jsondata[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;audio_name&#39;</span>]] <span style="color:#f92672">=</span> jsondata[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;play_url&#39;</span>]
            <span style="color:#66d9ef">except</span>:
                <span style="color:#66d9ef">pass</span>
        <span style="color:#66d9ef">return</span> songs
</code></pre></div><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±è·å¾—äº†çœŸå®çš„æ•°æ®ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">{<span style="color:#e6db74">&#39;Toby Fox - Snowy&#39;</span>: <span style="color:#e6db74">&#39;https://webfs.yun.kugou.com/202002280800/8b338c7c966f73984a16d332fe0a1905/G053/M04/0C/10/dQ0DAFaVAPCAdhQcABl6n5DvBc0140.mp3&#39;</span>, <span style="color:#e6db74">&#39;Toby Fox - Undertale&#39;</span>: <span style="color:#e6db74">&#39;https://webfs.yun.kugou.com/202002280800/91772c1108ab0627888c84f9fb6380f1/G057/M04/17/05/eQ0DAFaiNEWAXZVoAF0rmY34-tU840.mp3&#39;</span>, <span style="color:#e6db74">&#39;Toby Fox - Tem Shop&#39;</span>: <span style="color:#e6db74">&#39;https://webfs.yun.kugou.com/202002280800/02fb916f700f9df912d93daa77c9d420/G055/M0A/06/07/14YBAFaVAdyIb_RdAAsQ0yCL9vEAAAorgG2O-IACxDr193.mp3&#39;</span>, <span style="color:#e6db74">&#39;Toby Fox - sans.&#39;</span>: <span style="color:#e6db74">&#39;https://webfs.yun.kugou.com/202002280800/3580fcc155cd84b346acc9465504b01a/G052/M02/0C/07/1IYBAFaVAOWINLXsAAxhJsPWw2UAAAy4gIAOs0ADGE-807.mp3&#39;</span>, <span style="color:#e6db74">&#39;Toby Fox - Dogsong&#39;</span>: <span style="color:#e6db74">&#39;https://webfs.yun.kugou.com/202002280800/399c52d789e7f659001ab84e2bcfa823/G055/M00/06/11/F5QEAFaVARWIZFBMAAkgfyVHyJ4AAAoqAMZ4XYACSCX641.mp3&#39;</span>}
</code></pre></div><p>ä¸å¯¹å‘€ï¼ä¸ºä»€ä¹ˆåªæ‰¾åˆ°äº†å‡ é¦–éŸ³ä¹ï¼Ÿæˆ‘ä»¬æ‰“å°ä¸€ä¸‹<code>jsondata</code>ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getUrl</span>(self, artlist_url):
    jsonUrl <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;http://www.kugou.com/yy/index.php?r=play/getdata&amp;hash={0:s}&#39;</span>
    response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url <span style="color:#f92672">=</span> artlist_url, headers <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>HEADER)
    songs <span style="color:#f92672">=</span> {}
    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;&lt;a title=&#34;.+&#34; hidefocus=&#34;true&#34; href=&#34;javascript:;&#34; data=&#34;(\w+)\|\d+&#34;&gt;&#39;</span>, response<span style="color:#f92672">.</span>text):
        jsonfile <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url <span style="color:#f92672">=</span> jsonUrl<span style="color:#f92672">.</span>format(i), headers <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>HEADER, cookies <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;kg_mid&#39;</span>: <span style="color:#e6db74">&#39;1&#39;</span>})
        jsondata <span style="color:#f92672">=</span> jsonfile<span style="color:#f92672">.</span>json()
        <span style="color:#66d9ef">print</span>(jsondata)
        <span style="color:#66d9ef">try</span>:
            <span style="color:#66d9ef">pass</span>
            <span style="color:#75715e">#songs[jsondata[&#39;data&#39;][&#39;audio_name&#39;]] = jsondata[&#39;data&#39;][&#39;play_url&#39;]</span>
        <span style="color:#66d9ef">except</span>:
            <span style="color:#66d9ef">pass</span>
    <span style="color:#66d9ef">return</span> songs
</code></pre></div><p>WocåŸæ¥è¿™ä¸ªä¸œè¥¿è¿”å›çš„æ˜¯è¿™ç§æ•°æ®ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">{<span style="color:#e6db74">&#39;status&#39;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;err_code&#39;</span>: <span style="color:#ae81ff">30020</span>, <span style="color:#e6db74">&#39;data&#39;</span>: {<span style="color:#e6db74">&#39;SSA-CODE&#39;</span>: <span style="color:#e6db74">&#39;bj_event_ee07e35318276c48c519523c26d9f4ce&#39;</span>, <span style="color:#e6db74">&#39;SSA-HMID&#39;</span>: <span style="color:#e6db74">&#39;1&#39;</span>}}
</code></pre></div><p>æˆ‘ä»¬éšä¾¿æ‰“å¼€ä¸€ä¸ª<code>hash</code>æºé“¾ï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200316115218.png" alt=""></p>
<p>ä¹Ÿæ˜¯è¿™ç§æƒ…å†µã€‚</p>
<p>æˆ‘ä»¬å†æ‰“å¼€æ’­æ”¾åœ°å€<code>https://www.kugou.com/song/#hash=FE2A4AC53981BB3FAF077CCA2461401A&amp;album_id=1983482</code>ï¼šå–”ï¼å®ƒå‡ºç°äº†ä¸€ä¸ªéªŒè¯ç ã€‚è¿™ä¸ªä¸œè¥¿å°±æ˜¯ç½ªé­ç¥¸é¦–ã€‚</p>
<p>éªŒè¯ä¹‹åå†æ‰“å¼€<code>hashæºé“¾</code>ï¼Œæ•°æ®å°±å‡ºç°äº†ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ¤æ–­é…·ç‹—éŸ³ä¹è¿™ä¸ª<code>cookie</code>ä¸æ­¢<code>kg_mid</code>ä¸€ä¸ªã€‚</p>
<p>æˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼š</p>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200316115245.png" alt=""></p>
<p>è¿™é‡Œæœ‰æ¶å¿ƒçš„<code>cookie</code>ï¼</p>
<p>æŠŠå®ƒä»¬å¤åˆ¶åˆ°ç¨‹åºä¸­å»ã€‚</p>
<p>ä¹ƒå¾—ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">KugouSpider</span>():
    HEADER <span style="color:#f92672">=</span> {  <span style="color:#75715e"># ä¼ªé€ è¯·æ±‚å¤´ï¼Œé˜²æ­¢è¢«å°IP</span>
        <span style="color:#e6db74">&#39;Accept&#39;</span>: <span style="color:#e6db74">&#39;*/*&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Encoding&#39;</span>: <span style="color:#e6db74">&#39;gzip,deflate,sdch&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Language&#39;</span>: <span style="color:#e6db74">&#39;zh-CN,zh;q=0.8,gl;q=0.6,zh-TW;q=0.4&#39;</span>,
        <span style="color:#e6db74">&#39;Connection&#39;</span>: <span style="color:#e6db74">&#39;keep-alive&#39;</span>,
        <span style="color:#e6db74">&#39;Content-Type&#39;</span>: <span style="color:#e6db74">&#39;application/x-www-form-urlencoded&#39;</span>,
        <span style="color:#e6db74">&#39;Referer&#39;</span>: <span style="color:#e6db74">&#39;https://kugou.com/&#39;</span>,
        <span style="color:#e6db74">&#39;User-Agent&#39;</span>: UserAgent()<span style="color:#f92672">.</span>random
    }
    cookies <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;kg_mid&#39;</span>: <span style="color:#e6db74">&#39;44c117b70a8abbe992b50ee90d19784f&#39;</span>,
               <span style="color:#e6db74">&#39;kg_dfid&#39;</span>: <span style="color:#e6db74">&#39;2SoQgm4W6BHT0eH1EP3qAt3X&#39;</span>,
                <span style="color:#e6db74">&#39;kg_dfid_collect&#39;</span>: <span style="color:#e6db74">&#39;d41d8cd98f00b204e9800998ecf8427e&#39;</span>,
                <span style="color:#e6db74">&#39;KuGooRandom&#39;</span>: <span style="color:#e6db74">&#39;66781582627339920&#39;</span>,
                <span style="color:#e6db74">&#39;Hm_lvt_aedee6983d4cfc62f509129360d6bb3d	1582&#39;</span>: <span style="color:#e6db74">&#39;1582627291,1582630139,1582674521&#39;</span>,
                <span style="color:#e6db74">&#39;kg_mid_temp&#39;</span>: <span style="color:#e6db74">&#39;44c117b70a8abbe992b50ee90d19784f&#39;</span>,
                <span style="color:#e6db74">&#39;Hm_lpvt_aedee6983d4cfc62f509129360d6bb3d&#39;</span>: <span style="color:#e6db74">&#39;1582676297&#39;</span>,
                <span style="color:#e6db74">&#39;ACK_SERVER_10016&#39;</span>: <span style="color:#e6db74">&#39;%7B</span><span style="color:#e6db74">%22li</span><span style="color:#e6db74">st</span><span style="color:#e6db74">%22%</span><span style="color:#e6db74">3A%5B%5B</span><span style="color:#e6db74">%22g</span><span style="color:#e6db74">zreg-user.kugou.com</span><span style="color:#e6db74">%22%</span><span style="color:#e6db74">5D%5D%7D&#39;</span>,
                <span style="color:#e6db74">&#39;ACK_SERVER_10015&#39;</span>: <span style="color:#e6db74">&#39;%7B</span><span style="color:#e6db74">%22li</span><span style="color:#e6db74">st</span><span style="color:#e6db74">%22%</span><span style="color:#e6db74">3A%5B%5B%22bjlogin-user.kugou.com</span><span style="color:#e6db74">%22%</span><span style="color:#e6db74">5D%5D%7D&#39;</span>,
                <span style="color:#e6db74">&#39;ACK_SERVER_10017&#39;</span>: <span style="color:#e6db74">&#39;%7B</span><span style="color:#e6db74">%22li</span><span style="color:#e6db74">st</span><span style="color:#e6db74">%22%</span><span style="color:#e6db74">3A%5B%5B</span><span style="color:#e6db74">%22g</span><span style="color:#e6db74">zverifycode.service.kugou.com</span><span style="color:#e6db74">%22%</span><span style="color:#e6db74">5D%5D%7D&#39;</span>
               }

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getUrl</span>(self, artlist_url):
        jsonUrl <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;http://www.kugou.com/yy/index.php?r=play/getdata&amp;hash={0:s}&#39;</span>
        response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url <span style="color:#f92672">=</span> artlist_url, headers <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>HEADER, cookies <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>cookies)
        songs <span style="color:#f92672">=</span> {}
        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;&lt;a title=&#34;.+&#34; hidefocus=&#34;true&#34; href=&#34;javascript:;&#34; data=&#34;(\w+)\|\d+&#34;&gt;&#39;</span>, response<span style="color:#f92672">.</span>text):
            jsonfile <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url <span style="color:#f92672">=</span> jsonUrl<span style="color:#f92672">.</span>format(i), headers <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>HEADER, cookies <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>cookies)
            jsondata <span style="color:#f92672">=</span> jsonfile<span style="color:#f92672">.</span>json()
            <span style="color:#66d9ef">try</span>:
                songs[jsondata[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;audio_name&#39;</span>]] <span style="color:#f92672">=</span> jsondata[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;play_url&#39;</span>]
            <span style="color:#66d9ef">except</span>:
                <span style="color:#66d9ef">pass</span>
        <span style="color:#66d9ef">return</span> songs
</code></pre></div><p>è¿™ä¸ª<code>cookie</code>æ˜¯å¯ä»¥é‡å¤ä½¿ç”¨çš„ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æ•°æ®æ— æ³•æå–æ—¶å»éªŒè¯ä¸€ä¸‹å³å¯ã€‚</p>
<p>ä¸‹è½½éŸ³ä¹å¯ä»¥å»çœ‹æˆ‘çš„è¿™ç¯‡æ–‡ç« ï¼š</p>
<p><a href="https://raycoder.me/p/2538.html" class="LinkCard">ä»é›¶å¼€å§‹å†™ä¸€ä¸ªéŸ³ä¹çˆ¬è™«-2-ç½‘æ˜“äº‘éŸ³ä¹ï¼šä¸‹è½½éŸ³ä¹æ–‡ä»¶</a></p>
<p>æ‰€ä»¥æˆ‘ä»¬å®Œæˆçš„ç¨‹åºå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#!/usr/bin/env python</span>
<span style="color:#75715e">#-*- coding:utf8 -*-</span>
<span style="color:#e6db74">&#39;&#39;&#39;
</span><span style="color:#e6db74">@Author  :   Ray
</span><span style="color:#e6db74">@Contact :   ray@raycoder.me
</span><span style="color:#e6db74">@Software:   PyCharm
</span><span style="color:#e6db74">@File    :   KugouSpider.py
</span><span style="color:#e6db74">@Time    :   2019/11/4 21:19
</span><span style="color:#e6db74">&#39;&#39;&#39;</span>

<span style="color:#f92672">import</span> requests<span style="color:#f92672">,</span> re
<span style="color:#f92672">from</span> fake_useragent <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
<span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> randint

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">KugouSpider</span>():
    HEADER <span style="color:#f92672">=</span> {  <span style="color:#75715e"># ä¼ªé€ è¯·æ±‚å¤´ï¼Œé˜²æ­¢è¢«å°IP</span>
        <span style="color:#e6db74">&#39;Accept&#39;</span>: <span style="color:#e6db74">&#39;*/*&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Encoding&#39;</span>: <span style="color:#e6db74">&#39;gzip,deflate,sdch&#39;</span>,
        <span style="color:#e6db74">&#39;Accept-Language&#39;</span>: <span style="color:#e6db74">&#39;zh-CN,zh;q=0.8,gl;q=0.6,zh-TW;q=0.4&#39;</span>,
        <span style="color:#e6db74">&#39;Connection&#39;</span>: <span style="color:#e6db74">&#39;keep-alive&#39;</span>,
        <span style="color:#e6db74">&#39;Content-Type&#39;</span>: <span style="color:#e6db74">&#39;application/x-www-form-urlencoded&#39;</span>,
        <span style="color:#e6db74">&#39;Referer&#39;</span>: <span style="color:#e6db74">&#39;https://kugou.com/&#39;</span>,
        <span style="color:#e6db74">&#39;User-Agent&#39;</span>: UserAgent()<span style="color:#f92672">.</span>random
    }
    cookies <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;kg_mid&#39;</span>: <span style="color:#e6db74">&#39;d7d2db42653ccb5262c6b3a53d3e513e&#39;</span>,
               <span style="color:#e6db74">&#39;kg_dfid&#39;</span>: <span style="color:#e6db74">&#39;4E1aaE0U1ZlH0aaWYz3Z7N6n&#39;</span>,
               <span style="color:#e6db74">&#39;kg_dfid_collect&#39;</span>: <span style="color:#e6db74">&#39;d41d8cd98f00b204e9800998ecf8427e&#39;</span>,
               <span style="color:#e6db74">&#39;KuGooRandom&#39;</span>: <span style="color:#e6db74">&#39;66781582627339920&#39;</span>,
               <span style="color:#e6db74">&#39;Hm_lvt_aedee6983d4cfc62f509129360d6bb3d	1582&#39;</span>: <span style="color:#e6db74">&#39;1583409383&#39;</span>,
               <span style="color:#e6db74">&#39;kg_mid_temp&#39;</span>: <span style="color:#e6db74">&#39;d7d2db42653ccb5262c6b3a53d3e513e&#39;</span>,
               <span style="color:#e6db74">&#39;Hm_lpvt_aedee6983d4cfc62f509129360d6bb3d&#39;</span>: <span style="color:#e6db74">&#39;1583409803&#39;</span>,
               <span style="color:#e6db74">&#39;ACK_SERVER_10016&#39;</span>: <span style="color:#e6db74">&#39;%7B</span><span style="color:#e6db74">%22li</span><span style="color:#e6db74">st</span><span style="color:#e6db74">%22%</span><span style="color:#e6db74">3A%5B%5B</span><span style="color:#e6db74">%22g</span><span style="color:#e6db74">zreg-user.kugou.com</span><span style="color:#e6db74">%22%</span><span style="color:#e6db74">5D%5D%7D&#39;</span>,
               <span style="color:#e6db74">&#39;ACK_SERVER_10015&#39;</span>: <span style="color:#e6db74">&#39;%7B</span><span style="color:#e6db74">%22li</span><span style="color:#e6db74">st</span><span style="color:#e6db74">%22%</span><span style="color:#e6db74">3A%5B%5B%22bjlogin-user.kugou.com</span><span style="color:#e6db74">%22%</span><span style="color:#e6db74">5D%5D%7D&#39;</span>,
               <span style="color:#e6db74">&#39;ACK_SERVER_10017&#39;</span>: <span style="color:#e6db74">&#39;%7B</span><span style="color:#e6db74">%22li</span><span style="color:#e6db74">st</span><span style="color:#e6db74">%22%</span><span style="color:#e6db74">3A%5B%5B</span><span style="color:#e6db74">%22g</span><span style="color:#e6db74">zverifycode.service.kugou.com</span><span style="color:#e6db74">%22%</span><span style="color:#e6db74">5D%5D%7D&#39;</span>
              }

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getArtUrl</span>(self, artlist_url):
        jsonUrl <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;http://www.kugou.com/yy/index.php?r=play/getdata&amp;hash={0:s}&#39;</span>
        response <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url <span style="color:#f92672">=</span> artlist_url, headers <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>HEADER)
        songs <span style="color:#f92672">=</span> {}
        <span style="color:#75715e">#print(response.text)</span>
        <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;&lt;a title=&#34;.+&#34; hidefocus=&#34;true&#34; href=&#34;javascript:;&#34; data=&#34;(\w+)\|\d+&#34;&gt;&#39;</span>, response<span style="color:#f92672">.</span>text):
            <span style="color:#75715e">#print(jsonUrl.format(i))</span>
            jsonfile <span style="color:#f92672">=</span> requests<span style="color:#f92672">.</span>get(url <span style="color:#f92672">=</span> jsonUrl<span style="color:#f92672">.</span>format(i), headers <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>HEADER, cookies <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>cookies)
            jsondata <span style="color:#f92672">=</span> jsonfile<span style="color:#f92672">.</span>json()
            <span style="color:#75715e">#print(jsondata)</span>
            <span style="color:#66d9ef">try</span>:
                songs[jsondata[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;audio_name&#39;</span>]] <span style="color:#f92672">=</span> jsondata[<span style="color:#e6db74">&#39;data&#39;</span>][<span style="color:#e6db74">&#39;play_url&#39;</span>]
            <span style="color:#66d9ef">except</span>:
                <span style="color:#66d9ef">pass</span>
        <span style="color:#66d9ef">return</span> songs
</code></pre></div><p>æµ‹è¯•ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> KugouSpider <span style="color:#f92672">import</span> KugouSpider
<span style="color:#f92672">from</span> download <span style="color:#f92672">import</span> downloadMusic

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">_test</span>():
    spider <span style="color:#f92672">=</span> KugouSpider()
    downloadMusic(spider<span style="color:#f92672">.</span>getUrl(<span style="color:#e6db74">&#39;https://www.kugou.com/yy/special/single/1094256.html&#39;</span>))
<span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
    _test()
</code></pre></div><p>è¿™ä¸ªä¹Ÿè¦å†™ä¸ºä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼š<code>test.py</code>ã€‚
P.S.æˆ‘å‘ç°è²Œä¼¼éšæœºCookieæœ‰æ•ˆï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">    randten <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> large: randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">10</span><span style="color:#f92672">**</span>large)
    cookies <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;kg_mid&#39;</span>: str(randten(<span style="color:#ae81ff">30</span>)),
               <span style="color:#e6db74">&#39;kg_dfid&#39;</span>: str(randten(<span style="color:#ae81ff">30</span>)),
               <span style="color:#e6db74">&#39;kg_dfid_collect&#39;</span>: str(randten(<span style="color:#ae81ff">30</span>)),
               <span style="color:#e6db74">&#39;KuGooRandom&#39;</span>: str(randten(<span style="color:#ae81ff">12</span>)),
               <span style="color:#e6db74">&#39;Hm_lvt_aedee6983d4cfc62f509129360d6bb3d	1582&#39;</span>: str(randten(<span style="color:#ae81ff">10</span>)),
               <span style="color:#e6db74">&#39;kg_mid_temp&#39;</span>: str(randten(<span style="color:#ae81ff">30</span>)),
               <span style="color:#e6db74">&#39;Hm_lpvt_aedee6983d4cfc62f509129360d6bb3d&#39;</span>: str(randten(<span style="color:#ae81ff">30</span>)),
               <span style="color:#e6db74">&#39;ACK_SERVER_10016&#39;</span>: str(randten(<span style="color:#ae81ff">30</span>)),
               <span style="color:#e6db74">&#39;ACK_SERVER_10015&#39;</span>: str(randten(<span style="color:#ae81ff">30</span>)),
               <span style="color:#e6db74">&#39;ACK_SERVER_10017&#39;</span>: str(randten(<span style="color:#ae81ff">30</span>))
              }
</code></pre></div><p>å¯ä»¥è¯•è¯•ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/python/">Python</category><category domain="https://raycoder.me/categories/%E7%88%AC%E8%99%AB/">çˆ¬è™«</category><category domain="https://raycoder.me/tags/python/">Python</category><category domain="https://raycoder.me/tags/%E7%88%AC%E8%99%AB/">çˆ¬è™«</category><category domain="https://raycoder.me/tags/%E7%A6%8F%E5%88%A9/">ç¦åˆ©</category><category domain="https://raycoder.me/tags/%E9%9F%B3%E4%B9%90/">éŸ³ä¹</category><category domain="https://raycoder.me/tags/%E7%A0%B4%E8%A7%A3/">ç ´è§£</category><category domain="https://raycoder.me/tags/%E4%BC%9A%E5%91%98/">ä¼šå‘˜</category><category domain="https://raycoder.me/tags/python%E8%BF%9B%E9%98%B6/">Pythonè¿›é˜¶</category><category domain="https://raycoder.me/tags/%E9%85%B7%E7%8B%97/">é…·ç‹—</category></item><item><title>ä¸€äº›å…³äºGitHubå›¾åƒæ— æ³•æ­£å¸¸æ˜¾ç¤ºå’Œè®¿é—®é€Ÿåº¦æ…¢çš„è§£å†³æ–¹æ¡ˆ</title><link>https://raycoder.me/p/github-hosts/</link><guid isPermaLink="true">https://raycoder.me/p/github-hosts/</guid><pubDate>Tue, 18 Feb 2020 08:08:42 +0800</pubDate><description><![CDATA[<p><strong>ä»Šå¤©æˆ‘åœ¨è®¿é—®GayHubçš„Issueæ—¶å‘ç°è®¿é—®é€Ÿåº¦å¥‡æ…¢æ— æ¯”ï¼ŒåŠ è½½å¥½åä¹Ÿæ— æ³•æ­£å¸¸æ˜¾ç¤ºå›¾ç‰‡ï¼Œraw.githubusercontent.comä¹Ÿæ— æ³•è¿›å…¥ã€‚ä¸Šç½‘æŸ¥æ‰¾ç›¸å…³èµ„æ–™åç»ˆäºæœ‰äº†ç›¸å…³çš„è§£å†³æ–¹æ³•ã€‚</strong></p>
<p>ç½‘ä¸Šä¸€èˆ¬æµä¼ çš„Hostså·²ç»ä¸å¥½ä½¿äº†ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback"># GitHub Start
192.30.253.112 github.com
192.30.253.118 gist.github.com
151.101.112.133 assets-cdn.github.com
151.101.184.133 raw.githubusercontent.com
151.101.112.133 gist.githubusercontent.com
151.101.184.133 cloud.githubusercontent.com
151.101.112.133 camo.githubusercontent.com
151.101.112.133 avatars0.githubusercontent.com
151.101.112.133 avatars1.githubusercontent.com
151.101.184.133 avatars2.githubusercontent.com
151.101.12.133 avatars3.githubusercontent.com
151.101.12.133 avatars4.githubusercontent.com
151.101.184.133 avatars5.githubusercontent.com
151.101.184.133 avatars6.githubusercontent.com
151.101.184.133 avatars7.githubusercontent.com
151.101.12.133 avatars8.githubusercontent.com
# GitHub End
</code></pre></div><p><code>ipconfig /flushdns</code>åæ— æ•ˆã€‚</p>
<p>åæ¥åˆå»<a href="https://github.com/chenxuhua/issues-blog/issues/3">è¿™é‡Œ</a>ç¿»äº†ç¿»ï¼Œåˆå‘ç°äº†ä¸€ä¸ªå¥½ç”¨çš„ä¸œè¥¿ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">140.82.113.4 github.com
140.82.113.19 assets-cdn.github.com
151.101.185.194 github.global.ssl.fastly.net
185.199.108.153 assets-cdn.github.com
185.199.108.153 github.github.io
151.101.184.133 githubusercontent.com
192.30.253.118 gist.github.com
</code></pre></div><p>å‘ç°è¿™ä¸ªç«Ÿç„¶æ˜¯æœ‰ç”¨çš„ï¼æ‰€ä»¥åªéœ€è¦ä½¿ç”¨è¿™ä¸ªHostså³å¯ï¼</p>
<p><code>ipconfig /flushdns</code>èµ°èµ·~</p>
<p>ä¸è¿‡è¿™äº›IPæ¯äººéƒ½<code>å„ä¸ç›¸åŒ</code>ï¼Œå‡å¦‚ä½ è¿˜ä¸èƒ½æ­£å¸¸è®¿é—®ï¼Œé‚£è¯·å»<a href="https://www.ipaddress.com">https://www.ipaddress.com</a></p>
<p>æŸ¥è¯¢ç›¸å¯¹åº”GayHub ipåœ°å€ï¼ŒæŠŠä¹‹å‰hostsä¸­çš„<code>æ›¿æ¢</code>æ‰ï¼Œå°±åº”è¯¥å¯ä»¥æ­£å¸¸è®¿é—®äº†ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/hosts/">Hosts</category><category domain="https://raycoder.me/categories/github/">GitHub</category><category domain="https://raycoder.me/tags/github/">GitHub</category><category domain="https://raycoder.me/tags/hosts/">Hosts</category><category domain="https://raycoder.me/tags/%E5%8A%A0%E9%80%9F/">åŠ é€Ÿ</category></item><item><title>ä½¿ç”¨CentOS 7 + Kodcloud(å¯é“äº‘) æ­å»ºä¸ªäººç½‘ç›˜</title><link>https://raycoder.me/p/kodcloud-with-centos7/</link><guid isPermaLink="true">https://raycoder.me/p/kodcloud-with-centos7/</guid><pubDate>Fri, 14 Feb 2020 17:10:53 +0800</pubDate><description><![CDATA[<p><strong>ç½‘ç›˜æ¥äºŒè¿ä¸‰çš„å€’ä¸‹ï¼Œ*åº¦ç½‘ç›˜åˆå¼€å§‹é™é€Ÿï¼ŒçœŸä¸è®©äººæ»¡æ„ğŸ·ã€‚ã€‚</strong></p>
<p><strong>è¿˜æ˜¯è‡ªå·±æ­å»ºçš„ç½‘ç›˜æ¯”è¾ƒé è°±â€¦â€¦ğŸ˜‚</strong></p>
<h3 id="å‡†å¤‡ææ–™">å‡†å¤‡ææ–™</h3>
<hr>
<ol>
<li>
<p>å¸¦æœ‰CentOSçš„æœåŠ¡å™¨ä¸€ä»½</p>
</li>
<li>
<p>è£…æœ‰PHP</p>
</li>
<li>
<p>æœ‰Apache</p>
<p><del>ä¸‹é”…ä¹±ç‚–ï¼</del></p>
</li>
</ol>
<p>æˆ‘è¿™é‡Œé‡‡ç”¨è…¾è®¯äº‘çš„CVMã€‚</p>
<h3 id="step1-å®‰è£…xmapp">Step.1 å®‰è£…XMAPP</h3>
<hr>
<h4 id="1-ä¸‹è½½">1. ä¸‹è½½</h4>
<p>ä¸‹è½½å‘½ä»¤ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wget -c https://www.apachefriends.org/xampp-files/7.4.2/xampp-linux-x64-7.4.2-0-installer.run
</code></pre></div><p>ä¸è¿‡æœ‰äººè¯´è¿æ¥è¶…æ—¶(æˆ‘ä¹Ÿæ˜¯)ï¼Œè¿˜å¥½æˆ‘æ˜¯ä¸ªå¥½åšä¸»ğŸ˜‚(å¤§ä¹‰å‡›ç„¶)ï¼Œæä¾›ä¸ª<code>æˆ‘çš„ä¸‹è½½æº</code>ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wget -c http://111.229.174.206/kodexplorer/data/User/admin/home/Coding/xampp-linux-x64-7.4.2-0-installer.run
</code></pre></div><p>ä¹Ÿè®¸æ¯”è¾ƒæ…¢ï¼Œä½†æ€»æ¯”ä¸‹è½½ä¸äº†å¥½å¤šäº†</p>
<p>ä¸‹è½½ä¹‹åä¼šçœ‹åˆ°ä¸€ä¸ª<code>.run</code>å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå…ˆæ·»åŠ ç›¸åº”çš„æƒé™ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">chmod +x xampp-linux-x64-7.4.2-0-installer.run
</code></pre></div><h4 id="2å®‰è£…">2.å®‰è£…</h4>
<p>è¿è¡Œï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo ./xampp-linux-x64-7.4.2-0-installer.run
</code></pre></div><p>æŒ‰ç…§æç¤ºä¸€è·¯<code>y/å›è½¦</code>å³å¯</p>
<h3 id="step-2å®‰è£…å¯é“äº‘">Step 2.å®‰è£…å¯é“äº‘</h3>
<hr>
<p>å®˜æ–¹ä¸‹è½½é¡µé¢ï¼šhttps://kodcloud.com/download/ã€‚å…¶ä¸­æœ‰è·å–æœ€æ–°ç‰ˆå¯é“äº‘çš„ç›¸å…³å‘½ä»¤ã€‚</p>
<h4 id="ä¸‹è½½">ä¸‹è½½ï¼š</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">wget http://static.kodcloud.com/update/download/kodexplorer4.40.zip
</code></pre></div><h3 id="å®‰è£…">å®‰è£…ï¼š</h3>
<h5 id="åˆ›å»ºç›®å½•">åˆ›å»ºç›®å½•ï¼š</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo mkdir kodexplorer
</code></pre></div><h5 id="è§£å‹">è§£å‹ï¼š</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">unzip kodexplorer4.40.zip -d ./kodexplorer
</code></pre></div><h5 id="è®¾ç½®æƒé™">è®¾ç½®æƒé™ï¼š</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cd ./kodexplorer
chmod -Rf <span style="color:#ae81ff">777</span> ./*
</code></pre></div><h5 id="å®Œæˆå®‰è£…">å®Œæˆå®‰è£…ï¼š</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">sudo cp -r kodexplorer/ /opt/lampp/htdocs/
cd /opt/lampp/htdocs
chmod <span style="color:#ae81ff">777</span> kodexplorer
chmod -R <span style="color:#ae81ff">777</span> kodexplorer/data/
</code></pre></div><h3 id="step-3-enjoy">Step 3. Enjoy!</h3>
<hr>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">sudo /opt/lampp/xampp start
</code></pre></div><p>æµè§ˆå™¨æ‰“å¼€<code>IPåœ°å€/kodexplorer/</code>ï¼Œè®¾ç½®ç®¡ç†å‘˜å¯†ç ï¼Œå¼€å§‹ä½¿ç”¨ã€‚</p>]]></description><category domain="https://raycoder.me/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</category><category domain="https://raycoder.me/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/">æœåŠ¡å™¨</category><category domain="https://raycoder.me/tags/centos/">CentOS</category><category domain="https://raycoder.me/tags/%E6%90%9E%E6%9C%BA/">ææœº</category><category domain="https://raycoder.me/tags/%E7%BD%91%E7%9B%98/">ç½‘ç›˜</category><category domain="https://raycoder.me/tags/%E6%95%99%E7%A8%8B/">æ•™ç¨‹</category></item><item><title>æƒ³æ‹¥æœ‰è‡ªå·±çš„åŸŸåé‚®ç®±ä¹ˆï¼Ÿï¼</title><link>https://raycoder.me/p/domain-mail/</link><guid isPermaLink="true">https://raycoder.me/p/domain-mail/</guid><pubDate>Sat, 01 Feb 2020 14:20:35 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong><i class="fa fa-envelope"></i>å‡å¦‚ä½ æœ‰ä¸€ä¸ªåŸŸåï¼Œä½ æƒ³ç”¨å®ƒæ¥å¼„ä¸€ä¸ªåŸŸåé‚®ç®±ä¹ˆ?!<i class="fa fa-envelope"></i></strong></p>
<!-- more -->
</blockquote>
<p>ç”±äºQQé‚®ç®±åœ¨2020å¹´1æœˆ20å·å–æ¶ˆäº†æ–°å»ºåŸŸåé‚®ç®±åŠŸèƒ½ï¼Œè€Œä¼ä¸šé‚®ç®±æ³¨å†Œåˆéå¸¸éº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘å†³å®šé‡‡ç”¨ä¸€ä¸ªå›½å¤–çš„åŸŸåé‚®ç®±æä¾›å•†â€”â€”<a href="https://pingly.com">Pingly</a>ã€‚</p>
<h3 id="step-1æ‰“å¼€pinglyhttpspinglycomsignupæ³¨å†Œä¸€ä¸ªè´¦å·å·²æœ‰è´¦å·çš„ç‚¹å‡»ç™»å½•httpspinglycomlogin">Step 1.æ‰“å¼€<a href="https:/pingly.com/signup">Pingly</a>ï¼Œæ³¨å†Œä¸€ä¸ªè´¦å·ã€‚ï¼ˆå·²æœ‰è´¦å·çš„ç‚¹å‡»<a href="https://pingly.com/login">ç™»å½•</a>ï¼‰</h3>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200401131540.png" alt=""></p>
<h3 id="step-2ç™»å½•æ³¨å†Œå®ŒåæŒ‰ç…§ç³»ç»Ÿçš„æç¤ºè®¾ç½®åŸŸåçš„txtcnameåŠmxè½¬å‘è®¾ç½®æˆåŠŸåç‚¹å‡»verifyå¯èƒ½è¦ä¸€æ®µæ—¶é—´">Step 2.ç™»å½•/æ³¨å†Œå®ŒåæŒ‰ç…§ç³»ç»Ÿçš„æç¤ºè®¾ç½®åŸŸåçš„TXTã€CNAMEåŠMXè½¬å‘ï¼Œè®¾ç½®æˆåŠŸåç‚¹å‡»Verifyï¼ˆå¯èƒ½è¦ä¸€æ®µæ—¶é—´ï¼‰</h3>
<p><img src="https://gitee.com/RACD/cdn/raw/master/imgs/20200401131541.png" alt=""></p>
<h3 id="step-3ç„¶åæ‰“å¼€ä½ æ³¨å†Œæ—¶çš„é‚®ç®±ç‚¹å‡»å…¶ä¸­çš„é“¾æ¥è¿›è¡Œè´¦å·çš„éªŒè¯">Step 3.ç„¶åæ‰“å¼€ä½ æ³¨å†Œæ—¶çš„é‚®ç®±ï¼Œç‚¹å‡»å…¶ä¸­çš„é“¾æ¥è¿›è¡Œè´¦å·çš„éªŒè¯</h3>
<h3 id="finalå¥½äº†ä¹‹åæ‰€æœ‰å‘åˆ°ä½ çš„åŸŸåé‚®ç®±çš„é‚®ä»¶éƒ½ä¼šåœ¨æ”¶ä»¶ç®±httpspinglycominboxå‡ºç°">Finalï¼šå¥½äº†ï¼Œä¹‹åæ‰€æœ‰å‘åˆ°ä½ çš„åŸŸåé‚®ç®±çš„é‚®ä»¶éƒ½ä¼šåœ¨<a href="https://pingly.com/#inbox">æ”¶ä»¶ç®±</a>å‡ºç°ï¼</h3>
<p>å¼€å§‹ä½¿ç”¨å§ï¼æˆ‘çš„é‚®ç®±ï¼š<a href="mailto:ray@raycoder.me">ray@raycoder.me</a></p>
<hr>
<p>2020.4.1æ›´æ–°ï¼šæ¨èä½¿ç”¨å›½å†…çš„<em class="emphasis-point">ç½‘æ˜“äº‘ä¼ä¸šé‚®</em>æˆ–<em class="emphasis-point">é˜¿é‡Œäº‘é‚®ç®±</em>ã€‚</p>
]]></description><category domain="https://raycoder.me/categories/%E5%9F%9F%E5%90%8D/">åŸŸå</category><category domain="https://raycoder.me/categories/%E9%82%AE%E7%AE%B1/">é‚®ç®±</category><category domain="https://raycoder.me/tags/%E5%9F%9F%E5%90%8D/">åŸŸå</category><category domain="https://raycoder.me/tags/%E8%87%AA%E5%AE%9A%E4%B9%89/">è‡ªå®šä¹‰</category><category domain="https://raycoder.me/tags/%E6%90%9E%E6%9C%BA/">ææœº</category></item><item><title>PicGo + Gitee(ç äº‘)å®ç°markdownå›¾åºŠ</title><link>https://raycoder.me/p/picgo-and-gitee-markdown-pic/</link><guid isPermaLink="true">https://raycoder.me/p/picgo-and-gitee-markdown-pic/</guid><pubDate>Wed, 22 Jan 2020 14:53:20 +0800</pubDate><description><![CDATA[<blockquote>
<p><strong>è½¬è½½è‡ª: <a href="https://www.jianshu.com/u/f81ef1ee8360">LeonG7</a>çš„<a href="https://www.jianshu.com/p/b69950a49ae2">ç®€ä¹¦åšå®¢</a>ã€‚</strong>
<strong>å‰è¨€ï¼šæ·±æ„Ÿåœ¨çº¿åšå®¢çš„ç¼–è¾‘å™¨å‘å¤ªå¤šäº†ï¼Œæ–‡æ¡£ä¸¢å¤±ã€å¿…é¡»è”ç½‘ã€å¯ç§»æ¤æ€§å¤ªå·®ï¼Œæ‰€ä»¥å¼€å§‹å¯»æ‰¾å¯æ›¿ä»£çš„æ–¹æ¡ˆã€‚</strong></p>
</blockquote>
<p>å’±ä»¬å†™åšå®¢çš„æ—¶å€™ï¼Œæ€»æ˜¯éœ€è¦<code>æ’å…¥å›¾ç‰‡</code>çš„ï¼Œå›¾ç‰‡å­˜åœ¨æœ¬åœ°çš„è¯ä¸Šä¼ åˆ°åšå®¢ç½‘ç«™å»å°±æ²¡æ³•æ˜¾ç¤ºäº†ï¼Œå°±ç®—ä¸€ä¸ªå›¾ä¸€ä¸ªå›¾çš„å¤åˆ¶ç²˜è´´ä¸Šå»ï¼Œæƒ³ç§»æ¤åˆ°å…¶ä»–çš„åšå®¢ç½‘ç«™ï¼Œå›¾å°±ä¼šå¤±æ•ˆï¼Œæˆ‘ä»¬å°±éœ€è¦å›¾åºŠã€‚</p>
<p>å›¾åºŠæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ å›¾åºŠå°±æ˜¯ä¸€ä¸ªä¾¿äºåœ¨åšæ–‡ä¸­æ’å…¥åœ¨çº¿å›¾ç‰‡è¿æ¥çš„ä¸ªäººå›¾ç‰‡ä»“åº“ã€‚è®¾ç½®å›¾åºŠä¹‹åï¼Œåœ¨è‡ªå·±åšå®¢ä¸­æ’å…¥çš„å›¾ç‰‡é“¾æ¥å°±å¯ä»¥éšæ—¶éšåœ°åœ¨çº¿é¢„è§ˆäº†ï¼Œå¹¶ä¸”ä¸ä¼šå› ä¸ºä»»ä½•æ„å¤–åŸå› æ— æ³•æŸ¥çœ‹ï¼Œé™¤éè‡ªå·±äº²è‡ªåˆ é™¤ã€‚</p>
<h4 id="ç¥å¥‡çš„picgoå°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è¯ç”Ÿçš„å®ƒå¯ä»¥å°†å›¾ç‰‡ä¸Šä¼ åˆ°æŒ‡å®šçš„å›¾åºŠä¸Šç„¶åè¿”å›markdowné“¾æ¥ç›´æ¥ç²˜è´´åˆ°ä½ çš„æ–‡æ¡£ä¸­å°±æå®šå•¦">ç¥å¥‡çš„PicGoå°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è¯ç”Ÿçš„ï¼Œå®ƒå¯ä»¥å°†å›¾ç‰‡ä¸Šä¼ åˆ°æŒ‡å®šçš„å›¾åºŠä¸Šï¼Œç„¶åè¿”å›markdowné“¾æ¥ï¼Œç›´æ¥ç²˜è´´åˆ°ä½ çš„æ–‡æ¡£ä¸­ï¼Œå°±æå®šå•¦~~~</h4>
<p>é—®é¢˜åˆæ¥äº†ï¼Œç½‘ä¸Šæ¨èä¸ƒç‰›äº‘é˜¿é‡Œäº‘éƒ½æ˜¯è¦ç§ŸèµæœåŠ¡å™¨çš„ï¼Œå¤ªéº»çƒ¦è¿˜è¦é’±ï¼Œå¾®åšç°åœ¨æŒ‚é“¾æ¥åˆå¾ˆå‰å®³ã€‚å¤§éƒ¨åˆ†äººé€‰æ‹©ç”¨githubï¼Œä½†æ˜¯githubè™½å¥½å´æ˜¯å›½å¤–çš„ç½‘ç«™ï¼Œé€Ÿåº¦ç»ˆç©¶æ¯”ä¸ä¸Šå›½å†…ç½‘ç«™ï¼Œç ”ç©¶äº†å°åŠå¤©ï¼Œç»ˆäºå‘ç°å®Œç¾çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h2 id="æœ€ç»ˆå†³å®šä½¿ç”¨picgohttpsgithubcommolunerfinnpicgo--å›½å†…çš„github---ç äº‘httpsgiteecomæ¥å®ç°markdownå›¾åºŠ">æœ€ç»ˆå†³å®šä½¿ç”¨<a href="https://github.com/Molunerfinn/PicGo"><code>PicGo</code></a> + <a href="https://gitee.com"><code>å›½å†…çš„github - ç äº‘</code></a>æ¥å®ç°<code>markdownå›¾åºŠ</code></h2>
<h2 id="1-å®‰è£…">1. å®‰è£…</h2>
<ul>
<li>PicGo</li>
<li>picgo-plugin-gitee-uploaderæ’ä»¶</li>
</ul>
<h3 id="é¦–å…ˆæ‰“å¼€picgoå®˜ç½‘httpsgithubcommolunerfinnpicgoä¸‹è½½å®‰è£…åŒ…">é¦–å…ˆæ‰“å¼€<a href="https://github.com/Molunerfinn/PicGo">PicGoå®˜ç½‘</a>ï¼Œä¸‹è½½å®‰è£…åŒ…</h3>
<center><img src="https://gitee.com/dogleft/blogsrc/raw/master/img/picgo1.jpg"/></center>
<p><del>é€Ÿåº¦è¿˜æŒºå¿«</del></p>
<h3 id="å®‰è£…ä¹‹åæ‰“å¼€ä¸»ç•Œé¢">å®‰è£…ä¹‹åæ‰“å¼€ä¸»ç•Œé¢</h3>
<center><img src="https://gitee.com/dogleft/blogsrc/raw/master/img/picgo2.jpg"/></center>
<h3 id="é€‰æ‹©æœ€åº•ä¸‹çš„æ’ä»¶è®¾ç½®æœç´¢gitee">é€‰æ‹©æœ€åº•ä¸‹çš„æ’ä»¶è®¾ç½®ï¼Œæœç´¢gitee</h3>
<center><img src="https://gitee.com/dogleft/blogsrc/raw/master/img/picgo3.jpg"/></center>
<h3 id="ç‚¹å‡»gitee-uploaderå¼€å§‹å®‰è£…">ç‚¹å‡»gitee-uploaderå¼€å§‹å®‰è£…</h3>
<blockquote>
<p>è¿™é‡Œæ³¨æ„ä¸€ä¸‹ï¼Œå¿…é¡»è¦å…ˆå®‰è£…<a href="https://nodejs.org"><code>node.js</code></a>æ‰èƒ½å®‰è£…æ’ä»¶ï¼Œæ²¡è£…çš„è‡ªå·±è£…ä¸€ä¸‹ï¼Œç„¶åé‡å¯å°±è¡Œã€‚</p>
</blockquote>
<p>è¿™ä¸ªåœ°æ–¹æœ‰ä¸¤ä¸ªæ’ä»¶ï¼Œæˆ‘è¯•äº†ä¸€éï¼Œä¸¤ä¸ªéƒ½èƒ½ç”¨ï¼Œå¤§å®¶çœ‹å¿ƒæƒ…é€‰æ‹©ï¼Œå…ˆè¯´ä¸€ä¸‹è¿™ä¸ª<code>gitee-uploader</code>ï¼Œç”¨ä¸äº†çš„åŒå­¦å°±é€‰å¦å¤–é‚£ä¸ªï¼Œæˆ‘éƒ½ä¼šè®²ä¸€éé…ç½®ã€‚</p>
<h2 id="2-å»ºç«‹giteeç äº‘å›¾åºŠåº“">2. å»ºç«‹Giteeï¼ˆç äº‘ï¼‰å›¾åºŠåº“</h2>
<p>æ³¨å†Œç äº‘çš„æ–¹æ³•å¾ˆç®€å•ï¼Œç½‘ç«™å¼•å¯¼éƒ½æ˜¯ä¸­æ–‡ï¼Œä¸å¤šè¯´äº†ï¼Œæˆ‘ä»¬ç›´æ¥å»ºç«‹è‡ªå·±çš„å›¾åºŠåº“ã€‚</p>
<h3 id="ç‚¹å‡»å³ä¸Šè§’çš„å·æ–°å»ºä»“åº“">ç‚¹å‡»å³ä¸Šè§’çš„+å·ï¼Œæ–°å»ºä»“åº“</h3>
<center><img src="https://gitee.com/dogleft/blogsrc/raw/master/img/picgo4.jpg"/></center>
<p>æ–°å»ºä»“åº“çš„è¦ç‚¹å¦‚ä¸‹ï¼š</p>
<pre><code>1. è¾“å…¥ä¸€ä¸ªä»“åº“åç§°
2. å…¶æ¬¡å°†ä»“åº“è®¾ä¸ºå…¬å¼€
3. å‹¾é€‰ä½¿ç”¨Readmeæ–‡ä»¶åˆå§‹åŒ–è¿™ä¸ªä»“åº“
   è¿™ä¸ªé€‰é¡¹å‹¾ä¸Šï¼Œè¿™æ ·ç äº‘ä¼šè‡ªåŠ¨ç»™ä½ çš„ä»“åº“å»ºç«‹masteråˆ†æ”¯ï¼Œè¿™ç‚¹å¾ˆé‡è¦!!! æˆ‘ï¼ˆåŸä½œè€…ï¼‰å› ä¸ºè¿™ç‚¹æŠ˜è…¾äº†å¾ˆä¹…ï¼Œå› ä¸ºä½¿ç”¨githubåšå›¾åºŠpicgoå¥½åƒä¼šè‡ªåŠ¨å¸®ä½ ç”Ÿæˆmasteråˆ†æ”¯ï¼Œè€Œpicgoé‡Œçš„giteeæ’ä»¶ä¸ä¼šå¸®ä½ è‡ªåŠ¨ç”Ÿæˆåˆ†æ”¯ã€‚
</code></pre>
<center><img src="https://gitee.com/dogleft/blogsrc/raw/master/img/picgo5.jpg"/></center>
<p>ç‚¹å‡»åˆ›å»ºè¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p>
<h2 id="3-é…ç½®picgo">3. é…ç½®PicGo</h2>
<p>å®‰è£…äº†gitee-uploaderæ’ä»¶ä¹‹åï¼Œæˆ‘ä»¬å¼€å§‹é…ç½®æ’ä»¶</p>
<p>é…ç½®æ’ä»¶çš„è¦ç‚¹å¦‚ä¸‹ï¼š</p>
<center><img src="https://gitee.com/dogleft/blogsrc/raw/master/img/picgo6.jpg"/></center>
<ul>
<li>repoï¼šç”¨æˆ·å/ä»“åº“åç§°ï¼Œæ¯”å¦‚æˆ‘è‡ªå·±çš„ä»“åº“leonG7/blogImageï¼Œä¹Ÿå¯ä»¥ç›´æ¥å¤åˆ¶ä»“åº“çš„url</li>
</ul>
<center><img src="https://gitee.com/dogleft/blogsrc/raw/master/img/picgo7.jpg"/></center>
<ul>
<li>branchï¼šåˆ†æ”¯ï¼Œè¿™é‡Œå†™ä¸Šmaster</li>
<li>tokenï¼šå¡«å…¥ç äº‘çš„ç§äººä»¤ç‰Œ</li>
<li>pathï¼šè·¯å¾„ï¼Œä¸€èˆ¬å†™ä¸Šimg</li>
<li>customPathï¼šæäº¤æ¶ˆæ¯ï¼Œè¿™ä¸€é¡¹å’Œä¸‹ä¸€é¡¹customURLéƒ½ä¸ç”¨å¡«ã€‚åœ¨æäº¤åˆ°ç äº‘åï¼Œä¼šæ˜¾ç¤ºæäº¤æ¶ˆæ¯ï¼Œæ’ä»¶é»˜è®¤æäº¤çš„æ˜¯ Upload å›¾ç‰‡å by picGo - æ—¶é—´</li>
</ul>
<h3 id="è¿™ä¸ªtokenæ€ä¹ˆè·å–ä¸‹é¢ç™»å½•è¿›è‡ªå·±çš„ç äº‘">è¿™ä¸ªtokenæ€ä¹ˆè·å–ï¼Ÿä¸‹é¢ç™»å½•è¿›è‡ªå·±çš„ç äº‘</h3>
<ol>
<li>ç‚¹å‡»å¤´åƒï¼Œè¿›å…¥è®¾ç½®</li>
</ol>
<center><img src="https://gitee.com/dogleft/blogsrc/raw/master/img/picgo8.jpg"/></center>
<ol start="2">
<li>æ‰¾åˆ°å·¦è¾¹å®‰å…¨è®¾ç½®é‡Œé¢çš„ç§äººä»¤ç‰Œ</li>
</ol>
<center><img src="https://gitee.com/dogleft/blogsrc/raw/master/img/picgo9.jpg"/></center>
<ol start="3">
<li>ç‚¹å‡»ç”Ÿæˆæ–°ä»¤ç‰Œï¼ŒæŠŠprojectsè¿™ä¸€é¡¹å‹¾ä¸Šï¼Œå…¶ä»–çš„ä¸ç”¨å‹¾ï¼Œç„¶åæäº¤</li>
</ol>
<center><img src="https://gitee.com/dogleft/blogsrc/raw/master/img/picgo10.jpg"/></center>
<p>è¿™é‡Œéœ€è¦éªŒè¯ä¸€ä¸‹å¯†ç ï¼ŒéªŒè¯å¯†ç ä¹‹åä¼šå‡ºæ¥ä¸€ä¸²æ•°å­—ï¼Œè¿™ä¸€ä¸²æ•°å­—å°±æ˜¯ä½ çš„tokenï¼Œå°†è¿™ä¸²æ•°å­—å¤åˆ¶åˆ°åˆšæ‰çš„é…ç½®é‡Œé¢å»ã€‚</p>
<center><img src="https://gitee.com/dogleft/blogsrc/raw/master/img/picgo11.jpg"/></center>
<blockquote>
<p>æ³¨æ„ï¼šè¿™ä¸ªä»¤ç‰Œåªä¼šæ˜æ–‡æ˜¾ç¤ºä¸€æ¬¡ï¼Œå»ºè®®åœ¨é…ç½®æ’ä»¶çš„æ—¶å€™å†æ¥ç”Ÿæˆä»¤ç‰Œï¼Œç›´æ¥å¤åˆ¶è¿›å»ï¼Œæä¸¢äº†åˆè¦é‡æ–°ç”Ÿæˆä¸€ä¸ªã€‚</p>
</blockquote>
<h2 id="ç°åœ¨ä¿å­˜ä½ åˆšæ‰çš„é…ç½®ç„¶åå°†å®ƒè®¾ç½®ä¸ºé»˜è®¤å›¾åºŠå¤§åŠŸå‘Šæˆ">ç°åœ¨ä¿å­˜ä½ åˆšæ‰çš„é…ç½®ï¼Œç„¶åå°†å®ƒè®¾ç½®ä¸ºé»˜è®¤å›¾åºŠï¼Œå¤§åŠŸå‘Šæˆã€‚</h2>
<p>è¿˜æœ‰ä¸€ä¸ªæ’ä»¶<code>gitee x.x.x-beta</code>ï¼ŒåŠŸèƒ½å·®ä¸å¤šï¼Œ<code>åˆšæ‰é‚£ä¸ªèƒ½ç”¨çš„è¯å°±ä¸éœ€è¦ç”¨è¿™ä¸ª</code>ï¼Œé…ç½®çš„å†…å®¹æœ‰ç‚¹å·®åˆ«ï¼Œç®€å•è¯´ä¸€ä¸‹ï¼š</p>
<center><img src="https://gitee.com/dogleft/blogsrc/raw/master/img/picgo12.jpg"/></center>
<ul>
<li>urlï¼šå›¾åºŠç½‘ç«™ï¼Œè¿™é‡Œå†™ç äº‘çš„ä¸»é¡µ <a href="https://gitee.com">https://gitee.com</a></li>
<li>ownerï¼šæ‰€æœ‰è€…ï¼Œå†™ä¸Šä½ çš„ç äº‘è´¦å·åï¼Œå¦‚æœä½ ä¸çŸ¥é“ä½ çš„è´¦å·åï¼Œè¿›å…¥ä½ åˆšæ‰çš„ä»“åº“ï¼Œæµè§ˆå™¨urlé‡Œé¢æœ‰</li>
</ul>
<center><img src="https://gitee.com/dogleft/blogsrc/raw/master/img/picgo13.jpg"/></center>
<ul>
<li>
<p>repoï¼šä»“åº“åç§°ï¼Œåªè¦å†™ä¸Šä»“åº“åç§°å°±è¡Œï¼Œæ¯”å¦‚æˆ‘è‡ªå·±çš„ä»“åº“blogImage</p>
</li>
<li>
<p>pathï¼šå†™ä¸Šè·¯å¾„ï¼Œä¸€èˆ¬æ˜¯imgï¼Œ<strong>è¿™å‡ ä¸ªé¡¹éƒ½ä¸ç”¨åŠ â€œ / â€œç¬¦å·</strong></p>
</li>
<li>
<p>tokenï¼šåˆšæ‰ä½ è·å–çš„ä¸ªäººä»¤ç‰Œï¼Œä¸¤ä¸ªæ’ä»¶æ˜¯é€šç”¨çš„ï¼Œå¦‚æœä½ ç”¨äº†å¦ä¸€ä¸ªå†æ¥ç”¨è¿™ä¸ªï¼Œå®ƒä¼šè‡ªåŠ¨è¯»å–å¦ä¸€ä¸ªæ’ä»¶çš„éƒ¨åˆ†é…ç½®ï¼Œä¸ç”¨é‡æ–°ç”³è¯·</p>
</li>
<li>
<p>messageï¼šä¸ç”¨å¡«</p>
</li>
</ul>
<h2 id="4-æµ‹è¯•">4. æµ‹è¯•</h2>
<p>éšä¾¿é€‰ä¸€å¼ å›¾ç‰‡ä¸Šä¼ ï¼ˆpicgoä¹Ÿæ”¯æŒå‰ªè´´æ¿ä¸Šä¼ ï¼Œæˆªå›¾å·¥å…·æ¨èwin10çš„Snipasteç¥å™¨ï¼ï¼‰ï¼Œè¯•è¯•çœ‹</p>
<h2 id="è¶…çº§å¿«æœ‰æœ¨æœ‰æ¯”githubå¿«å¾ˆå¤š01ç§’ä¸Šä¼ è€Œä¸”å¯¼å…¥åˆ°ä½ çš„markdownç¼–è¾‘å™¨é‡Œé¢ä¹Ÿæ˜¯ç§’è¯†åˆ«ä½ çš„å›¾ç‰‡å†…å®¹è€Œå¦‚æœæ˜¯githubå›¾åºŠä¸Šä¼ å¤ªæ…¢ä¸è¯´å¯èƒ½è¿˜ä¼šå‡ºç°ä¸‹é¢è¿™æ ·è¯†åˆ«ä¸å‡ºæ¥çš„é—®é¢˜"><strong><code>è¶…çº§å¿«æœ‰æœ¨æœ‰ï¼æ¯”githubå¿«å¾ˆå¤šï¼Œ0.1ç§’ä¸Šä¼ ï¼Œè€Œä¸”å¯¼å…¥åˆ°ä½ çš„markdownç¼–è¾‘å™¨é‡Œé¢ä¹Ÿæ˜¯ç§’è¯†åˆ«ä½ çš„å›¾ç‰‡å†…å®¹ï¼Œè€Œå¦‚æœæ˜¯githubå›¾åºŠä¸Šä¼ å¤ªæ…¢ä¸è¯´å¯èƒ½è¿˜ä¼šå‡ºç°ä¸‹é¢è¿™æ ·è¯†åˆ«ä¸å‡ºæ¥çš„é—®é¢˜ï¼</code></strong></h2>
<h3 id="ä¸Šä¼ ä¹‹åé»˜è®¤å¤åˆ¶é“¾æ¥ç›´æ¥ç²˜è´´åˆ°ä½ çš„markdownç¼–è¾‘å™¨é‡Œå°±å¯ä»¥æ„‰å¿«çš„è¿›è¡Œå†™ä½œäº†">ä¸Šä¼ ä¹‹åé»˜è®¤å¤åˆ¶é“¾æ¥ï¼Œç›´æ¥ç²˜è´´åˆ°ä½ çš„markdownç¼–è¾‘å™¨é‡Œï¼Œå°±å¯ä»¥æ„‰å¿«çš„è¿›è¡Œå†™ä½œäº†ï¼</h3>
<p>åŸæ–‡ï¼š<a href="https://www.jianshu.com/p/b69950a49ae2">https://www.jianshu.com/p/b69950a49ae2</a></p>
]]></description><category domain="https://raycoder.me/categories/picgo/">Picgo</category><category domain="https://raycoder.me/categories/%E5%9B%BE%E5%BA%8A/">å›¾åºŠ</category><category domain="https://raycoder.me/tags/picgo/">Picgo</category><category domain="https://raycoder.me/tags/gitee/">Gitee</category><category domain="https://raycoder.me/tags/%E5%B7%A5%E5%85%B7/">å·¥å…·</category></item></channel></rss>